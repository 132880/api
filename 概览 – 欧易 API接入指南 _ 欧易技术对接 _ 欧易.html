<!DOCTYPE html>
<!-- saved from url=(0040)https://www.okx.com/docs-v5/zh/#overview -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>概览  – 欧易 API接入指南 | 欧易技术对接 | 欧易</title>
    <meta name="description" content="欢迎来到欧易API接入指南,欧易技术对接。欧易是全球领先的比特币交易平台，使用银行级别的SSL加密和冷存储等技术，为用户提供安全稳定的数字资产服务。">
    <meta name="keywords" content="欧易API接入指南,欧易技术对接">

    <link rel="shortcut icon" href="https://static.coinall.ltd/cdn/assets/imgs/221/A73079733B3789DA.png" type="image/png">


      <link rel="canonical" href="https://www.okx.com/docs-v5/zh/">
      <link rel="alternate" href="https://www.okx.com/docs-v5/zh/" hreflang="zh-Hans">
      <link rel="alternate" href="https://www.okx.com/docs-v5/en/" hreflang="en">
      <link rel="alternate" href="https://www.okx.com/docs-v5/en/" hreflang="x-default">



    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/screen-0cf183b4.css" rel="stylesheet" media="screen">
    <link href="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/print-2731ee0a.css" rel="stylesheet" media="print">
      <script type="text/javascript" integrity="sha384-Zjo8RUFg5Yqd1RrmP6raXmuRVOWdstZw1jbsr6ssfu0KGRWb0JixIs3Kvj6MPBMJ" crossorigin="anonymous" async="" src="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/amplitude-8.2.3-min.gz.js.下载"></script><script src="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/all_nosearch-30221305.js.下载"></script>

    <script>
      var currentHref = window.location.href;
      var pathname = window.location.pathname;
      var pathArr = pathname.split('/').reverse();
      var modules = ['zh', 'broker_zh', 'trick_zh', 'log_zh'];
      var moduleType = pathArr[1];
      var moduleIndex = modules.indexOf(moduleType);
      var switchLanguage = true;

      $(function() {
        setupCodeCopy();
        $('.toc-nav-list li').removeClass("selected").eq(moduleIndex).addClass('selected');
        $('.toc-nav-dropdown option').removeAttr("selected").eq(moduleIndex).prop('selected', true);
      });
      function changeHyperlink() {
        if (switchLanguage) {
            switchLanguage = false;
            var hash = window.location.hash;
            window.location.href = pathname.replace("zh","en") + hash;
        }
      }
      function changeMenuLink(type) {
        pathArr[1] = type;
        window.location.href = pathArr.reverse().join('/');
      }
    </script>
    <style>
        .content aside.notice:before {
                content: '';
                display: inline-block;
                height: 16px;
                width: 16px;
                background-image: url("data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAD1BMVEUAAAAgX+wgYOsgYOsgX+zxKDX3AAAABHRSTlMAv4BAMM4GbAAAAIhJREFUKM+NkcsRgCAMRP0V4GgK0BkK8GABBum/JgdYFxQO5AL7CEtm6Rpr3EWXI9PifG0/7ewLToe60eBY0WaCYotJQL0ewnaN+OCNGQvfsAITWqRRJGzANYGJIPZemKYGJAdaAwaAz54AHKzHiQkccQAgRflMTpPoVERYD5kJKL9qgC6+sq0e+31Meuswx+MAAAAASUVORK5CYII=");
                background-repeat: no-repeat;
                background-size: auto 100%;
                padding: 0;
                margin-right: 7px;
                vertical-align: text-bottom;
              }
          .content aside.warning:before {
              content: '';
              display: inline-block;
              height: 16px;
              width: 16px;
              background-image: url("data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAD1BMVEUAAADjYGDjXl7jXV3jXl6rsL0UAAAABHRSTlMAQIC/o1TdDAAAAIpJREFUKM+dkd0NgCAMhAEdwL8BNHEAjQ7gz+0/k4HDFsML8Z7gS3twrSlW236u3Q7co94dgoRYRDURzAC2DcCVFBijJbWCQzrQWEgPCMTWKeDLVQoW70ng8LoOrCU4/wGarr2YVki0yMduHYlNPRiOJw1X86can8F3htWeQLMh52sQ4hc1Zass1ANrMkLgf7knqgAAAABJRU5ErkJggg==");
              background-repeat: no-repeat;
              background-size: auto 100%;
              padding: 0;
              margin-right: 7px;
            vertical-align: text-bottom;
            }
            .toc-wrapper .search:before {
                content: '';
                height: 12px;
                width: 12px;
                background-image: url("data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAgL9ARyeO/QAAAKpJREFUKM9lkdENwyAMRE3oAE3FAFFhABQxQEpu/5naXjGulfsyjztjZPkq7sBaZSoWfPS6/59JFDTAkQgg17gCqAQ3gOkAHASJVhadFzSw+mUW616wscVhz51MjoSaC4NjgE4gHsAA6yvwEd80ECRsE/DZpoNxRj96Ioj2uVGV+f1RLONiBwEzWLkJDTeoLEz1pJZQeK7BdvN49lxFpsVmx2kn24S3iFfKb13fLBtfa1iNAAAAAElFTkSuQmCC");
              background-repeat: no-repeat;
              background-size: auto 100%;
              top: 19px
            }
        </style>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="https://www.okx.com/docs-v5/zh/#" id="nav-button">
      <!--<span>
        <img src="images/navbar-cad8cdcb.png" alt="Navbar">
      </span>-->
       <span>
         导航
         <img src="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/navbar-cad8cdcb.png" alt="">
       </span>
    </a>

    <header>
      <div class="toc-left">
        <a href="https://www.okx.com/">
          <img src="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/02D05B5ABB57940A.png" class="logo" alt="">
        </a>
        <div class="toc-split-line"></div>
        <ul class="toc-nav-list">
          <li class="selected"><a href="https://www.okx.com/docs-v5/zh">API接口</a></li>
          <li><a href="https://www.okx.com/docs-v5/broker_zh">Broker接入</a></li>
          <li><a href="https://www.okx.com/docs-v5/trick_zh">最佳实践</a></li>
          <li><a href="https://www.okx.com/docs-v5/log_zh">更新日志</a></li>
        </ul>
        <select class="toc-nav-dropdown" onchange="javascript:changeMenuLink(options[selectedIndex].value)">
          <option value="zh">API接口</option>
          <option value="broker_zh">Broker接入</option>
          <option value="trick_zh">最佳实践</option>
          <option value="log_zh">更新日志</option>
        </select>
      </div>

      <div class="switch-language">
        <a onclick="javascript:changeHyperlink()" class="toc-link" style="display: inline-block;" href="javascript:void(0);">English</a>
      </div>
    </header>
    <div class="toc-wrapper">
          <div class="lang-selector">
                <a href="https://www.okx.com/docs-v5/zh/#" data-language-name="shell" class="active">HTTP</a>
                <a href="https://www.okx.com/docs-v5/zh/#" data-language-name="python">Python</a>
          </div>
        <ul id="toc" class="toc-list-h1">
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#overview" class="toc-h1 toc-link active" data-title="概览 ">概览 </a>
                <ul class="toc-list-h2 active" style="display: block;">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-api-resources-and-support" class="toc-h2 toc-link" data-title="API学习资源与技术支持 ">API学习资源与技术支持 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-api-resources-and-support-tutorials" class="toc-h3 toc-link" data-title="教程 ">教程 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-api-resources-and-support-python-libraries" class="toc-h3 toc-link" data-title="Python包 ">Python包 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-api-resources-and-support-customer-service" class="toc-h3 toc-link" data-title="客户服务 ">客户服务 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-v5-api-key-creation" class="toc-h2 toc-link" data-title="创建我的APIKey ">创建我的APIKey </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-rest-authentication" class="toc-h2 toc-link" data-title="REST 请求验证 ">REST 请求验证 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-rest-authentication-making-requests" class="toc-h3 toc-link" data-title="发起请求 ">发起请求 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-rest-authentication-signature" class="toc-h3 toc-link" data-title="签名 ">签名 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-websocket" class="toc-h2 toc-link" data-title="WebSocket ">WebSocket </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-overview" class="toc-h3 toc-link" data-title="概述 ">概述 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connect" class="toc-h3 toc-link" data-title="连接 ">连接 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit" class="toc-h3 toc-link" data-title="连接限制 ">连接限制 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-login" class="toc-h3 toc-link" data-title="登录 ">登录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-subscribe" class="toc-h3 toc-link" data-title="订阅 ">订阅 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-unsubscribe" class="toc-h3 toc-link" data-title="取消订阅 ">取消订阅 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-websocket-notification" class="toc-h3 toc-link" data-title="通知 ">通知 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-account-mode" class="toc-h2 toc-link" data-title="账户模式 ">账户模式 </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-production-trading-services" class="toc-h2 toc-link" data-title="实盘交易 ">实盘交易 </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-demo-trading-services" class="toc-h2 toc-link" data-title="模拟盘交易 ">模拟盘交易 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-demo-trading-services-demo-trading-explorer" class="toc-h3 toc-link" data-title="模拟盘交互式浏览器 ">模拟盘交互式浏览器 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-general-info" class="toc-h2 toc-link" data-title="基本信息 ">基本信息 </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-transaction-timeouts" class="toc-h2 toc-link" data-title="交易时效性 ">交易时效性 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-transaction-timeouts-rest-api" class="toc-h3 toc-link" data-title="REST API ">REST API </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-transaction-timeouts-websocket" class="toc-h3 toc-link" data-title="WebSocket ">WebSocket </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-rate-limits" class="toc-h2 toc-link" data-title="限速 ">限速 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-rate-limits-trading-related-apis" class="toc-h3 toc-link" data-title="交易相关API ">交易相关API </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-rate-limits-sub-account-rate-limit" class="toc-h3 toc-link" data-title="子账户限速 ">子账户限速 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit" class="toc-h3 toc-link" data-title="基于成交比率的子账户限速 ">基于成交比率的子账户限速 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#overview-rate-limits-best-practices" class="toc-h3 toc-link" data-title="最佳实践 ">最佳实践 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-market-maker-program" class="toc-h2 toc-link" data-title="做市商申请 ">做市商申请 </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#overview-broker-program" class="toc-h2 toc-link" data-title="经纪商申请 ">经纪商申请 </a>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#trading-account" class="toc-h1 toc-link" data-title="交易账户 ">交易账户 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-instruments" class="toc-h3 toc-link" data-title="获取交易产品基础信息 ">获取交易产品基础信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-balance" class="toc-h3 toc-link" data-title="查看账户余额 ">查看账户余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-positions" class="toc-h3 toc-link" data-title="查看持仓信息 ">查看持仓信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-positions-history" class="toc-h3 toc-link" data-title="查看历史持仓信息 ">查看历史持仓信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-account-and-position-risk" class="toc-h3 toc-link" data-title="查看账户持仓风险 ">查看账户持仓风险 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-bills-details-last-7-days" class="toc-h3 toc-link" data-title="账单流水查询（近七天）">账单流水查询（近七天）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-bills-details-last-3-months" class="toc-h3 toc-link" data-title="账单流水查询（近三月）">账单流水查询（近三月）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-apply-bills-details-since-2021" class="toc-h3 toc-link" data-title="申请账单流水（自 2021 年） ">申请账单流水（自 2021 年） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-bills-details-since-2021" class="toc-h3 toc-link" data-title="获取账单流水（自 2021 年） ">获取账单流水（自 2021 年） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-account-configuration" class="toc-h3 toc-link" data-title="查看账户配置 ">查看账户配置 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-position-mode" class="toc-h3 toc-link" data-title="设置持仓模式 ">设置持仓模式 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-leverage" class="toc-h3 toc-link" data-title="设置杠杆倍数 ">设置杠杆倍数 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-maximum-order-quantity" class="toc-h3 toc-link" data-title="获取最大可下单数量 ">获取最大可下单数量 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-maximum-available-balance-equity" class="toc-h3 toc-link" data-title="获取最大可用余额/保证金 ">获取最大可用余额/保证金 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-increase-decrease-margin" class="toc-h3 toc-link" data-title="调整保证金 ">调整保证金 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-leverage" class="toc-h3 toc-link" data-title="获取杠杆倍数 ">获取杠杆倍数 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-leverage-estimated-info" class="toc-h3 toc-link" data-title="获取杠杆倍数预估信息 ">获取杠杆倍数预估信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-the-maximum-loan-of-instrument" class="toc-h3 toc-link" data-title="获取交易产品最大可借 ">获取交易产品最大可借 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-fee-rates" class="toc-h3 toc-link" data-title="获取当前账户交易手续费费率 ">获取当前账户交易手续费费率 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-interest-accrued-data" class="toc-h3 toc-link" data-title="获取计息记录 ">获取计息记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-interest-rate" class="toc-h3 toc-link" data-title="获取用户当前市场借币利率  ">获取用户当前市场借币利率  </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-greeks-pa-bs" class="toc-h3 toc-link" data-title="期权greeks的PA/BS切换 ">期权greeks的PA/BS切换 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-isolated-margin-trading-settings" class="toc-h3 toc-link" data-title="逐仓交易设置 ">逐仓交易设置 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-maximum-withdrawals" class="toc-h3 toc-link" data-title="查看账户最大可转余额 ">查看账户最大可转余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-account-risk-state" class="toc-h3 toc-link" data-title="查看账户特定风险状态 ">查看账户特定风险状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-manual-borrow-and-repay-in-quick-margin-mode" class="toc-h3 toc-link" data-title="一键借币模式手动借币还币 ">一键借币模式手动借币还币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-borrow-and-repay-history-in-quick-margin-mode" class="toc-h3 toc-link" data-title="获取一键借币还币历史 ">获取一键借币还币历史 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-borrow-interest-and-limit" class="toc-h3 toc-link" data-title="获取借币利率与限额 ">获取借币利率与限额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-fixed-loan-borrow-limit" class="toc-h3 toc-link" data-title="获取固定借币限额 ">获取固定借币限额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-fixed-loan-borrow-quote" class="toc-h3 toc-link" data-title="获取固定借币询价 ">获取固定借币询价 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-place-fixed-loan-borrowing-order" class="toc-h3 toc-link" data-title="固定借币下单 ">固定借币下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-amend-fixed-loan-borrowing-order" class="toc-h3 toc-link" data-title="修改固定借币订单 ">修改固定借币订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-manual-renew-fixed-loan-borrowing-order" class="toc-h3 toc-link" data-title="固定借币手动续借 ">固定借币手动续借 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-repay-fixed-loan-borrowing-order" class="toc-h3 toc-link" data-title="固定借币手动还币 ">固定借币手动还币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-convert-fixed-loan-to-market-loan" class="toc-h3 toc-link" data-title="固定借币转市场借币 ">固定借币转市场借币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-reduce-liabilities-for-fixed-loan" class="toc-h3 toc-link" data-title="固定借币减少负债 ">固定借币减少负债 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-fixed-loan-borrow-order-list" class="toc-h3 toc-link" data-title="获取固定借币订单信息 ">获取固定借币订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-manual-borrow-repay" class="toc-h3 toc-link" data-title="手动借/还币 ">手动借/还币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-auto-repay" class="toc-h3 toc-link" data-title="设置自动还币 ">设置自动还币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-borrow-repay-history" class="toc-h3 toc-link" data-title="获取借/还币历史 ">获取借/还币历史 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-position-builder-new" class="toc-h3 toc-link" data-title="仓位创建器 ">仓位创建器 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-risk-offset-amount" class="toc-h3 toc-link" data-title="设置现货对冲占用 ">设置现货对冲占用 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-greeks" class="toc-h3 toc-link" data-title="查看账户Greeks ">查看账户Greeks </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-pm-position-limitation" class="toc-h3 toc-link" data-title="获取组合保证金模式仓位限制 ">获取组合保证金模式仓位限制 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-activate-option" class="toc-h3 toc-link" data-title="开通期权交易 ">开通期权交易 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-auto-loan" class="toc-h3 toc-link" data-title="设置自动借币 ">设置自动借币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-preset-account-mode-switch" class="toc-h3 toc-link" data-title="预设置账户模式切换 ">预设置账户模式切换 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-precheck-account-mode-switch" class="toc-h3 toc-link" data-title="预检查账户模式切换 ">预检查账户模式切换 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-account-mode" class="toc-h3 toc-link" data-title="设置账户模式 ">设置账户模式 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-reset-mmp-status" class="toc-h3 toc-link" data-title="重置 MMP 状态 ">重置 MMP 状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-set-mmp" class="toc-h3 toc-link" data-title="设置 MMP ">设置 MMP </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-mmp-config" class="toc-h3 toc-link" data-title="查看 MMP 配置 ">查看 MMP 配置 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket" class="toc-h2 toc-link" data-title="WebSocket ">WebSocket </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-account-channel" class="toc-h3 toc-link" data-title="账户频道 ">账户频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-positions-channel" class="toc-h3 toc-link" data-title="持仓频道 ">持仓频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-balance-and-position-channel" class="toc-h3 toc-link" data-title="账户余额和持仓频道 ">账户余额和持仓频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-position-risk-warning" class="toc-h3 toc-link" data-title="爆仓风险预警推送频道 ">爆仓风险预警推送频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-account-greeks-channel" class="toc-h3 toc-link" data-title="账户greeks频道 ">账户greeks频道 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading" class="toc-h1 toc-link" data-title="撮合交易 ">撮合交易 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade" class="toc-h2 toc-link" data-title="交易 ">交易 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-order" class="toc-h3 toc-link" data-title="POST / 下单 ">POST / 下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-multiple-orders" class="toc-h3 toc-link" data-title="POST / 批量下单 ">POST / 批量下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-cancel-order" class="toc-h3 toc-link" data-title="POST / 撤单 ">POST / 撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-cancel-multiple-orders" class="toc-h3 toc-link" data-title="POST / 批量撤单 ">POST / 批量撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-amend-order" class="toc-h3 toc-link" data-title="POST / 修改订单 ">POST / 修改订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-amend-multiple-orders" class="toc-h3 toc-link" data-title="POST / 批量修改订单 ">POST / 批量修改订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-close-positions" class="toc-h3 toc-link" data-title="POST / 市价仓位全平 ">POST / 市价仓位全平 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-order-details" class="toc-h3 toc-link" data-title="GET / 获取订单信息 ">GET / 获取订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-order-list" class="toc-h3 toc-link" data-title="GET / 获取未成交订单列表 ">GET / 获取未成交订单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-order-history-last-7-days" class="toc-h3 toc-link" data-title="GET / 获取历史订单记录（近七天）">GET / 获取历史订单记录（近七天）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-order-history-last-3-months" class="toc-h3 toc-link" data-title="GET / 获取历史订单记录（近三个月）">GET / 获取历史订单记录（近三个月）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-transaction-details-last-3-days" class="toc-h3 toc-link" data-title="GET / 获取成交明细（近三天） ">GET / 获取成交明细（近三天） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-transaction-details-last-3-months" class="toc-h3 toc-link" data-title="GET / 获取成交明细（近三个月） ">GET / 获取成交明细（近三个月） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-easy-convert-currency-list" class="toc-h3 toc-link" data-title="GET / 获取一键兑换主流币币种列表 ">GET / 获取一键兑换主流币币种列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-easy-convert" class="toc-h3 toc-link" data-title="POST / 一键兑换主流币交易 ">POST / 一键兑换主流币交易 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-easy-convert-history" class="toc-h3 toc-link" data-title="GET / 获取一键兑换主流币历史记录 ">GET / 获取一键兑换主流币历史记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-one-click-repay-currency-list" class="toc-h3 toc-link" data-title="GET / 获取一键还债币种列表 ">GET / 获取一键还债币种列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-trade-one-click-repay" class="toc-h3 toc-link" data-title="POST / 一键还债交易 ">POST / 一键还债交易 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-one-click-repay-history" class="toc-h3 toc-link" data-title="GET / 获取一键还债历史记录 ">GET / 获取一键还债历史记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-mass-cancel-order" class="toc-h3 toc-link" data-title="POST / 撤销 MMP 订单">POST / 撤销 MMP 订单</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-cancel-all-after" class="toc-h3 toc-link" data-title="POST / 倒计时全部撤单">POST / 倒计时全部撤单</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-account-rate-limit" class="toc-h3 toc-link" data-title="GET / 获取账户限速 ">GET / 获取账户限速 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-order-precheck" class="toc-h3 toc-link" data-title="POST / 订单预检查 ">POST / 订单预检查 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-order-channel" class="toc-h3 toc-link" data-title="WS / 订单频道 ">WS / 订单频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-fills-channel" class="toc-h3 toc-link" data-title="WS / 成交频道 ">WS / 成交频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-order" class="toc-h3 toc-link" data-title="WS / 下单 ">WS / 下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-multiple-orders" class="toc-h3 toc-link" data-title="WS / 批量下单 ">WS / 批量下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-cancel-order" class="toc-h3 toc-link" data-title="WS / 撤单 ">WS / 撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-cancel-multiple-orders" class="toc-h3 toc-link" data-title="WS / 批量撤单 ">WS / 批量撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-amend-order" class="toc-h3 toc-link" data-title="WS / 改单 ">WS / 改单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-amend-multiple-orders" class="toc-h3 toc-link" data-title="WS / 批量改单 ">WS / 批量改单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-mass-cancel-order" class="toc-h3 toc-link" data-title="WS / 撤销 MMP 订单 ">WS / 撤销 MMP 订单 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading" class="toc-h2 toc-link" data-title="策略交易 ">策略交易 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-place-algo-order" class="toc-h3 toc-link" data-title="POST / 策略委托下单 ">POST / 策略委托下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-cancel-algo-order" class="toc-h3 toc-link" data-title="POST / 撤销策略委托订单 ">POST / 撤销策略委托订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-amend-algo-order" class="toc-h3 toc-link" data-title="POST / 修改策略委托订单 ">POST / 修改策略委托订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-cancel-advance-algo-order" class="toc-h3 toc-link" data-title="POST / 撤销高级策略委托订单 ">POST / 撤销高级策略委托订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-get-algo-order-details" class="toc-h3 toc-link" data-title="GET / 获取策略委托单信息 ">GET / 获取策略委托单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-get-algo-order-list" class="toc-h3 toc-link" data-title="GET / 获取未完成策略委托单列表 ">GET / 获取未完成策略委托单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-get-algo-order-history" class="toc-h3 toc-link" data-title="GET / 获取历史策略委托单列表 ">GET / 获取历史策略委托单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-ws-algo-orders-channel" class="toc-h3 toc-link" data-title="WS / 策略委托订单频道 ">WS / 策略委托订单频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-ws-advance-algo-orders-channel" class="toc-h3 toc-link" data-title="WS / 高级策略委托订单频道 ">WS / 高级策略委托订单频道 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading" class="toc-h2 toc-link" data-title="网格交易 ">网格交易 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-place-grid-algo-order" class="toc-h3 toc-link" data-title="POST / 网格策略委托下单 ">POST / 网格策略委托下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-amend-grid-algo-order" class="toc-h3 toc-link" data-title="POST / 修改网格策略订单 ">POST / 修改网格策略订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-stop-grid-algo-order" class="toc-h3 toc-link" data-title="POST / 网格策略停止 ">POST / 网格策略停止 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-close-position-for-contract-grid" class="toc-h3 toc-link" data-title="POST / 合约网格平仓 ">POST / 合约网格平仓 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-cancel-close-position-order-for-contract-grid" class="toc-h3 toc-link" data-title="POST / 撤销合约网格平仓单 ">POST / 撤销合约网格平仓单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-instant-trigger-grid-algo-order" class="toc-h3 toc-link" data-title="POST / 网格策略立即触发 ">POST / 网格策略立即触发 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-grid-algo-order-list" class="toc-h3 toc-link" data-title="GET / 获取未完成网格策略委托单列表 ">GET / 获取未完成网格策略委托单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-grid-algo-order-history" class="toc-h3 toc-link" data-title="GET / 获取历史网格策略委托单列表 ">GET / 获取历史网格策略委托单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-grid-algo-order-details" class="toc-h3 toc-link" data-title="GET / 获取网格策略委托订单详情 ">GET / 获取网格策略委托订单详情 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-grid-algo-sub-orders" class="toc-h3 toc-link" data-title="GET / 获取网格策略委托子订单信息 ">GET / 获取网格策略委托子订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-grid-algo-order-positions" class="toc-h3 toc-link" data-title="GET / 获取网格策略委托持仓 ">GET / 获取网格策略委托持仓 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-spot-grid-withdraw-income" class="toc-h3 toc-link" data-title="POST / 现货网格提取利润 ">POST / 现货网格提取利润 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-compute-margin-balance" class="toc-h3 toc-link" data-title="POST / 调整保证金计算 ">POST / 调整保证金计算 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-adjust-margin-balance" class="toc-h3 toc-link" data-title="POST / 调整保证金 ">POST / 调整保证金 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-add-investment" class="toc-h3 toc-link" data-title="POST / 加仓 ">POST / 加仓 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-grid-ai-parameter-public" class="toc-h3 toc-link" data-title="GET / 网格策略智能回测（公共） ">GET / 网格策略智能回测（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-post-compute-min-investment-public" class="toc-h3 toc-link" data-title="POST / 计算最小投资数量（公共） ">POST / 计算最小投资数量（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-rsi-back-testing-public" class="toc-h3 toc-link" data-title="GET / RSI回测（公共） ">GET / RSI回测（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-get-max-grid-quantity-public" class="toc-h3 toc-link" data-title="GET / 最大网格数量（公共） ">GET / 最大网格数量（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-ws-spot-grid-algo-orders-channel" class="toc-h3 toc-link" data-title="WS / 现货网格策略委托订单频道 ">WS / 现货网格策略委托订单频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-ws-contract-grid-algo-orders-channel" class="toc-h3 toc-link" data-title="WS / 合约网格策略委托订单频道 ">WS / 合约网格策略委托订单频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-ws-grid-positions-channel" class="toc-h3 toc-link" data-title="WS / 合约网格持仓频道 ">WS / 合约网格持仓频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-grid-trading-ws-grid-sub-orders-channel" class="toc-h3 toc-link" data-title="WS / 网格策略子订单频道 ">WS / 网格策略子订单频道 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading" class="toc-h2 toc-link" data-title="信号交易 ">信号交易 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-create-signal" class="toc-h3 toc-link" data-title="POST / 创建信号 ">POST / 创建信号 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-signals" class="toc-h3 toc-link" data-title="GET / 查询所有信号 ">GET / 查询所有信号 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-create-signal-bot" class="toc-h3 toc-link" data-title="POST / 创建信号策略 ">POST / 创建信号策略 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-cancel-signal-bots" class="toc-h3 toc-link" data-title="POST / 停止信号策略 ">POST / 停止信号策略 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-adjust-margin-balance" class="toc-h3 toc-link" data-title="POST / 调整保证金 ">POST / 调整保证金 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-amend-tpsl" class="toc-h3 toc-link" data-title="POST / 修改止盈止损 ">POST / 修改止盈止损 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-set-instruments" class="toc-h3 toc-link" data-title="POST / 设置币对 ">POST / 设置币对 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-signal-bot-order-details" class="toc-h3 toc-link" data-title="GET / 获取信号策略详情 ">GET / 获取信号策略详情 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-active-signal-bot" class="toc-h3 toc-link" data-title="GET / 获取活跃信号策略 ">GET / 获取活跃信号策略 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-history-signal-bot" class="toc-h3 toc-link" data-title="GET / 获取历史信号策略 ">GET / 获取历史信号策略 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-signal-bot-order-positions" class="toc-h3 toc-link" data-title="GET / 获取信号策略持仓 ">GET / 获取信号策略持仓 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-position-history" class="toc-h3 toc-link" data-title="GET /查看历史持仓信息 ">GET /查看历史持仓信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-close-position" class="toc-h3 toc-link" data-title="POST / 市价仓位全平 ">POST / 市价仓位全平 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-place-sub-order" class="toc-h3 toc-link" data-title="POST / 下单 ">POST / 下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-post-cancel-sub-order" class="toc-h3 toc-link" data-title="POST / 撤单 ">POST / 撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-signal-bot-sub-orders" class="toc-h3 toc-link" data-title="GET / 获取信号策略子订单信息 ">GET / 获取信号策略子订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-signal-bot-trading-get-signal-bot-event-history" class="toc-h3 toc-link" data-title="GET / 获取信号策略历史事件 ">GET / 获取信号策略历史事件 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy" class="toc-h2 toc-link" data-title="定投 ">定投 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-post-place-recurring-buy-order" class="toc-h3 toc-link" data-title="POST / 定投策略委托下单 ">POST / 定投策略委托下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-post-amend-recurring-buy-order" class="toc-h3 toc-link" data-title="POST / 修改定投策略订单 ">POST / 修改定投策略订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-post-stop-recurring-buy-order" class="toc-h3 toc-link" data-title="POST / 定投策略停止 ">POST / 定投策略停止 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-get-recurring-buy-order-list" class="toc-h3 toc-link" data-title="GET / 获取未完成定投策略委托单列表 ">GET / 获取未完成定投策略委托单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-get-recurring-buy-order-history" class="toc-h3 toc-link" data-title="GET / 获取历史定投策略委托单列表 ">GET / 获取历史定投策略委托单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-get-recurring-buy-order-details" class="toc-h3 toc-link" data-title="GET / 获取定投策略委托订单详情 ">GET / 获取定投策略委托订单详情 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-get-recurring-buy-sub-orders" class="toc-h3 toc-link" data-title="GET / 获取定投策略子订单信息 ">GET / 获取定投策略子订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-recurring-buy-ws-recurring-buy-orders-channel" class="toc-h3 toc-link" data-title="WS / 定投策略委托订单频道 ">WS / 定投策略委托订单频道 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading" class="toc-h2 toc-link" data-title="跟单 ">跟单 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-existing-lead-positions" class="toc-h3 toc-link" data-title="GET / 获取当前带单 ">GET / 获取当前带单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-position-history" class="toc-h3 toc-link" data-title="GET / 获取历史带单 ">GET / 获取历史带单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-place-lead-stop-order" class="toc-h3 toc-link" data-title="POST / 带单或跟单仓位止盈止损 ">POST / 带单或跟单仓位止盈止损 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-close-lead-position" class="toc-h3 toc-link" data-title="POST / 平仓带单 ">POST / 平仓带单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-leading-instruments" class="toc-h3 toc-link" data-title="GET / 获取带单产品 ">GET / 获取带单产品 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-amend-leading-instruments" class="toc-h3 toc-link" data-title="POST / 交易员修改带单产品 ">POST / 交易员修改带单产品 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-profit-sharing-details" class="toc-h3 toc-link" data-title="GET / 交易员历史分润明细 ">GET / 交易员历史分润明细 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-total-profit-sharing" class="toc-h3 toc-link" data-title="GET / 交易员历史分润汇总 ">GET / 交易员历史分润汇总 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-unrealized-profit-sharing-details" class="toc-h3 toc-link" data-title="GET / 交易员待分润明细 ">GET / 交易员待分润明细 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-total-unrealized-profit-sharing" class="toc-h3 toc-link" data-title="GET / 交易员待分润汇总 ">GET / 交易员待分润汇总 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-amend-profit-sharing-ratio" class="toc-h3 toc-link" data-title="POST / 修改分润比例 ">POST / 修改分润比例 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-account-configuration" class="toc-h3 toc-link" data-title="GET / 查看账户配置信息 ">GET / 查看账户配置信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-first-copy-settings" class="toc-h3 toc-link" data-title="POST / 首次跟单设置 ">POST / 首次跟单设置 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-amend-copy-settings" class="toc-h3 toc-link" data-title="POST / 修改跟单设置 ">POST / 修改跟单设置 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-stop-copying" class="toc-h3 toc-link" data-title="POST / 停止跟单 ">POST / 停止跟单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-copy-settings" class="toc-h3 toc-link" data-title="GET / 获取跟单设置 ">GET / 获取跟单设置 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-my-lead-traders" class="toc-h3 toc-link" data-title="GET / 获取我的交易员 ">GET / 获取我的交易员 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-copy-trading-configuration" class="toc-h3 toc-link" data-title="GET / 获取跟单配置信息 ">GET / 获取跟单配置信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-ranks" class="toc-h3 toc-link" data-title="GET / 获取交易员排名 ">GET / 获取交易员排名 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-weekly-pnl" class="toc-h3 toc-link" data-title="GET / 获取交易员收益周表现 ">GET / 获取交易员收益周表现 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-daily-pnl" class="toc-h3 toc-link" data-title="GET / 获取交易员收益日表现 ">GET / 获取交易员收益日表现 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-stats" class="toc-h3 toc-link" data-title="GET / 获取交易员带单情况 ">GET / 获取交易员带单情况 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-currency-preferences" class="toc-h3 toc-link" data-title="GET / 获取交易员币种偏好 ">GET / 获取交易员币种偏好 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-current-lead-positions" class="toc-h3 toc-link" data-title="GET / 获取交易员当前带单 ">GET / 获取交易员当前带单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-lead-trader-lead-position-history" class="toc-h3 toc-link" data-title="GET / 获取交易员历史带单 ">GET / 获取交易员历史带单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-copy-traders" class="toc-h3 toc-link" data-title="GET / 获取跟单人信息 ">GET / 获取跟单人信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-ws-lead-trading-notification-channel" class="toc-h3 toc-link" data-title="WS / 带单消息通知频道 ">WS / 带单消息通知频道 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data" class="toc-h2 toc-link" data-title="行情数据 ">行情数据 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-tickers" class="toc-h3 toc-link" data-title="GET / 获取所有产品行情信息 ">GET / 获取所有产品行情信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-ticker" class="toc-h3 toc-link" data-title="GET / 获取单个产品行情信息 ">GET / 获取单个产品行情信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-order-book" class="toc-h3 toc-link" data-title="GET / 获取产品深度 ">GET / 获取产品深度 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-full-order-book" class="toc-h3 toc-link" data-title="GET / 获取产品完整深度 ">GET / 获取产品完整深度 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-candlesticks" class="toc-h3 toc-link" data-title="GET / 获取交易产品K线数据 ">GET / 获取交易产品K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-candlesticks-history" class="toc-h3 toc-link" data-title="GET / 获取交易产品历史K线数据">GET / 获取交易产品历史K线数据</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-trades" class="toc-h3 toc-link" data-title="GET / 获取交易产品公共成交数据 ">GET / 获取交易产品公共成交数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-trades-history" class="toc-h3 toc-link" data-title="GET / 获取交易产品公共历史成交数据 ">GET / 获取交易产品公共历史成交数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-option-trades-by-instrument-family" class="toc-h3 toc-link" data-title="GET / 获取期权品种公共成交数据 ">GET / 获取期权品种公共成交数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-option-trades" class="toc-h3 toc-link" data-title="GET / 获取期权公共成交数据">GET / 获取期权公共成交数据</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-24h-total-volume" class="toc-h3 toc-link" data-title="GET / 获取平台24小时总成交量 ">GET / 获取平台24小时总成交量 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-get-call-auction-details" class="toc-h3 toc-link" data-title="GET / 集合竞价信息 ">GET / 集合竞价信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-tickers-channel" class="toc-h3 toc-link" data-title="WS / 行情频道 ">WS / 行情频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-candlesticks-channel" class="toc-h3 toc-link" data-title="WS / K线频道 ">WS / K线频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-trades-channel" class="toc-h3 toc-link" data-title="WS / 交易频道 ">WS / 交易频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-all-trades-channel" class="toc-h3 toc-link" data-title="WS / 全部交易频道 ">WS / 全部交易频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-order-book-channel" class="toc-h3 toc-link" data-title="WS / 深度频道 ">WS / 深度频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-option-trades-channel" class="toc-h3 toc-link" data-title="WS / 期权公共成交频道 ">WS / 期权公共成交频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-market-data-ws-call-auction-details-channel" class="toc-h3 toc-link" data-title="WS / 集合竞价信息频道 ">WS / 集合竞价信息频道 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#block-trading" class="toc-h1 toc-link" data-title="大宗交易 ">大宗交易 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#block-trading-block-trading-workflow" class="toc-h2 toc-link" data-title="大宗交易工作流程 ">大宗交易工作流程 </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-counterparties" class="toc-h3 toc-link" data-title="获取报价方信息 ">获取报价方信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-create-rfq" class="toc-h3 toc-link" data-title="询价 ">询价 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-rfq" class="toc-h3 toc-link" data-title="取消询价单 ">取消询价单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-multiple-rfqs" class="toc-h3 toc-link" data-title="批量取消询价单 ">批量取消询价单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-all-rfqs" class="toc-h3 toc-link" data-title="取消所有询价单 ">取消所有询价单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-execute-quote" class="toc-h3 toc-link" data-title="执行报价">执行报价</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-quote-products" class="toc-h3 toc-link" data-title="获取可报价产品 ">获取可报价产品 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-set-quote-products" class="toc-h3 toc-link" data-title="设置可报价产品 ">设置可报价产品 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-reset-mmp-status" class="toc-h3 toc-link" data-title="重设MMP状态 ">重设MMP状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-set-mmp" class="toc-h3 toc-link" data-title="设置 MMP ">设置 MMP </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-mmp-config" class="toc-h3 toc-link" data-title="查看 MMP 配置 ">查看 MMP 配置 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-create-quote" class="toc-h3 toc-link" data-title="报价 ">报价 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-quote" class="toc-h3 toc-link" data-title="取消报价单 ">取消报价单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-multiple-quotes" class="toc-h3 toc-link" data-title="批量取消报价单 ">批量取消报价单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-all-quotes" class="toc-h3 toc-link" data-title="取消所有报价单 ">取消所有报价单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-cancel-all-after" class="toc-h3 toc-link" data-title="倒计时全部撤单 ">倒计时全部撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-rfqs" class="toc-h3 toc-link" data-title="获取询价单信息 ">获取询价单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-quotes" class="toc-h3 toc-link" data-title="获取报价单信息 ">获取报价单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-trades" class="toc-h3 toc-link" data-title="获取大宗交易信息 ">获取大宗交易信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-block-tickers" class="toc-h3 toc-link" data-title="获取大宗交易所有产品行情信息 ">获取大宗交易所有产品行情信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-block-ticker" class="toc-h3 toc-link" data-title="获取大宗交易单个产品行情信息 ">获取大宗交易单个产品行情信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-public-multi-leg-transactions-of-block-trades" class="toc-h3 toc-link" data-title="获取大宗交易公共多腿成交数据 ">获取大宗交易公共多腿成交数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-rest-api-get-public-single-leg-transactions-of-block-trades" class="toc-h3 toc-link" data-title="获取大宗交易公共单腿成交数据 ">获取大宗交易公共单腿成交数据 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-private-channel" class="toc-h2 toc-link" data-title="WebSocket 私有频道 ">WebSocket 私有频道 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-private-channel-rfqs-channel" class="toc-h3 toc-link" data-title="询价频道 ">询价频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-private-channel-quotes-channel" class="toc-h3 toc-link" data-title="报价频道 ">报价频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-private-channel-structure-block-trades-channel" class="toc-h3 toc-link" data-title="大宗交易频道 ">大宗交易频道 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-public-channel" class="toc-h2 toc-link" data-title="WebSocket 公共频道 ">WebSocket 公共频道 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-public-channel-public-structure-block-trades-channel" class="toc-h3 toc-link" data-title="公共大宗交易频道 ">公共大宗交易频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-public-channel-public-block-trades-channel" class="toc-h3 toc-link" data-title="公共大宗交易单腿交易频道 ">公共大宗交易单腿交易频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#block-trading-websocket-public-channel-block-tickers-channel" class="toc-h3 toc-link" data-title="大宗交易行情频道 ">大宗交易行情频道 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#spread-trading" class="toc-h1 toc-link" data-title="价差交易 ">价差交易 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#spread-trading-introduction" class="toc-h2 toc-link" data-title="介绍 ">介绍 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-introduction-basic-concepts" class="toc-h3 toc-link" data-title="基本概念 ">基本概念 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-introduction-high-level-workflow" class="toc-h3 toc-link" data-title="基本工作流程 ">基本工作流程 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow" class="toc-h2 toc-link" data-title="全面的 API 工作流程 ">全面的 API 工作流程 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-obtaining-available-spreads" class="toc-h3 toc-link" data-title="获取可用Spreads ">获取可用Spreads </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-retrieving-your-orders" class="toc-h3 toc-link" data-title="检索您的订单">检索您的订单</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-retrieving-your-trades" class="toc-h3 toc-link" data-title="检索您的交易">检索您的交易</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-submitting-an-order" class="toc-h3 toc-link" data-title="提交订单 ">提交订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-spread-states" class="toc-h3 toc-link" data-title="Spread状态 ">Spread状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-trade-lifecycle" class="toc-h3 toc-link" data-title="交易生命周期 ">交易生命周期 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-order-state" class="toc-h3 toc-link" data-title="用户的订单状态 ">用户的订单状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-trade-state" class="toc-h3 toc-link" data-title="用户的交易状态 ">用户的交易状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-comprehensive-api-workflow-all-trades" class="toc-h3 toc-link" data-title="所有交易 ">所有交易 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-place-order" class="toc-h3 toc-link" data-title="下单 ">下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-cancel-order" class="toc-h3 toc-link" data-title="撤单 ">撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-cancel-all-orders" class="toc-h3 toc-link" data-title="全部撤单 ">全部撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-amend-order" class="toc-h3 toc-link" data-title="修改订单 ">修改订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-order-details" class="toc-h3 toc-link" data-title="获取订单信息 ">获取订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-active-orders" class="toc-h3 toc-link" data-title="获取未成交订单列表 ">获取未成交订单列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-orders-last-21-days" class="toc-h3 toc-link" data-title="获取历史订单记录（近21天) ">获取历史订单记录（近21天) </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-orders-history-last-3-months" class="toc-h3 toc-link" data-title="获取历史订单记录（近三月) ">获取历史订单记录（近三月) </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-trades-last-7-days" class="toc-h3 toc-link" data-title="获取历史成交数据（近七天）">获取历史成交数据（近七天）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-spreads-public" class="toc-h3 toc-link" data-title="获取Spreads（公共） ">获取Spreads（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-order-book-public" class="toc-h3 toc-link" data-title="获取Spread产品深度（公共） ">获取Spread产品深度（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-ticker-public" class="toc-h3 toc-link" data-title="获取单个Spread产品行情信息（公共） ">获取单个Spread产品行情信息（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-public-trades-public" class="toc-h3 toc-link" data-title="获取公共成交数据（公共） ">获取公共成交数据（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-candlesticks" class="toc-h3 toc-link" data-title="获取价差交易产品K线数据 ">获取价差交易产品K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-get-candlesticks-history" class="toc-h3 toc-link" data-title="获取价差交易产品历史K线数据 ">获取价差交易产品历史K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-rest-api-cancel-all-after" class="toc-h3 toc-link" data-title="倒计时全部撤单 ">倒计时全部撤单 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#websocket-api" class="toc-h2 toc-link" data-title="Websocket交易API">Websocket交易API</a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-trade-api-ws-place-order" class="toc-h3 toc-link" data-title="WS / 下单 ">WS / 下单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-trade-api-ws-amend-order" class="toc-h3 toc-link" data-title="WS / 改单 ">WS / 改单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-trade-api-ws-cancel-order" class="toc-h3 toc-link" data-title="WS / 撤单 ">WS / 撤单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-trade-api-ws-cancel-all-orders" class="toc-h3 toc-link" data-title="WS / 全部撤单 ">WS / 全部撤单 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-private-channel" class="toc-h2 toc-link" data-title="WebSocket私有频道 ">WebSocket私有频道 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-private-channel-order-channel" class="toc-h3 toc-link" data-title="订单频道 ">订单频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-private-channel-trades-channel" class="toc-h3 toc-link" data-title="成交数据频道 ">成交数据频道 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-public-channel" class="toc-h2 toc-link" data-title="WebSocket公共频道 ">WebSocket公共频道 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-public-channel-order-book-channel" class="toc-h3 toc-link" data-title="深度频道 ">深度频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-public-channel-public-trades-channel" class="toc-h3 toc-link" data-title="公共成交数据频道 ">公共成交数据频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-public-channel-tickers-channel" class="toc-h3 toc-link" data-title="行情频道 ">行情频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#spread-trading-websocket-public-channel-candlesticks-channel" class="toc-h3 toc-link" data-title="K线频道 ">K线频道 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#public-data" class="toc-h1 toc-link" data-title="公共数据 ">公共数据 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-instruments" class="toc-h3 toc-link" data-title="获取交易产品基础信息 ">获取交易产品基础信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-delivery-exercise-history" class="toc-h3 toc-link" data-title="获取交割和行权记录 ">获取交割和行权记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-open-interest" class="toc-h3 toc-link" data-title="获取持仓总量 ">获取持仓总量 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-funding-rate" class="toc-h3 toc-link" data-title="获取永续合约当前资金费率 ">获取永续合约当前资金费率 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-funding-rate-history" class="toc-h3 toc-link" data-title="获取永续合约历史资金费率 ">获取永续合约历史资金费率 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-limit-price" class="toc-h3 toc-link" data-title="获取限价 ">获取限价 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-option-market-data" class="toc-h3 toc-link" data-title="获取期权定价 ">获取期权定价 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-estimated-delivery-exercise-price" class="toc-h3 toc-link" data-title="获取预估交割/行权价格 ">获取预估交割/行权价格 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-discount-rate-and-interest-free-quota" class="toc-h3 toc-link" data-title="获取免息额度和币种折算率等级 ">获取免息额度和币种折算率等级 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-system-time" class="toc-h3 toc-link" data-title="获取系统时间 ">获取系统时间 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-mark-price" class="toc-h3 toc-link" data-title="获取标记价格 ">获取标记价格 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-position-tiers" class="toc-h3 toc-link" data-title="获取衍生品仓位档位 ">获取衍生品仓位档位 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-interest-rate-and-loan-quota" class="toc-h3 toc-link" data-title="获取市场借币杠杆利率和借币限额 ">获取市场借币杠杆利率和借币限额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-underlying" class="toc-h3 toc-link" data-title="获取衍生品标的指数 ">获取衍生品标的指数 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-insurance-fund" class="toc-h3 toc-link" data-title="获取风险准备金余额 ">获取风险准备金余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-unit-convert" class="toc-h3 toc-link" data-title="张币转换 ">张币转换 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-option-tickbands" class="toc-h3 toc-link" data-title="获取期权价格梯度">获取期权价格梯度</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-premium-history" class="toc-h3 toc-link" data-title="获取溢价历史数据 ">获取溢价历史数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-index-tickers" class="toc-h3 toc-link" data-title="获取指数行情 ">获取指数行情 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-index-candlesticks" class="toc-h3 toc-link" data-title="获取指数K线数据 ">获取指数K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-index-candlesticks-history" class="toc-h3 toc-link" data-title="获取指数历史K线数据 ">获取指数历史K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-mark-price-candlesticks" class="toc-h3 toc-link" data-title="获取标记价格K线数据 ">获取标记价格K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-mark-price-candlesticks-history" class="toc-h3 toc-link" data-title="获取标记价格历史K线数据 ">获取标记价格历史K线数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-exchange-rate" class="toc-h3 toc-link" data-title="获取法币汇率 ">获取法币汇率 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-index-components" class="toc-h3 toc-link" data-title="获取指数成分数据 ">获取指数成分数据 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-economic-calendar-data" class="toc-h3 toc-link" data-title="获取经济日历数据 ">获取经济日历数据 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket" class="toc-h2 toc-link" data-title="WebSocket ">WebSocket </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-instruments-channel" class="toc-h3 toc-link" data-title="产品频道 ">产品频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-open-interest-channel" class="toc-h3 toc-link" data-title="持仓总量频道 ">持仓总量频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-funding-rate-channel" class="toc-h3 toc-link" data-title="资金费率频道 ">资金费率频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-price-limit-channel" class="toc-h3 toc-link" data-title="限价频道 ">限价频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-option-summary-channel" class="toc-h3 toc-link" data-title="期权定价频道 ">期权定价频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-estimated-delivery-exercise-price-channel" class="toc-h3 toc-link" data-title="预估交割/行权价格频道 ">预估交割/行权价格频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-mark-price-channel" class="toc-h3 toc-link" data-title="标记价格频道 ">标记价格频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-index-tickers-channel" class="toc-h3 toc-link" data-title="指数行情频道 ">指数行情频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-mark-price-candlesticks-channel" class="toc-h3 toc-link" data-title="标记价格K线频道 ">标记价格K线频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-index-candlesticks-channel" class="toc-h3 toc-link" data-title="指数K线频道 ">指数K线频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-liquidation-orders-channel" class="toc-h3 toc-link" data-title="平台公共爆仓单频道">平台公共爆仓单频道</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-adl-warning-channel" class="toc-h3 toc-link" data-title="自动减仓预警频道 ">自动减仓预警频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#public-data-websocket-economic-calendar-channel" class="toc-h3 toc-link" data-title="经济日历频道 ">经济日历频道 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics" class="toc-h1 toc-link" data-title="交易大数据 ">交易大数据 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-support-coin" class="toc-h3 toc-link" data-title="获取交易大数据支持币种 ">获取交易大数据支持币种 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-contract-open-interest-history" class="toc-h3 toc-link" data-title="获取合约持仓量历史 ">获取合约持仓量历史 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-taker-volume" class="toc-h3 toc-link" data-title="获取主动买入/卖出情况 ">获取主动买入/卖出情况 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-contract-taker-volume" class="toc-h3 toc-link" data-title="获取合约主动买入/卖出情况 ">获取合约主动买入/卖出情况 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-margin-lending-ratio" class="toc-h3 toc-link" data-title="获取杠杆多空比 ">获取杠杆多空比 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-top-traders-contract-long-short-ratio" class="toc-h3 toc-link" data-title="获取精英交易员合约多空持仓人数比 ">获取精英交易员合约多空持仓人数比 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-top-traders-contract-long-short-ratio-by-position" class="toc-h3 toc-link" data-title="获取精英交易员合约多空持仓仓位比 ">获取精英交易员合约多空持仓仓位比 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-contract-long-short-ratio" class="toc-h3 toc-link" data-title="获取合约多空持仓人数比 ">获取合约多空持仓人数比 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-long-short-ratio" class="toc-h3 toc-link" data-title="获取多空持仓人数比 ">获取多空持仓人数比 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-contracts-open-interest-and-volume" class="toc-h3 toc-link" data-title="获取合约持仓量及交易量 ">获取合约持仓量及交易量 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-options-open-interest-and-volume" class="toc-h3 toc-link" data-title="获取期权持仓量及交易量 ">获取期权持仓量及交易量 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-put-call-ratio" class="toc-h3 toc-link" data-title="看涨/看跌期权合约 持仓总量比/交易总量比 ">看涨/看跌期权合约 持仓总量比/交易总量比 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-open-interest-and-volume-expiry" class="toc-h3 toc-link" data-title="看涨看跌持仓总量及交易总量（按到期日分） ">看涨看跌持仓总量及交易总量（按到期日分） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-open-interest-and-volume-strike" class="toc-h3 toc-link" data-title="看涨看跌持仓总量及交易总量（按执行价格分） ">看涨看跌持仓总量及交易总量（按执行价格分） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#trading-statistics-rest-api-get-taker-flow" class="toc-h3 toc-link" data-title="看跌/看涨期权合约 主动买入/卖出量 ">看跌/看涨期权合约 主动买入/卖出量 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#funding-account" class="toc-h1 toc-link" data-title="资金账户 ">资金账户 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-currencies" class="toc-h3 toc-link" data-title="获取币种列表 ">获取币种列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-balance" class="toc-h3 toc-link" data-title="获取资金账户余额 ">获取资金账户余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-non-tradable-assets" class="toc-h3 toc-link" data-title="获取不可交易资产 ">获取不可交易资产 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-account-asset-valuation" class="toc-h3 toc-link" data-title="获取账户资产估值 ">获取账户资产估值 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-funds-transfer" class="toc-h3 toc-link" data-title="资金划转 ">资金划转 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-funds-transfer-state" class="toc-h3 toc-link" data-title="获取资金划转状态 ">获取资金划转状态 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-asset-bills-details" class="toc-h3 toc-link" data-title="获取资金流水 ">获取资金流水 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-deposit-address" class="toc-h3 toc-link" data-title="获取充值地址信息 ">获取充值地址信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-deposit-history" class="toc-h3 toc-link" data-title="获取充值记录 ">获取充值记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-withdrawal" class="toc-h3 toc-link" data-title="提币 ">提币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-cancel-withdrawal" class="toc-h3 toc-link" data-title="撤销提币 ">撤销提币 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-withdrawal-history" class="toc-h3 toc-link" data-title="获取提币记录 ">获取提币记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-deposit-withdraw-status" class="toc-h3 toc-link" data-title="获取充值/提现的详细状态">获取充值/提现的详细状态</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-exchange-list-public" class="toc-h3 toc-link" data-title="获取交易所列表（公共）">获取交易所列表（公共）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-apply-for-monthly-statement-last-year" class="toc-h3 toc-link" data-title="申请月结单 (近一年)">申请月结单 (近一年)</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-monthly-statement-last-year" class="toc-h3 toc-link" data-title="获取月结单 (近一年)">获取月结单 (近一年)</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-convert-currencies" class="toc-h3 toc-link" data-title="获取闪兑币种列表 ">获取闪兑币种列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-convert-currency-pair" class="toc-h3 toc-link" data-title="获取闪兑币对信息 ">获取闪兑币对信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-estimate-quote" class="toc-h3 toc-link" data-title="闪兑预估询价 ">闪兑预估询价 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-convert-trade" class="toc-h3 toc-link" data-title="闪兑交易 ">闪兑交易 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-convert-history" class="toc-h3 toc-link" data-title="获取闪兑交易历史 ">获取闪兑交易历史 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#funding-account-websocket" class="toc-h2 toc-link" data-title="WebSocket ">WebSocket </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-websocket-deposit-info-channel" class="toc-h3 toc-link" data-title="充值信息频道 ">充值信息频道 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#funding-account-websocket-withdrawal-info-channel" class="toc-h3 toc-link" data-title="提币信息频道 ">提币信息频道 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#sub-account" class="toc-h1 toc-link" data-title="子账户 ">子账户 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-sub-account-list" class="toc-h3 toc-link" data-title="查看子账户列表 ">查看子账户列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-reset-the-api-key-of-a-sub-account" class="toc-h3 toc-link" data-title="重置子账户的APIKey ">重置子账户的APIKey </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-sub-account-trading-balance" class="toc-h3 toc-link" data-title="获取子账户交易账户余额 ">获取子账户交易账户余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-sub-account-funding-balance" class="toc-h3 toc-link" data-title="获取子账户资金账户余额 ">获取子账户资金账户余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-sub-account-maximum-withdrawals" class="toc-h3 toc-link" data-title="获取子账户最大可转余额 ">获取子账户最大可转余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-history-of-sub-account-transfer" class="toc-h3 toc-link" data-title="查询子账户转账记录 ">查询子账户转账记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-history-of-managed-sub-account-transfer" class="toc-h3 toc-link" data-title="查询托管子账户转账记录 ">查询托管子账户转账记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-master-accounts-manage-the-transfers-between-sub-accounts" class="toc-h3 toc-link" data-title="子账户间资金划转 ">子账户间资金划转 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-set-permission-of-transfer-out" class="toc-h3 toc-link" data-title="设置子账户主动转出权限 ">设置子账户主动转出权限 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-get-custody-trading-sub-account-list" class="toc-h3 toc-link" data-title="查看被托管的子账户列表 ">查看被托管的子账户列表 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#financial-product" class="toc-h1 toc-link" data-title="金融产品 ">金融产品 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#financial-product-on-chain-earn" class="toc-h2 toc-link" data-title="链上赚币 ">链上赚币 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-earn-get-offers" class="toc-h3 toc-link" data-title="GET / 查看项目 ">GET / 查看项目 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-earn-post-purchase" class="toc-h3 toc-link" data-title="POST / 申购项目 ">POST / 申购项目 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-earn-post-redeem" class="toc-h3 toc-link" data-title="POST / 赎回项目 ">POST / 赎回项目 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-earn-post-cancel-purchases-redemptions" class="toc-h3 toc-link" data-title="POST / 撤销项目申购/赎回 ">POST / 撤销项目申购/赎回 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-earn-get-active-orders" class="toc-h3 toc-link" data-title="GET / 查看活跃订单 ">GET / 查看活跃订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-earn-get-order-history" class="toc-h3 toc-link" data-title="GET / 查看历史订单 ">GET / 查看历史订单 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking" class="toc-h2 toc-link" data-title="ETH质押 ">ETH质押 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking-get-product-info" class="toc-h3 toc-link" data-title="GET / 获取产品信息 ">GET / 获取产品信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking-post-purchase" class="toc-h3 toc-link" data-title="POST / 申购 ">POST / 申购 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking-post-redeem" class="toc-h3 toc-link" data-title="POST / 赎回 ">POST / 赎回 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking-get-balance" class="toc-h3 toc-link" data-title="GET / 获取余额 ">GET / 获取余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking-get-purchase-amp-redeem-history" class="toc-h3 toc-link" data-title="GET / 获取申购赎回记录 ">GET / 获取申购赎回记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-eth-staking-get-apy-history-public" class="toc-h3 toc-link" data-title="GET / 获取历史收益率(公共) ">GET / 获取历史收益率(公共) </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#financial-product-sol-staking" class="toc-h2 toc-link" data-title="SOL质押 ">SOL质押 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-sol-staking-post-purchase" class="toc-h3 toc-link" data-title="POST / 申购 ">POST / 申购 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-sol-staking-post-redeem" class="toc-h3 toc-link" data-title="POST / 赎回 ">POST / 赎回 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-sol-staking-get-balance" class="toc-h3 toc-link" data-title="GET / 获取余额 ">GET / 获取余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-sol-staking-get-purchase-amp-redeem-history" class="toc-h3 toc-link" data-title="GET / 获取申购赎回记录 ">GET / 获取申购赎回记录 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-sol-staking-get-apy-history-public" class="toc-h3 toc-link" data-title="GET / 获取历史收益率(公共) ">GET / 获取历史收益率(公共) </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-flexible" class="toc-h2 toc-link" data-title="活期简单赚币 ">活期简单赚币 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-savings-get-saving-balance" class="toc-h3 toc-link" data-title="GET / 获取余币宝余额 ">GET / 获取余币宝余额 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-savings-post-savings-purchase-redemption" class="toc-h3 toc-link" data-title="POST / 余币宝申购/赎回 ">POST / 余币宝申购/赎回 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-savings-post-set-lending-rate" class="toc-h3 toc-link" data-title="POST / 设置余币宝借贷利率 ">POST / 设置余币宝借贷利率 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-savings-get-lending-history" class="toc-h3 toc-link" data-title="GET / 获取余币宝出借明细  ">GET / 获取余币宝出借明细  </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-savings-get-public-borrow-info-public" class="toc-h3 toc-link" data-title="GET / 获取市场借贷信息（公共）">GET / 获取市场借贷信息（公共）</a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-savings-get-public-borrow-history-public" class="toc-h3 toc-link" data-title="GET / 获取市场借贷历史（公共） ">GET / 获取市场借贷历史（公共） </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed" class="toc-h2 toc-link" data-title="定期简单赚币 ">定期简单赚币 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed-get-lending-offers-public" class="toc-h3 toc-link" data-title="GET / 获取借币信息（公共） ">GET / 获取借币信息（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed-get-lending-volume-public" class="toc-h3 toc-link" data-title="GET / 获取历史收益率（公共） ">GET / 获取历史收益率（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-fixed-earn-get-lending-volume-public" class="toc-h3 toc-link" data-title="GET / 获取借贷量（公共） ">GET / 获取借贷量（公共） </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed-post-place-lending-order" class="toc-h3 toc-link" data-title="POST / 定期简单赚币申购 ">POST / 定期简单赚币申购 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed-post-amend-lending-order" class="toc-h3 toc-link" data-title="POST / 定期简单赚币修改订单 ">POST / 定期简单赚币修改订单 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed-get-lending-order-list" class="toc-h3 toc-link" data-title="GET / 获取定期简单赚币订单信息 ">GET / 获取定期简单赚币订单信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-simple-earn-fixed-get-lending-sub-order-list" class="toc-h3 toc-link" data-title="GET / 获取定期简单赚币子订单信息 ">GET / 获取定期简单赚币子订单信息 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan" class="toc-h2 toc-link" data-title="活期借币 ">活期借币 </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-get-borrowable-currencies" class="toc-h3 toc-link" data-title="GET / 可借币种列表 ">GET / 可借币种列表 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-get-collateral-assets" class="toc-h3 toc-link" data-title="GET / 可抵押资产 ">GET / 可抵押资产 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-post-maximum-loan-amount" class="toc-h3 toc-link" data-title="POST / 最大可借 ">POST / 最大可借 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-get-maximum-collateral-redeem-amount" class="toc-h3 toc-link" data-title="GET / 抵押物最大可赎回数量 ">GET / 抵押物最大可赎回数量 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-post-adjust-collateral" class="toc-h3 toc-link" data-title="POST / 调整抵押物 ">POST / 调整抵押物 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-get-loan-info" class="toc-h3 toc-link" data-title="GET / 借贷信息 ">GET / 借贷信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-get-loan-history" class="toc-h3 toc-link" data-title="GET / 借贷历史 ">GET / 借贷历史 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#financial-product-flexible-loan-get-accrued-interest" class="toc-h3 toc-link" data-title="GET / 计息记录 ">GET / 计息记录 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#affiliate" class="toc-h1 toc-link" data-title="节点 ">节点 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#affiliate-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#affiliate-rest-api-get-the-invitee-39-s-detail" class="toc-h3 toc-link" data-title="获取被邀请人返佣信息 ">获取被邀请人返佣信息 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#affiliate-rest-api-get-the-user-39-s-affiliate-rebate-information" class="toc-h3 toc-link" data-title="获取用户的节点返佣信息 ">获取用户的节点返佣信息 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#status" class="toc-h1 toc-link" data-title="Status ">Status </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#status-get-status" class="toc-h2 toc-link" data-title="GET / Status ">GET / Status </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#status-ws-status-channel" class="toc-h2 toc-link" data-title="WS / Status 频道 ">WS / Status 频道 </a>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#announcement" class="toc-h1 toc-link" data-title="公告  ">公告  </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#announcement-get-announcements" class="toc-h2 toc-link" data-title="GET / 公告 ">GET / 公告 </a>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#announcement-get-announcement-types" class="toc-h2 toc-link" data-title="GET / 公告类型 ">GET / 公告类型 </a>
                    </li>
                </ul>
            </li>
            <li>
              <a href="https://www.okx.com/docs-v5/zh/#error-code" class="toc-h1 toc-link" data-title="错误码 ">错误码 </a>
                <ul class="toc-list-h2">
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api" class="toc-h2 toc-link" data-title="REST API ">REST API </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-public" class="toc-h3 toc-link" data-title="公共 ">公共 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-finance" class="toc-h3 toc-link" data-title="金融 ">金融 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-otc" class="toc-h3 toc-link" data-title="闪兑 ">闪兑 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-futures" class="toc-h3 toc-link" data-title="交割合约类 ">交割合约类 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-swap" class="toc-h3 toc-link" data-title="永续合约类 ">永续合约类 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-option" class="toc-h3 toc-link" data-title="期权合约类 ">期权合约类 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-funding" class="toc-h3 toc-link" data-title="资金类 ">资金类 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-account" class="toc-h3 toc-link" data-title="账户类 ">账户类 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-block-trading-and-spread-orderbook" class="toc-h3 toc-link" data-title="大宗交易 ">大宗交易 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-copy-trading" class="toc-h3 toc-link" data-title="跟单交易 ">跟单交易 </a>
                            </li>
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-rest-api-trading-bot" class="toc-h3 toc-link" data-title="策略交易 ">策略交易 </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                      <a href="https://www.okx.com/docs-v5/zh/#error-code-websocket" class="toc-h2 toc-link" data-title="WebSocket ">WebSocket </a>
                        <ul class="toc-list-h3">
                            <li>
                              <a href="https://www.okx.com/docs-v5/zh/#error-code-websocket-public" class="toc-h3 toc-link" data-title="公共 ">公共 </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content" style="padding-bottom: 845px;">
          <h1 id="overview">概览 </h1>
<p>欢迎查看 V5 API文档。我们提供完整的REST和WebSocket API以满足您的交易需求。<br></p>

<ul>
<li>在 my.okx.com 完成注册的用户，请访问 <a href="https://my.okx.com/docs-v5/zh/">https://my.okx.com/docs-v5/zh/</a> 获取 V5 API 文档。</li>
</ul>
<h2 id="overview-api-resources-and-support">API学习资源与技术支持 </h2><h3 id="overview-api-resources-and-support-tutorials">教程 </h3>
<ul>
<li>学习使用V5 API交易: <a href="https://www.okx.com/docs-v5/trick_zh/#instrument-configuration">V5 API使用指南</a></li>
<li>学习使用Python交易现货: <a href="https://www.okx.com/help/how-can-i-do-spot-trading-with-the-jupyter-notebook">Python 现货交易教程</a></li>
<li>学习使用Python交易衍生品: <a href="https://www.okx.com/help/how-can-i-do-derivatives-trading-with-the-jupyter-notebook">Python 衍生品交易教程</a></li>
</ul>

<p><br></p>
<h3 id="overview-api-resources-and-support-python-libraries">Python包 </h3>
<ul>
<li>使用Python SDK更简单地上手: <a href="https://pypi.org/project/python-okx/">Python SDK</a></li>
<li>轻松上手Python做市商代码 <a href="https://github.com/okxapi/okx-sample-market-maker">Python 做市商代码示例</a></li>
</ul>

<p><br></p>
<h3 id="overview-api-resources-and-support-customer-service">客户服务 </h3>
<ul>
<li>订阅API更新: <a href="https://t.me/OKExAPIChannel">https://t.me/OKExAPIChannel</a></li>
<li>请花1分钟时间帮助我们提升我们的服务: <a href="https://www.wjx.cn/vj/wFoyR0w.aspx">V5 API 满意度调研</a></li>
<li>如有问题请咨询线上客服</li>
</ul>
<h2 id="overview-v5-api-key-creation">创建我的APIKey </h2>
<p>点击跳转至官网创建V5APIKey的页面 <a href="https://www.okx.com/account/my-api">创建我的APIKey</a><br></p>
<h4 id="overview-rest-authentication">生成APIKey </h4>
<p>在对任何请求进行签名之前，您必须通过交易网站创建一个APIKey。创建APIKey后，您将获得3个必须记住的信息：</p>

<ul>
<li>APIKey</li>
<li>SecretKey</li>
<li>Passphrase</li>
</ul>

<p>APIKey和SecretKey将由平台随机生成和提供，Passphrase将由您提供以确保API访问的安全性。平台将存储Passphrase加密后的哈希值进行验证，但如果您忘记Passphrase，则无法恢复，请您通过交易网站重新生成新的APIKey。<br><br></p>

<p>API key 有如下3种权限，一个 API key 可以有一个或多个权限。</p>

<ul>
<li>读取 ：查询账单和历史记录等 读权限</li>
<li>提现 ：可以进行提币</li>
<li>交易 ：可以下单和撤单，转账，调整配置 等写权限</li>
</ul>

<aside class="notice">
每个API key最多可绑定20个IP地址<br>未绑定IP且拥有交易或提币权限的APIKey，将在闲置14天之后自动删除。(模拟盘的 API key 不会被删除)
</aside>
<h2 id="overview-rest-authentication">REST 请求验证 </h2><h3 id="overview-rest-authentication-making-requests">发起请求 </h3>
<p>所有REST私有请求头都必须包含以下内容：</p>

<ul>
<li><p><code>OK-ACCESS-KEY</code>字符串类型的APIKey。</p></li>
<li><p><code>OK-ACCESS-SIGN</code>使用HMAC SHA256哈希函数获得哈希值，再使用Base-64编码（请参阅签名）。</p></li>
<li><p><code>OK-ACCESS-TIMESTAMP</code>发起请求的时间（UTC），如：2020-12-08T09:08:57.715Z</p></li>
<li><p><code>OK-ACCESS-PASSPHRASE</code>您在创建API密钥时指定的Passphrase。</p></li>
</ul>

<p>所有请求都应该含有application/json类型内容，并且是有效的JSON。</p>
<h3 id="overview-rest-authentication-signature">签名 </h3>
<blockquote>
<p>生成签名</p>
</blockquote>

<p><code>OK-ACCESS-SIGN</code>的请求头是对<code>timestamp + method + requestPath + body</code>字符串（+表示字符串连接），以及SecretKey，使用HMAC SHA256方法加密，通过Base-64编码输出而得到的。</p>

<p>如：<code>sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/api/v5/account/balance?ccy=BTC', SecretKey))</code></p>

<p>其中，<code>timestamp</code>的值与<code>OK-ACCESS-TIMESTAMP</code>请求头相同，为ISO格式，如<code>2020-12-08T09:08:57.715Z</code>。</p>

<p>method是请求方法，字母全部大写：<code>GET/POST</code>。</p>

<p>requestPath是请求接口路径。如：<code>/api/v5/account/balance</code></p>

<p>body是指请求主体的字符串，如果请求没有主体（通常为GET请求）则body可省略。如：<code>{"instId":"BTC-USDT","lever":"5","mgnMode":"isolated"}</code></p>

<aside class="notice">
GET请求参数是算作requestPath，不算body
</aside>

<p>SecretKey为用户申请APIKey时所生成。如：<code>22582BD0CFF14C41EDBF1AB98506286D</code></p>
<h2 id="overview-websocket">WebSocket </h2><h3 id="overview-websocket-overview">概述 </h3>
<p>WebSocket是HTML5一种新的协议（Protocol）。它实现了用户端与服务器全双工通信， 使得数据可以快速地双向传播。通过一次简单的握手就可以建立用户端和服务器连接， 服务器根据业务规则可以主动推送信息给用户端。其优点如下：</p>

<ul>
<li>用户端和服务器进行数据传输时，请求头信息比较小，大概2个字节。</li>
<li>用户端和服务器皆可以主动地发送数据给对方。</li>
<li>不需要多次创建TCP请求和销毁，节约宽带和服务器的资源。</li>
</ul>

<aside class="notice"> 
强烈建议开发者使用WebSocket API获取市场行情和买卖深度等信息。
</aside> 
<h3 id="overview-websocket-connect">连接 </h3>
<p><strong>连接限制</strong>：3 次/秒 (基于IP)</p>

<p>当订阅公有频道时，使用公有服务的地址；当订阅私有频道时，使用私有服务的地址</p>

<p><strong>请求限制</strong>：</p>

<p>每个连接 对于 <code>订阅</code>/<code>取消订阅</code>/<code>登录</code> 请求的总次数限制为 480 次/小时</p>

<aside class="notice"> 
<p> 如果出现网络问题，系统会自动断开连接</p> 
<p> 如果连接成功后30s未订阅或订阅后30s内服务器未向用户推送数据，系统会自动断开连接</p> 
<p> 为了保持连接有效且稳定，建议您进行以下操作：</p> 
<p> 1. 每次接收到消息后，用户设置一个定时器，定时N秒，N 小于30。</p> 
<p> 2. 如果定时器被触发（N 秒内没有收到新消息），发送字符串 'ping'。</p> 
<p> 3. 期待一个文字字符串'pong'作为回应。如果在 N秒内未收到，请发出错误或重新连接。</p> 
</aside> 
<h3 id="overview-websocket-connection-count-limit">连接限制 </h3>
<p>子账户维度，订阅每个 WebSocket 频道的最大连接数为 30 个。每个 WebSocket 连接都由唯一的 connId 标识。</p>

<p><br></p>

<p>受此限制的 WebSocket 频道如下：</p>

<ol>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-order-channel">订单频道</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-account-channel">账户频道</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-positions-channel">持仓频道</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-balance-and-position-channel">账户余额和持仓频道</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-position-risk-warning">爆仓风险预警推送频道</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#trading-account-websocket-account-greeks-channel">账户greeks频道</a></li>
</ol>

<p>若用户通过不同的请求参数在同一个 WebSocket 连接下订阅同一个频道，例如使用 <code>{"channel": "orders", "instType": "ANY"}</code> 和 <code>{"channel": "orders", "instType": "SWAP"}</code>，只算为一次连接。若用户使用相同或不同的 WebSocket 连接订阅上述频道，例如订单频道和账户频道。在该两个频道之间，计数不会累计，因为它们被视作不同的频道。简言之，系统计算每个频道对应的 WebSocket 连接数量。</p>

<p><br></p>

<p>新链接订阅频道时，平台将对该订阅返回<code>channel-conn-count</code>的消息同步链接数量。</p>

<blockquote>
<p>链接数量更新</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"channel-conn-count"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connCount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"abcd1234"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p><br></p>

<p>当超出限制时，一般最新订阅的链接会收到拒绝。用户会先收到平时的订阅成功信息然后收到<code>channel-conn-count-error</code>消息，代表平台终止了这个链接的订阅。在异常场景下平台会终止已订阅的现有链接。</p>

<blockquote>
<p>链接数量限制报错</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel-conn-count-error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connCount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p><br></p>

<p>通过 WebSocket 进行的订单操作，例如下单、修改和取消订单，不会受到此改动影响。</p>
<h3 id="overview-websocket-login">登录 </h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
 <span class="s2">"op"</span>: <span class="s2">"login"</span>,
 <span class="s2">"args"</span>:
  <span class="o">[</span>
     <span class="o">{</span>
       <span class="s2">"apiKey"</span>: <span class="s2">"985d5b66-57ce-40fb-b714-afc0b9787083"</span>,
       <span class="s2">"passphrase"</span>: <span class="s2">"123456"</span>,
       <span class="s2">"timestamp"</span>: <span class="s2">"1538054050"</span>,
       <span class="s2">"sign"</span>: <span class="s2">"7L+zFQ+CEgGu5rzCj4+BdV2/uUHGqddA9pI6ztsRRPs="</span> 
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作，<code>login</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">账户列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; apiKey</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">APIKey</td>
</tr>
<tr>
<td style="text-align: left">&gt; passphrase</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">APIKey 的密码</td>
</tr>
<tr>
<td style="text-align: left">&gt; timestamp</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">时间戳，Unix Epoch时间，单位是秒</td>
</tr>
<tr>
<td style="text-align: left">&gt; sign</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">签名字符串</td>
</tr>
</tbody></table>

<blockquote>
<p>全部成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>全部失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60009"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Login failed."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作，<code>login</code> <code>error</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<p><strong>apiKey</strong>:调用API的唯一标识。需要用户手动设置一个
<strong>passphrase</strong>:APIKey的密码
<strong>timestamp</strong>:Unix Epoch 时间戳，单位为秒，如 1704876947
<strong>sign</strong>:签名字符串，签名算法如下：</p>

<p>先将<code>timestamp</code> 、 <code>method</code> 、<code>requestPath</code> 进行字符串拼接，再使用HMAC SHA256方法将拼接后的字符串和SecretKey加密，然后进行Base64编码</p>

<p><strong>SecretKey:</strong>用户申请APIKey时所生成的安全密钥，如：22582BD0CFF14C41EDBF1AB98506286D</p>

<p><strong>其中 timestamp 示例</strong>:const timestamp = '' + Date.now() / 1,000</p>

<p><strong>其中 sign 示例</strong>: sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp +'GET'+ '/users/self/verify', secret))</p>

<p><strong>method</strong>  总是 'GET'</p>

<p><strong>requestPath</strong> 总是 '/users/self/verify'</p>

<aside class="notice"> 
请求在时间戳之后30秒会失效，如果您的服务器时间和API服务器时间有偏差，推荐使用 REST API查询API服务器的时间，然后设置时间戳
</aside> 
<h3 id="overview-websocket-subscribe">订阅 </h3>
<p><strong>订阅说明</strong></p>

<blockquote>
<p>请求格式说明</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span><span class="s2">"&lt;SubscriptionTopic&gt;"</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>WebSocket 频道分成两类： <code>公共频道</code> 和 <code>私有频道</code></p>

<p><code>公共频道</code>无需登录，包括行情频道，K线频道，交易数据频道，资金费率频道，限价范围频道，深度数据频道，标记价格频道等。</p>

<p><code>私有频道</code>需登录，包括用户账户频道，用户交易频道，用户持仓频道等。</p>

<p>用户可以选择订阅一个或者多个频道，多个频道总长度不能超过 64 KB。</p>

<p>以下是一个请求参数的例子。每一个频道的请求参数的要求都不一样。请根据每一个频道的需求来订阅频道。</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>:<span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>:[
        <span class="o">{</span>
            <span class="s2">"channel"</span>:<span class="s2">"tickers"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

</code></pre></div>
<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作，<code>subscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币  <br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例  </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accb8e21"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>返回参数</strong></p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件，<code>subscribe</code>    <code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code> ： 期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>
<h3 id="overview-websocket-unsubscribe">取消订阅 </h3>
<p>可以取消一个或者多个频道</p>

<blockquote>
<p>请求格式说明</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"unsubscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span><span class="s2">"&lt; SubscriptionTopic &gt; "</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"unsubscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"tickers"</span>,
      <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作，<code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">取消订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0b44253"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>返回参数</strong></p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件，<code>unsubscribe</code>    <code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">取消订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>
<h3 id="overview-websocket-notification">通知 </h3>
<p>WebSocket有一种消息类型(event=<code>notice</code>)。 <br><br></p>

<p>用户会在如下场景收到此类信息：</p>

<ul>
<li>Websocket服务升级断线</li>
</ul>

<p>在推送服务升级前30秒会推送信息，告知用户WebSocket服务即将升级。用户可以重新建立新的连接避免由于断线造成的影响。</p>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64008"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The connection will soon be closed for a service upgrade. Please reconnect."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><br><br>
目前支持WebSocket公共频道(/ws/v5/public)和私有频道(/ws/v5/private)。</p>
<h2 id="overview-account-mode">账户模式 </h2>
<p>为了方便您的交易体验，请在开始交易前设置适当的账户模式。</p>

<p>交易账户交易系统提供四个账户模式，分别为<code>现货模式</code>、<code>现货和合约模式</code>、<code>跨币种保证金模式</code>以及<code>组合保证金模式</code>。</p>

<p>账户模式的首次设置，需要在网页或手机app上进行。</p>
<h2 id="overview-production-trading-services">实盘交易 </h2>
<p>实盘API交易地址如下：  </p>

<ul>
<li>REST：<code>https://www.okx.com</code><br></li>
<li>WebSocket公共频道：<code>wss://ws.okx.com:8443/ws/v5/public</code><br></li>
<li>WebSocket私有频道：<code>wss://ws.okx.com:8443/ws/v5/private</code></li>
<li>WebSocket业务频道：<code>wss://ws.okx.com:8443/ws/v5/business</code></li>
</ul>
<h2 id="overview-demo-trading-services">模拟盘交易 </h2>
<p>目前可以进行V5 API的模拟盘交易，部分功能不支持如<code>提币</code>、<code>充值</code>、<code>申购赎回</code>等。</p>

<p>模拟盘API交易地址如下：  </p>

<ul>
<li>REST：<code>https://www.okx.com</code> </li>
<li>WebSocket公共频道：<code>wss://wspap.okx.com:8443/ws/v5/public</code><br></li>
<li>WebSocket私有频道：<code>wss://wspap.okx.com:8443/ws/v5/private</code></li>
<li>WebSocket业务频道：<code>wss://wspap.okx.com:8443/ws/v5/business</code></li>
</ul>

<p>模拟盘的账户与欧易的账户是互通的，如果您已经有欧易账户，可以直接登录。</p>

<p>模拟盘API交易需要在模拟盘上创建APIKey：</p>

<p>登录欧易账户—&gt;交易—&gt;模拟交易—&gt;个人中心—&gt;创建模拟盘APIKey—&gt;开始模拟交易</p>

<aside class="notice">
注意：模拟盘的请求的header里面需要添加 "x-simulated-trading: 1"。
</aside>

<blockquote>
<p>请求头示例</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>Content-Type: application/json

OK-ACCESS-KEY: 37c541a1-****-****-****-10fe7a038418

OK-ACCESS-SIGN: leaVRETrtaoEQ3yI9qEtI1CZ82ikZ4xSG5Kj8gnl3uw=

OK-ACCESS-PASSPHRASE: 1****6

OK-ACCESS-TIMESTAMP: 2020-03-28T12:21:41.274Z

x-simulated-trading: 1
</code></pre></div><h3 id="overview-demo-trading-services-demo-trading-explorer">模拟盘交互式浏览器 </h3>
<p>该功能接口用户需先登录，接口只会请求模拟环境</p>

<ul>
<li><p>Parameters 面板中点击<code>Try it out</code>按钮，编辑请求参数。</p></li>
<li><p>点击<code>Execute</code>按钮发送请求。Responses 面板中查看请求结果。</p></li>
</ul>

<p>立即体验 <a href="https://www.okx.com/demo-trading-explorer/v5/zh">交互式浏览器</a></p>
<h2 id="overview-general-info">基本信息 </h2>
<p><strong>交易所层面的下单规则如下：</strong></p>

<ul>
<li>未成交订单（包括 post only，limit和处理中的taker单）的最大挂单数：4,000个</li>
<li><p>单个交易产品未成交订单的最大挂单数为500个，被计入到 500 笔挂单数量限制的<strong>订单类型</strong>包括：  </p>

<ul>
<li>限价委托 (Limit)</li>
<li>市价委托 (Market)</li>
<li>只挂单 (Post only)</li>
<li>全部成交或立即取消 (FOK)</li>
<li>立即成交并取消剩余 (IOC)</li>
<li>市价委托立即成交并取消剩余 (optimal limit IOC)</li>
<li>止盈止损 (TP/SL)</li>
<li>以下类型的订单触发的限价和市价委托：

<ul>
<li>止盈止损 (TP/SL)</li>
<li>计划委托 (Trigger)</li>
<li>移动止盈止损 (Trailing stop)</li>
<li>套利下单 (Arbitrage)</li>
<li>冰山策略 (Iceberg)</li>
<li>时间加权策略 (TWAP)</li>
<li>定投 (Recurring buy)</li>
</ul></li>
</ul></li>
<li><p>价差订单最大挂单数：所有价差订单挂单合计500个</p></li>
<li><p>策略委托订单最大挂单数：  </p>

<ul>
<li>止盈止损：100个 每个Instrument ID</li>
<li>计划委托：500个<br></li>
<li>移动止盈止损：50个<br></li>
<li>冰山委托：100个<br></li>
<li>时间加权委托：20个<br></li>
</ul></li>
<li><p>网格策略最大个数：  </p>

<ul>
<li>现货网格：100个</li>
<li>合约网格：100个<br></li>
</ul></li>
</ul>

<p><br></p>

<p><strong>交易限制规则如下：</strong></p>

<ul>
<li>当taker订单匹配的maker订单数量超过最大限制1000笔时，taker订单将被取消

<ul>
<li>限价单仅成交与1000笔maker订单相对应的部分，并取消剩余；</li>
<li>全部成交或立即取消（FOK）订单将直接被取消。</li>
</ul></li>
</ul>

<p><br></p>

<p><strong>返回数据规则如下：</strong></p>

<ul>
<li><p>当返回数据中，有<code>code</code>，且没有<code>sCode</code>字段时，<code>code</code>和<code>msg</code>代表请求结果或者报错原因；</p></li>
<li><p>当返回中有<code>sCode</code>字段时，代表请求结果或者报错原因的是<code>sCode</code>和<code>sMsg</code>，而不是<code>code</code>和<code>msg</code>。</p></li>
</ul>

<p><br></p>

<p><strong>交易品种<code>instFamily</code>参数说明：</strong></p>

<ul>
<li>与uly没有区别：

<ul>
<li>如："BTC-USD-SWAP"的instFamily和uly均为BTC-USD，"BTC-USDC-SWAP"的instFamily和uly均为为BTC-USDC。<br></li>
<li>若请求参数指定uly为"BTC-USD"，会包含"BTC-USD"币本位合约的数据<br></li>
<li>若请求参数指定instFamily为"BTC-USD"，也只会包含"BTC-USD"币本位合约的数据。<br></li>
</ul></li>
<li>您可以通过"获取交易产品基础信息"接口获取交易产品对应的instFamily。</li>
</ul>
<h2 id="overview-transaction-timeouts">交易时效性 </h2>
<p>由于网络延时或者OKX服务器繁忙会导致订单无法及时处理。如果您对交易时效性有较高的要求，可以灵活设置请求有效截止时间<code>expTime</code>以达到你的要求。</p>

<p>（批量）下单，（批量）改单接口请求中如果包含<code>expTime</code>，如果服务器当前系统时间超过<code>expTime</code>，则该请求不会被服务器处理。</p>
<h3 id="overview-transaction-timeouts-rest-api">REST API </h3>
<p>请求头中设置如下参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求有效截止时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<p>目前支持如下接口：  </p>

<ul>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-order">下单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-multiple-orders">批量下单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-amend-order">修改订单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-amend-multiple-orders">批量修改订单</a></li>
</ul>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>curl -X 'POST' \
  'https://www.okx.com/api/v5/trade/order' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -H 'OK-ACCESS-KEY: *****' \
  -H 'OK-ACCESS-SIGN: *****'' \
  -H 'OK-ACCESS-TIMESTAMP: *****'' \
  -H 'OK-ACCESS-PASSPHRASE: *****'' \
  -H 'expTime: 1597026383085' \   // 有效截止时间
  -d '{
  "instId": "BTC-USDT",
  "tdMode": "cash",
  "side": "buy",
  "ordType": "limit",
  "px": "1000",
  "sz": "0.01"
}'
</code></pre></div><h3 id="overview-transaction-timeouts-websocket">WebSocket </h3>
<p>请求中设置如下参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求有效截止时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<p>目前支持如下接口：  </p>

<ul>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-order">下单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-multiple-orders">批量下单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-amend-order">修改订单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-amend-multiple-orders">批量修改订单</a></li>
</ul>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>{
    "id": "1512",
    "op": "order",
    "expTime":"1597026383085",  // 有效截止时间
    "args": [{
        "side": "buy",
        "instId": "BTC-USDT",
        "tdMode": "isolated",
        "ordType": "market",
        "sz": "100"
    }]
}
</code></pre></div><h2 id="overview-rate-limits">限速 </h2>
<p>我们的 REST 和 WebSocket API 使用限速来保护我们的 API 免受恶意使用，因此我们的交易平台可以可靠和公平地运行。<br>
当请求因限速而被我们的系统拒绝时，系统会返回错误代码 50011（用户请求频率过快，超过该接口允许的限额。请参考 API 文档并限制请求）。<br>
每个接口的限速都不同。 您可以从接口详细信息中找到每个接口的限制。 限速定义详述如下：</p>

<ul>
<li><p>WebSocket 登录和订阅限速基于连接。</p></li>
<li><p>公共未经身份验证的 REST 限速基于 IP 地址。</p></li>
<li><p>私有 REST 限速基于 User ID（子帐户具有单独的 User ID）。</p></li>
<li><p>WebSocket 订单管理限速基于 User ID（子账户具有单独的 User ID）。</p></li>
</ul>
<h3 id="overview-rate-limits-trading-related-apis">交易相关API </h3>
<p>对于与交易相关的 API（下订单、取消订单和修改订单），以下条件适用：</p>

<ul>
<li><p>限速在 REST 和 WebSocket 通道之间共享。</p></li>
<li><p>下单、修改订单、取消订单的限速相互独立。</p></li>
<li><p>限速在 Instrument ID 级别定义（期权除外）</p></li>
<li><p>期权的限速是根据 Instrument Family 级别定义的。 请参阅 <a href="https://www.okx.com/docs-v5/zh/#public-data-rest-api-get-instruments">获取交易产品基础信息</a> 接口以查看交易品种信息。</p></li>
<li><p>批量订单接口和单订单接口的限速也是独立的，除了只有一个订单发送到批量订单接口时，该订单将被视为一个订单并采用单订单限速。</p></li>
</ul>
<h3 id="overview-rate-limits-sub-account-rate-limit">子账户限速 </h3>
<p>子账户维度，每2秒最多允许1000个订单相关请求。仅有新订单及修改订单请求会被计入此限制。此限制涵盖以下所列的所有接口。对于包含多个订单的批量请求，每个订单将被单独计数。如果请求频率超过限制，系统会返回50061错误码。产品ID维度的限速规则保持不变，现有的限速规则与新增的子账户维度限速将并行运行。若用户需要更高的速率限制，可以通过多个子账户进行交易。</p>

<ul>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-order">POST / 下单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-multiple-orders">POST / 批量下单</a></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-amend-order">POST / 修改订单</a></li>
<li><p><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-amend-multiple-orders">POST / 批量修改订单</a></p></li>
<li><p><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-order">WS / 下单</a></p></li>
<li><p><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-multiple-orders">WS / 批量下单</a></p></li>
<li><p><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-amend-order">WS / 改单</a></p></li>
<li><p><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-amend-multiple-orders">WS / 批量改单</a></p></li>
</ul>
<h3 id="overview-rate-limits-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速 </h3>
<p>仅适用于用户等级 &gt;= VIP5的用户。
<br>
为了激励更高效的交易，交易所将为交易成交比率高的用户提供更高的子账户限速。</p>

<p>交易所将在每天 00:00 UTC，根据过去七天的交易数据计算两个比率。</p>

<ol>
<li>子账户成交比率：该比率为（子账户的USDT对应交易量）/（每个交易产品的新增和修改请求数 * 交易产品乘数之和）。请注意，在这种情况下，母账户自身也被视为一个“子账户”。</li>
<li>母账户合计成交比率：该比率为（母账户层面的USDT对应交易量）/（所有子账户各个交易产品的新增和修改请求数 * 交易产品乘数之和）。</li>
</ol>

<p>交易产品乘数允许我们微调每个交易产品对成交比率的影响权重。较小的交易产品乘数（&lt;1）适用于小币对及合约，在交易这些币对、合约时，为达到相同交易量往往需要更多的订单。所有的交易产品都有默认乘数，部分交易产品有独立的乘数。详情请见下表。</p>

<table><thead>
<tr>
<th>业务线</th>
<th>覆盖规则</th>
<th>独立乘数</th>
<th>默认乘数</th>
</tr>
</thead><tbody>
<tr>
<td>永续</td>
<td>产品ID</td>
<td><code>1</code> <br>产品ID： <br>BTC-USDT-SWAP <br>BTC-USD-SWAP <br>ETH-USDT-SWAP <br>ETH-USD-SWAP</td>
<td><code>0.2</code></td>
</tr>
<tr>
<td>交割</td>
<td>交易品种</td>
<td><code>0.3</code> <br>交易品种： <br>BTC-USDT <br>BTC-USD <br>ETH-USDT <br>ETH-USD</td>
<td><code>0.1</code></td>
</tr>
<tr>
<td>币币</td>
<td>产品ID</td>
<td><code>0.5</code> <br>产品ID： <br>BTC-USDT <br>ETH-USDT</td>
<td><code>0.1</code></td>
</tr>
<tr>
<td>期权</td>
<td>交易品种</td>
<td></td>
<td><code>0.1</code></td>
</tr>
</tbody></table>

<p>成交比率计算不包括大宗交易，价差交易，做市商保护（MMP），以及法币类型订单对应的订单数量；并且不包括大宗交易，价差交易对应的交易量。仅考虑 <code>sCode = 0</code> 的成功请求。<br></p>

<p>每日 08:00 UTC，系统将根据UTC时间 00:00 的数据快照，选取子账户成交比率及母账户合计成交比率中的较大值决定子账户的未来限速。详情请见下表。对于独立经纪商，系统只会取子账户的成交比率。</p>

<table><thead>
<tr>
<th></th>
<th>成交比率[x&lt;=比率&lt;y)</th>
<th>子账户每2秒限速(新订单及修改订单请求)</th>
</tr>
</thead><tbody>
<tr>
<td>Tier 1</td>
<td>[0,1)</td>
<td>1,000</td>
</tr>
<tr>
<td>Tier 2</td>
<td>[1,2)</td>
<td>1,250</td>
</tr>
<tr>
<td>Tier 3</td>
<td>[2,3)</td>
<td>1,500</td>
</tr>
<tr>
<td>Tier 4</td>
<td>[3,5)</td>
<td>1,750</td>
</tr>
<tr>
<td>Tier 5</td>
<td>[5,10)</td>
<td>2,000</td>
</tr>
<tr>
<td>Tier 6</td>
<td>[10,20)</td>
<td>2,500</td>
</tr>
<tr>
<td>Tier 7</td>
<td>[20,50)</td>
<td>3,000</td>
</tr>
<tr>
<td>Tier 8</td>
<td>&gt;= 50</td>
<td>10,000</td>
</tr>
</tbody></table>

<p>若成交比率和预期限速有所改善，则提升将于 08:00 (UTC) 立即生效。但若成交比率下降，需要降低未来限速，系统将给予一天的宽限期，降低后的速率限制将在 T+1 08:00 (UTC) 实施。在 T+1 时，若成交比率提高，则将立即授予更高的限速。若用户的交易手续费等级降级为 VIP4，其限速将降低为最低档位，并有一天的宽限期。</p>

<p><br></p>

<p>若子账户7日交易量低于1,000,000 USDT，则按照母账户的合计成交比率实施限速。</p>

<p><br></p>

<p>对于新创建的子账户，创建时将应用最低档位限速，在 T+1 08:00 (UTC)时，将开始应用上述限速规则。</p>

<p><br></p>

<p>大宗交易、价差交易、做市商保护（MMP）以及币币、币币杠杆订单不受子账户限速限制。</p>

<p><br></p>

<p>交易所提供 <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-get-account-rate-limit">GET / 获取账户限速</a> 接口以便用户查询成交比率以及限速数据，数据将于每天 08:00 (UTC) 更新。该接口将返回子账户成交比率，母账户合计成交比率，子账户当前限速以及 T+1 时的预期子账户限速（适用于限速降级）。</p>

<p><br></p>

<p>成交比率、限速计算样例如下。用户有三个账户，交易产品 BTC-USDT-SWAP 及 XRP-USDT 的乘数分别为1，0.1。</p>

<ol>
<li>账户 A（母账户）：

<ol>
<li>BTC-USDT-SWAP 交易量为100 USDT，订单数量为10;</li>
<li>XRP-USDT 交易量为20 USDT，订单数量为15;</li>
<li>子账户成交比率 = (100+20) / (10 * 1 + 15 * 0.1) = 10.4</li>
</ol></li>
<li>账户 B (子账户)：

<ol>
<li>BTC-USDT-SWAP 交易量为200 USDT，订单数量为100;</li>
<li>XRP-USDT 交易量为20 USDT，订单数量为30;</li>
<li>子账户成交比率 = (200+20) / (100 * 1 + 30 * 0.1) = 2.13</li>
</ol></li>
<li>账户 C (子账户)：

<ol>
<li>BTC-USDT-SWAP 交易量为300 USDT，订单数量为100;</li>
<li>XRP-USDT 交易量为20 USDT，订单数量为45;</li>
<li>子账户成交比率 = (300+20) / (100 * 1 + 45 * 0.1) = 3.06</li>
</ol></li>
<li>母账户合计成交比率 = (100+20+200+20+300+20) / (10 * 1 + 15 * 0.1 + 100 * 1 + 30 * 0.1 + 100 * 1 + 45 * 0.1) = 3.01</li>
<li>账户限速

<ol>
<li>账户 A = max(10.4, 3.01) = 10.4 -&gt; 2500订单请求/2秒</li>
<li>账户 B = max(2.13, 3.01) = 3.01 -&gt; 1750订单请求/2秒</li>
<li>账户 C = max(3.06, 3.01) = 3.06 -&gt; 1750订单请求/2秒</li>
</ol></li>
</ol>
<h3 id="overview-rate-limits-best-practices">最佳实践 </h3>
<p>如果您需要的请求速率高于我们的限速，您可以设置不同的子账户来批量请求限速。 我们建议使用此方法来限制或间隔请求，以最大化每个帐户的限速并避免断开连接或拒绝请求。</p>
<h2 id="overview-market-maker-program">做市商申请 </h2>
<p>满足以下任意条件的用户即可申请加入欧易做市商计划：</p>

<ul>
<li>交易等级VIP2及以上<br></li>
<li>其他交易所达标做市商（需审核）<br></li>
</ul>

<p>感兴趣的各方可以使用此表格联系我们：<a href="https://okx.typeform.com/contact-sales">https://okx.typeform.com/contact-sales</a><br></p>

<p>为鼓励做市商为平台提供更好的流动性，可以享受更优的交易手续费，同时也承担相应的做市责任。具体做市责任及手续费申请成功后提供相关资料。</p>

<aside class="warning">
欧易保留对做市商项目的最终解释权
</aside>

<aside class="warning">
做市商项目不支持VIP、交易量相关活动以及任何形式的返佣活动  
</aside>
<h2 id="overview-broker-program">经纪商申请 </h2>
<p>如果您的业务平台提供数字货币服务，您就可以申请加入欧易经纪商项目，成为欧易的经纪商合作伙伴，享受专属的经纪商服务，并通过用户在欧易产生的交易手续费赚取高额返佣。<br>
经纪商业务包含且不限：聚合交易平台、交易机器人、跟单平台、交易策略提供方、量化策略机构、资管平台等。<br></p>

<ul>
<li><a href="https://www.okx.com/cn/broker/home">点击申请</a></li>
<li><a href="https://www.okx.com/cn/help/introduction-of-rules-on-okx-brokers">经纪商规则介绍</a></li>
<li>如有问题请咨询线上客服</li>
</ul>

<p>具体经纪商业务文档及产品服务在申请成功后提供相关资料。</p>
<h1 id="trading-account">交易账户 </h1>
<p><code>账户</code>功能模块下的API接口需要身份验证。</p>
<h2 id="trading-account-rest-api">REST API </h2><h3 id="trading-account-rest-api-get-instruments">获取交易产品基础信息 </h3>
<p>获取当前账户可交易产品的信息列表。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-insttype">限速规则：UserID + InstType</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/instruments</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/instruments?instType<span class="o">=</span>SPOT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_instruments</span><span class="p">(</span><span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数，仅适用于<code>交割/永续/期权</code>，期权必填</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"auctionEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctMult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctValCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1704876947000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxIcebergSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLmtAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLmtSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxMktAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxMktSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxStopSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxTriggerSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxTwapSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settleCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ruleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stk"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品id， 如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数，如 <code>BTC-USD</code>，仅适用于<code>杠杆/交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种，如 <code>BTC-USD</code>，仅适用于<code>杠杆/交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易货币币种，如 <code>BTC-USDT</code> 中的 <code>BTC</code> ，仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价货币币种，如 <code>BTC-USDT</code> 中的<code>USDT</code> ，仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">settleCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">盈亏结算和保证金币种，如 <code>BTC</code> 仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">ctVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">ctMult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约乘数，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">ctValCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值计价币种，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">optType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权类型，<code>C</code>或<code>P</code> 仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">stk</td>
<td style="text-align: left">String</td>
<td style="text-align: left">行权价格，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">listTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">上线时间 <br>Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">auctionEndTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">集合竞价结束时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code> <br>仅适用于通过集合竞价方式上线的<code>币币</code>，其余情况返回""</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品下线时间<br>适用于<code>币币/杠杆/交割/永续/期权</code>，对于 <code>交割/期权</code>，为交割/行权日期；亦可以为产品下线时间，有变动就会推送。</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">该<code>instId</code>支持的最大杠杆倍数，不适用于<code>币币</code>、<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">tickSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单价格精度，如 <code>0.0001</code><br>对于期权来说，是梯度中的最小下单价格精度，如果想要获取期权价格梯度，请使用"获取期权价格梯度"接口</td>
</tr>
<tr>
<td style="text-align: left">lotSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单数量精度<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">minSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小下单数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">ctType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约类型<br><code>linear</code>：正向合约<br><code>inverse</code>：反向合约<br>仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品状态<br><code>live</code>：交易中 <br><code>suspend</code>：暂停中<br><code>preopen</code>：预上线，交割和期权合约轮转生成到开始交易；部分交易产品上线前<br><code>test</code>：测试中（测试产品，不可交易）</td>
</tr>
<tr>
<td style="text-align: left">ruleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易规则类型<br> <code>normal</code>：普通交易<br> <code>pre_market</code>：盘前交易</td>
</tr>
<tr>
<td style="text-align: left">maxLmtSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">maxMktSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市价单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">maxLmtAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的单笔最大美元价值</td>
</tr>
<tr>
<td style="text-align: left">maxMktAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市价单的单笔最大美元价值<br>仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">maxTwapSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间加权单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code> <br>单笔最小委托数量为 minSz*2</td>
</tr>
<tr>
<td style="text-align: left">maxIcebergSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冰山委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">maxTriggerSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">maxStopSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损市价委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>USDT</code></td>
</tr>
</tbody></table>

<aside class="notice">
listTime以及auctionEndTime<br>
对于通过集合竞价方式上线的币币，listTime为集合竞价开始时间，auctionEndTime为集合竞价结束、连续交易开始时间；对于其他情况及业务线，listTime即为连续交易开始时间，auctionEndTime将返回""
</aside>

<aside class="notice">
state<br>
状态state总是在时间到达listTime时由`preopen`转变为`live`<br>
当产品下线的时候（如交割合约被交割的时候，期权合约被行权的时候），查询不到该产品
</aside>
<h3 id="trading-account-rest-api-get-balance">查看账户余额 </h3>
<p>获取交易账户中资金余额信息。</p>

<aside class="notice">
免息额度和折算率都是公共数据，不在账户接口内展示
</aside>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 获取账户中所有资产余额</span>
GET /api/v5/account/balance

<span class="c"># 获取账户中BTC、ETH两种资产余额</span>
GET /api/v5/account/balance?ccy<span class="o">=</span>BTC,ETH

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_balance</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>支持多币种查询（不超过20个），币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adjEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55415.624719833286"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4834.317093622894"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4834.3170936228935"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"cashBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4850.435693622894"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"crossLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4991.542013297616"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4992.890093622894"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eqUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4991.542013297616"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"smtSyncEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotCopyTradingEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fixedBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"158.573"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoUpl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rewardBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxSpotInUse"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotIsoBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"stgyEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"twap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1705449605015"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7.545600000000006"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"uplLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"accAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotUpl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotUplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.57068529"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"143682.59776662575"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3428274116"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85.7068529"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55837.43556134779"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1705474164160"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7.543562688000006"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>uTime</td>
<td>String</td>
<td>账户信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>totalEq</td>
<td>String</td>
<td>美金层面权益</td>
</tr>
<tr>
<td>isoEq</td>
<td>String</td>
<td>美金层面逐仓仓位权益<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>adjEq</td>
<td>String</td>
<td>美金层面有效保证金<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>ordFroz</td>
<td>String</td>
<td>美金层面全仓挂单占用保证金<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>imr</td>
<td>String</td>
<td>美金层面占用保证金<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>mmr</td>
<td>String</td>
<td>美金层面维持保证金<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>borrowFroz</td>
<td>String</td>
<td>账户美金层面潜在借币占用保证金<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>。在其他账户模式下为""。</td>
</tr>
<tr>
<td>mgnRatio</td>
<td>String</td>
<td>美金层面保证金率<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>notionalUsd</td>
<td>String</td>
<td>以美金价值为单位的持仓数量，即仓位美金价值<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>upl</td>
<td>String</td>
<td>账户层面全仓未实现盈亏（美元单位）<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>details</td>
<td>Array</td>
<td>各币种资产详细信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>&gt; eq</td>
<td>String</td>
<td>币种总权益</td>
</tr>
<tr>
<td>&gt; cashBal</td>
<td>String</td>
<td>币种余额</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>币种余额信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>&gt; isoEq</td>
<td>String</td>
<td>币种逐仓仓位权益<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; availEq</td>
<td>String</td>
<td>可用保证金<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; disEq</td>
<td>String</td>
<td>美金层面币种折算权益</td>
</tr>
<tr>
<td>&gt; fixedBal</td>
<td>String</td>
<td>抄底宝、逃顶宝功能的币种冻结金额</td>
</tr>
<tr>
<td>&gt; availBal</td>
<td>String</td>
<td>可用余额</td>
</tr>
<tr>
<td>&gt; frozenBal</td>
<td>String</td>
<td>币种占用金额</td>
</tr>
<tr>
<td>&gt; ordFrozen</td>
<td>String</td>
<td>挂单冻结数量 <br>适用于<code>现货模式</code>/<code>现货和合约模式</code>/<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td>&gt; liab</td>
<td>String</td>
<td>币种负债额<br>值为正数，如 "21625.64"<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; upl</td>
<td>String</td>
<td>未实现盈亏<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; uplLiab</td>
<td>String</td>
<td>由于仓位未实现亏损导致的负债<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; crossLiab</td>
<td>String</td>
<td>币种全仓负债额<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; isoLiab</td>
<td>String</td>
<td>币种逐仓负债额<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; rewardBal</td>
<td>String</td>
<td>体验金余额</td>
</tr>
<tr>
<td>&gt; mgnRatio</td>
<td>String</td>
<td>币种全仓保证金率，衡量账户内某项资产风险的指标<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td>&gt; imr</td>
<td>String</td>
<td>币种维度全仓占用保证金<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td>&gt; mmr</td>
<td>String</td>
<td>币种维度全仓维持保证金<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td>&gt; interest</td>
<td>String</td>
<td>计息，应扣未扣利息<br>值为正数，如 <code>9.01</code><br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; twap</td>
<td>String</td>
<td>当前负债币种触发系统自动换币的风险<br>0、1、2、3、4、5其中之一，数字越大代表您的负债币种触发自动换币概率越高<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; maxLoan</td>
<td>String</td>
<td>币种最大可借<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code> 的全仓</td>
</tr>
<tr>
<td>&gt; eqUsd</td>
<td>String</td>
<td>币种权益美金价值</td>
</tr>
<tr>
<td>&gt; borrowFroz</td>
<td>String</td>
<td>币种美金层面潜在借币占用保证金<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>。在其他账户模式下为""。</td>
</tr>
<tr>
<td>&gt; notionalLever</td>
<td>String</td>
<td>币种杠杆倍数<br>适用于<code>现货和合约模式</code></td>
</tr>
<tr>
<td>&gt; stgyEq</td>
<td>String</td>
<td>策略权益</td>
</tr>
<tr>
<td>&gt; isoUpl</td>
<td>String</td>
<td>逐仓未实现盈亏<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; spotInUseAmt</td>
<td>String</td>
<td>现货对冲占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; clSpotInUseAmt</td>
<td>String</td>
<td>用户自定义现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; maxSpotInUse</td>
<td>String</td>
<td>系统计算得到的最大可能现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; spotIsoBal</td>
<td>String</td>
<td>现货逐仓余额<br>仅适用于现货带单/跟单<br>适用于<code>现货模式</code>/<code>现货和合约模式</code></td>
</tr>
<tr>
<td>&gt; smtSyncEq</td>
<td>String</td>
<td>合约智能跟单权益<br>默认为0，仅适用于跟单人。</td>
</tr>
<tr>
<td>&gt; spotCopyTradingEq</td>
<td>String</td>
<td>现货智能跟单权益<br>默认为0，仅适用于跟单人。</td>
</tr>
<tr>
<td>&gt; spotBal</td>
<td>String</td>
<td>现货余额 ，单位为 币种，比如 BTC。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; openAvgPx</td>
<td>String</td>
<td>现货开仓成本价 单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; accAvgPx</td>
<td>String</td>
<td>现货累计成本价 单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; spotUpl</td>
<td>String</td>
<td>现货未实现收益，单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; spotUplRatio</td>
<td>String</td>
<td>现货未实现收益率。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; totalPnl</td>
<td>String</td>
<td>现货累计收益，单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; totalPnlRatio</td>
<td>String</td>
<td>现货累计收益率。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
</tbody></table>

<ul>
<li>更多字段详情，请参考以下产品文档：<br>
<a href="https://www.okx.com/zh-hans/help/iii-single-currency-margin-cross-margin-trading">现货和合约账户全仓交易规则</a><br>
<a href="https://www.okx.com/zh-hans/help/iv-multi-currency-margin-mode-cross-margin-trading">跨币种保证金账户全仓交易规则</a><br>
<a href="https://www.okx.com/zh-hans/help/vi-multi-currency-margin-mode-vs-portfolio-margin-mode">跨币种保证金模式和组合保证金模式对比</a></li>
</ul>

<aside class="notice">
当前账户等级下无效字段返回""
</aside>

<aside class="notice">
cashBal 和 eq 同时为 0 的币种过滤不返回
</aside>

<p>各账户等级下有效字段分布</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">现货模式</th>
<th style="text-align: left">现货和合约模式</th>
<th style="text-align: left">跨币种保证金模式</th>
<th style="text-align: left">组合保证金模式</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">totalEq</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">isoEq</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">adjEq</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">ordFroz</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">imr</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">mmr</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">borrowFroz</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">mgnRatio</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">notionalUsd</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; eq</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; cashBal</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; isoEq</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; availEq</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; disEq</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; availBal</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; frozenBal</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordFrozen</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; liab</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; upl</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; uplLiab</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; crossLiab</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; isoLiab</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnRatio</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">&gt; interest</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; twap</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxLoan</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; eqUsd</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; borrowFroz</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalLever</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">&gt; stgyEq</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; isoUpl</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; spotInUseAmt</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; spotIsoBal</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">&gt; imr</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">&gt; mmr</td>
<td style="text-align: left"></td>
<td style="text-align: left">是</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">&gt; spotBal</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; openAvgPx</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; accAvgPx</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; spotUpl</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; spotUplRatio</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalPnl</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalPnlRatio</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-positions">查看持仓信息 </h3>
<p>获取该账户下拥有实际持仓的信息。账户为买卖模式会显示净持仓（<code>net</code>），账户为开平仓模式下会分别返回开多（<code>long</code>）或开空（<code>short</code>）的仓位。按照仓位创建时间倒序排列。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/positions</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 查看BTC-USDT的持仓信息</span>
GET /api/v5/account/positions?instId<span class="o">=</span>BTC-USDT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看持仓信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_positions</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>instType</code>和<code>instId</code>同时传入的时候会校验<code>instId</code>与<code>instType</code>是否一致。</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易产品ID，如：<code>BTC-USDT-SWAP</code><br>支持多个<code>instId</code>查询（不超过10个），半角逗号分隔</td>
</tr>
<tr>
<td style="text-align: left">posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓ID<br>支持多个<code>posId</code>查询（不超过20个）。<br>存在有效期的属性，自最近一次完全平仓算起，满30天 posId 以及整个仓位会被清除。</td>
</tr>
</tbody></table>

<aside class="notice">
如果该 instId 拥有过仓位且当前持仓量为0，传 instId 时，如果当前存在有效的posId，会返回仓位信息，如果当前不存在有效的 posId 时，不会返回仓位信息；不传 instId 时，仓位信息不返回。
</aside>

<aside class="notice">
逐仓交易设置中，如果设置为自主划转模式，逐仓转入保证金后，会生成一个持仓量为0的仓位
</aside>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00190433573"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62961.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bePx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bizRefId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bizRefType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724740225685"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeOrderAlgo"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62890.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARGIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62892.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-99.9998177776581948"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liabCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPenalty"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53615.448336593756"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000317654"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62891.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.404143929947395"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000318005395854"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"119.756628017499"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingCloseOrdLiabVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00190433573"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1752810569801498626"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotInUseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"785524470"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724742632153"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000033452492717"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplLastPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000033199677697"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0105311101755551"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatioLastPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0104515220008934"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多，<code>pos</code>为正 <br><code>short</code>：开平仓模式开空，<code>pos</code>为正<br><code>net</code>：买卖模式（<code>交割/永续/期权</code>：<code>pos</code>为正代表开多，<code>pos</code>为负代表开空。<code>币币杠杆</code>时，<code>pos</code>均为正，<code>posCcy</code>为交易货币时，代表开多；<code>posCcy</code>为计价货币时，代表开空。）</td>
</tr>
<tr>
<td style="text-align: left">pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量，逐仓自主划转模式下，转入保证金后会产生pos为<code>0</code>的仓位</td>
</tr>
<tr>
<td style="text-align: left">baseBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币余额，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">quoteBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币余额 ，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">baseBorrowed</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币已借，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">baseInterest</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币计息，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">quoteBorrowed</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币已借，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">quoteInterest</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币计息，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">posCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位资产币种，仅适用于<code>币币杠杆</code>仓位</td>
</tr>
<tr>
<td style="text-align: left">availPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可平仓数量，适用于 <code>币币杠杆</code>，<code>期权</code><br>对于杠杆仓位，平仓时，杠杆还清负债后，余下的部分会视为币币交易，如果想要减少币币交易的数量，可通过"获取最大可用数量"接口获取只减仓的可用数量。</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓平均价</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益（以标记价格计算）</td>
</tr>
<tr>
<td style="text-align: left">uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率（以标记价格计算</td>
</tr>
<tr>
<td style="text-align: left">uplLastPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以最新成交价格计算的未实现收益，主要做展示使用，实际值还是 upl</td>
</tr>
<tr>
<td style="text-align: left">uplRatioLastPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以最新成交价格计算的未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，不适用于<code>期权</code>以及<code>组合保证金模式</code>下的全仓仓位</td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价 <br>不适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新标记价格</td>
</tr>
<tr>
<td style="text-align: left">imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">初始保证金，仅适用于<code>全仓</code></td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金余额，可增减，仅适用于<code>逐仓</code></td>
</tr>
<tr>
<td style="text-align: left">mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维持保证金</td>
</tr>
<tr>
<td style="text-align: left">liab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债额，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">liabCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债币种，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">interest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">利息，已经生成的未扣利息</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">optVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权市值，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">pendingCloseOrdLiabVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">逐仓杠杆负债对应平仓挂单的数量</td>
</tr>
<tr>
<td style="text-align: left">notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以美金价值为单位的持仓数量</td>
</tr>
<tr>
<td style="text-align: left">adl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号区<br>分为5档，从1到5，数字越小代表adl强度越弱</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金的币种</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">idxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新指数价格</td>
</tr>
<tr>
<td style="text-align: left">usdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种的市场最新美金价格 仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">bePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">盈亏平衡价</td>
</tr>
<tr>
<td style="text-align: left">deltaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位delta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">deltaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位delta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">gammaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位gamma，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">gammaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位gamma，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">thetaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位theta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">thetaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位theta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">vegaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位vega，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">vegaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位vega，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">spotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">spotInUseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲占用币种，如 <code>BTC</code><br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">clSpotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">maxSpotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统计算得到的最大可能现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">realizedPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现收益<br>仅适用于<code>交割/永续/期权</code><br>realizedPnl=pnl+fee+fundingFee+liqPenalty</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓订单累计收益额</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，正数代表平台返佣 ，负数代表平台扣除</td>
</tr>
<tr>
<td style="text-align: left">fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用</td>
</tr>
<tr>
<td style="text-align: left">liqPenalty</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计爆仓罚金，有值时为负数。</td>
</tr>
<tr>
<td style="text-align: left">closeOrderAlgo</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">平仓策略委托订单。调用策略委托下单，且<code>closeFraction</code>=1 时，该数组才会有值。</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; closeFraction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时，平仓的百分比。1 代表100%</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最近一次持仓更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">bizRefId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">外部业务id，如 体验券id</td>
</tr>
<tr>
<td style="text-align: left">bizRefType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">外部业务类型</td>
</tr>
</tbody></table>

<aside class="notice">
PM账户下，持仓的 IMR MMR的数据是后端服务以ristUnit为最小粒度重新计算，相同riskUnit全仓仓位的imr和mmr返回值相同。
</aside>
<h3 id="trading-account-rest-api-get-positions-history">查看历史持仓信息 </h3>
<p>获取最近3个月有更新的仓位信息，按照仓位更新时间倒序排列。于<strong>2024年11月11日中午12:00（UTC+8）</strong>开始支持组合保证金账户模式下的历史持仓。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/positions-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/positions-history
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看历史持仓信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_positions_history</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易产品ID，如：<code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓，<code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">最近一次平仓的类型<br><code>1</code>：部分平仓;<code>2</code>：完全平仓;<code>3</code>：强平;<code>4</code>：强减; <code>5</code>：ADL自动减仓; <br>状态叠加时，以最新的平仓类型为准状态为准。</td>
</tr>
<tr>
<td style="text-align: left">posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓ID。存在有效期的属性，自最近一次完全平仓算起，满30天 posId 会失效，之后的仓位，会使用新的 posId。</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询仓位更新 (uTime) 之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询仓位更新 (uTime) 之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回结果的数量，最大为100，默认100条，uTime 相同的记录均会在当前请求中全部返回</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654177169995"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29786.5999999789081085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeTotalPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29783.8999999995535393"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openMaxPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPenalty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0011"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000906447858888"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"452587086133239818"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654177174419"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易产品ID</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓，<code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最近一次平仓的类型<br><code>1</code>：部分平仓;<code>2</code>：完全平仓;<code>3</code>：强平;<code>4</code>：强减; <code>5</code>：ADL自动减仓; <br>状态叠加时，以最新的平仓类型为准状态为准。</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位创建时间</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位更新时间</td>
</tr>
<tr>
<td style="text-align: left">openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">closeAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓均价</td>
</tr>
<tr>
<td style="text-align: left">posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位ID</td>
</tr>
<tr>
<td style="text-align: left">openMaxPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大持仓量</td>
</tr>
<tr>
<td style="text-align: left">closeTotalPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计平仓量</td>
</tr>
<tr>
<td style="text-align: left">realizedPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现收益<br>仅适用于<code>交割/永续/期权</code><br>realizedPnl=pnl+fee+fundingFee+liqPenalty</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，正数代表平台返佣 ，负数代表平台扣除</td>
</tr>
<tr>
<td style="text-align: left">fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用</td>
</tr>
<tr>
<td style="text-align: left">liqPenalty</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计爆仓罚金，有值时为负数。</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓收益额</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓收益率</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓模式方向<br> <code>long</code>：开平仓模式开多<br> <code>short</code>：开平仓模式开空<br> <code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <code>long</code>：多 <code>short</code>：空<br>仅适用于 <code>币币杠杆/交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发标记价格，<code>type</code> 为<code>3</code>,<code>4</code>,<code>5</code>时有值，为<code>1</code>, <code>2</code> 时为空""</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金的币种</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-account-and-position-risk">查看账户持仓风险 </h3>
<p>查看账户整体风险。</p>

<aside class="notice">
获取同一时间切片上的账户和持仓的基础信息
</aside>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/account-position-risk</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/account-position-risk

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户特定风险状态
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_position_risk</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权 <br></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adjEq"</span><span class="p">:</span><span class="s2">"174238.6793649711331679"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balData"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disEq"</span><span class="p">:</span><span class="s2">"78846.7803721021362242"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eq"</span><span class="p">:</span><span class="s2">"1.3863533369419636"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disEq"</span><span class="p">:</span><span class="s2">"73417.2495112863300127"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eq"</span><span class="p">:</span><span class="s2">"73323.395564963177146"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"posData"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"baseBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARGIN"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"310388685292318723"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"quoteBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1620282889345"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>获取账户信息数据的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>adjEq</td>
<td>String</td>
<td>美金层面有效保证金<br>适用于<code>跨币种保证金模式</code> 和<code>组合保证金模式</code></td>
</tr>
<tr>
<td>balData</td>
<td>Array</td>
<td>币种资产信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>&gt; eq</td>
<td>String</td>
<td>币种总权益</td>
</tr>
<tr>
<td>&gt; disEq</td>
<td>String</td>
<td>美金层面币种折算权益</td>
</tr>
<tr>
<td>posData</td>
<td>Array</td>
<td>持仓详细信息</td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>产品类型</td>
</tr>
<tr>
<td>&gt; mgnMode</td>
<td>String</td>
<td>保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓</td>
</tr>
<tr>
<td>&gt; posId</td>
<td>String</td>
<td>持仓ID</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td>&gt; pos</td>
<td>String</td>
<td>以<code>张</code>为单位的持仓数量，逐仓自主划转模式下，转入保证金后会产生pos为<code>0</code>的仓位</td>
</tr>
<tr>
<td>&gt; baseBal</td>
<td>String</td>
<td><del>交易币余额，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td>&gt; quoteBal</td>
<td>String</td>
<td><del>计价币余额 ，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td>&gt; posSide</td>
<td>String</td>
<td>持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式（<code>交割/永续/期权</code>：<code>pos</code>为正代表开多，<code>pos</code>为负代表开空。<code>币币杠杆</code>：<code>posCcy</code>为交易货币时，代表开多；<code>posCcy</code>为计价货币时，代表开空。）</td>
</tr>
<tr>
<td>&gt; posCcy</td>
<td>String</td>
<td>仓位资产币种，仅适用于<code>币币杠杆</code>仓位</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>占用保证金的币种</td>
</tr>
<tr>
<td>&gt; notionalCcy</td>
<td>String</td>
<td>以<code>币</code>为单位的持仓数量</td>
</tr>
<tr>
<td>&gt; notionalUsd</td>
<td>String</td>
<td>以<code>美金价值</code>为单位的持仓数量</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-bills-details-last-7-days">账单流水查询（近七天）</h3>
<p>帐户资产流水是指导致帐户余额增加或减少的行为。本接口可以查询最近7天的账单数据。</p>
<h4 id="5-s">限速：5次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/bills</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/bills

GET /api/v5/account/bills?instType<span class="o">=</span>MARGIN

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘：0 , 模拟盘：1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户账单详情 （近七日内）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_bills</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权 <br></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单币种</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">仓位类型<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">ctType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">合约类型<br><code>linear</code>：正向合约<br><code>inverse</code>：反向合约<br>仅<code>交割/永续</code>有效</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单类型<br><code>1</code>：划转<br><code>2</code>：交易<br><code>3</code>：交割<br><code>4</code>：自动换币<br><code>5</code>：强平<br><code>6</code>：保证金划转<br><code>7</code>：扣息<br><code>8</code>：资金费<br><code>9</code>：自动减仓<br><code>10</code>：穿仓补偿<br><code>11</code>：系统换币<br><code>12</code>：策略划拨<br><code>13</code>：对冲减仓<br><code>14</code>：大宗交易<br><code>15</code>：一键借币<br><code>16</code>：借币<br><code>22</code>：一键还债<br><code>24</code>：价差交易<br><code>26</code>：结构化产品<br><code>27</code>：闪兑<br><code>28</code>：小额兑换<br><code>29</code>：一键还债<br><code>30</code>：简单交易<br><code>250</code>：跟单人分润支出<br><code>251</code>：跟单人分润退还<br></td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单子类型<br><code>1</code>：买入<br><code>2</code>：卖出 <br><code>3</code>：开多 <br><code>4</code>：开空 <br><code>5</code>：平多 <br><code>6</code>：平空 <br><code>9</code>：市场借币扣息 <br><code>11</code>：转入 <br><code>12</code>：转出 <br><code>14</code>：尊享借币扣息 <br><code>160</code>：手动追加保证金 <br><code>161</code>：手动减少保证金 <br><code>162</code>：自动追加保证金 <br><code>114</code>：自动换币买入<br><code>115</code>：自动换币卖出 <br><code>118</code>：系统换币转入 <br><code>119</code>：系统换币转出 <br><code>100</code>：强减平多 <br><code>101</code>：强减平空 <br><code>102</code>：强减买入 <br><code>103</code>：强减卖出 <br><code>104</code>：强平平多 <br><code>105</code>：强平平空 <br><code>106</code>：强平买入 <br><code>107</code>：强平卖出 <br><code>108</code>：穿仓补偿 <br><code>110</code>：强平换币转入 <br><code>111</code>：强平换币转出 <br><code>125</code>：自动减仓平多 <br><code>126</code>：自动减仓平空 <br><code>127</code>：自动减仓买入 <br><code>128</code>：自动减仓卖出 <br><code>131</code>：对冲买入 <br><code>132</code>：对冲卖出 <br><code>170</code>：到期行权（实值期权买方） <br><code>171</code>：到期被行权（实值期权卖方） <br><code>172</code>：到期作废（非实值期权的买方和卖方） <br><code>112</code>：交割平多 <br><code>113</code>：交割平空 <br><code>117</code>：交割/行权穿仓补偿 <br><code>173</code>：资金费支出  <br><code>174</code>：资金费收入 <br><code>200</code>：系统转入 <br><code>201</code>：手动转入 <br><code>202</code>：系统转出 <br><code>203</code>：手动转出 <br><code>204</code>：大宗交易买 <br><code>205</code>：大宗交易卖 <br><code>206</code>：大宗交易开多 <br><code>207</code>：大宗交易开空  <br><code>208</code>：大宗交易平多  <br><code>209</code>：大宗交易平空 <br><code>210</code>：一键借币的手动借币 <br><code>211</code>：一键借币的手动还币 <br><code>212</code>：一键借币的自动借币 <br><code>213</code>：一键借币的自动还币<br><code>220</code>：USDT 买期权转入 <br><code>221</code>：USDT 买期权转出 <br><code>16</code>：强制还币 <br><code>17</code>：强制借币还息 <br><code>224</code>：一键还债买入  <br><code>225</code>：一键还债卖出<br><code>236</code>：小额兑换买入<br><code>237</code>：小额兑换卖出<br><code>250</code>：永续分润支出<br><code>251</code>：永续分润退还<br><code>280</code>：现货分润支出<br><code>281</code>：现货分润退还<br><code>284</code>: 跟单自动转入<br><code>285</code>: 跟单手动转入<br><code>286</code>: 跟单自动转出<br><code>287</code>: 跟单手动转出<br><code>270</code>：价差交易买<br><code>271</code>：价差交易卖<br><code>272</code>：价差交易开多<br><code>273</code>：价差交易开空<br><code>274</code>：价差交易平多<br><code>275</code>：价差交易平空<br><code>290</code>：系统转出小额资产<br><code>293</code>：固定借币扣息<br><code>294</code>：固定借币利息退款<br><code>295</code>：固定借币逾期利息<br><code>296</code>：结构化下单转出<br><code>297</code>：结构化下单转入<br><code>298</code>：结构化结算转出<br><code>299</code>：结构化结算转入<br><code>306</code>：手动借币<br><code>307</code>：自动借币<br><code>308</code>：手动还币<br><code>309</code>：自动还币<br><code>312</code>：自动折抵<br><code>318</code>：闪兑买入<br><code>319</code>：闪兑卖出<br><code>320</code>：简单交易买入<br><code>321</code>：简单交易卖出</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 1597027383085</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"bal"</span><span class="p">:</span><span class="w">  </span><span class="s2">"8694.2179403378290202"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balChg"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.0219338232210000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billId"</span><span class="p">:</span><span class="w">  </span><span class="s2">"623950854533513219"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w">  </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"execType"</span><span class="p">:</span><span class="w">  </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w">  </span><span class="s2">"-0.000021955779"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillFwdPx"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillIdxPx"</span><span class="p">:</span><span class="w">  </span><span class="s2">"27104.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillMarkPx"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillMarkVol"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPxUsd"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPxVol"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w">  </span><span class="s2">"1695033476166"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"from"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w">  </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w">  </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"interest"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w">  </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"notes"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w">  </span><span class="s2">"623950854525124608"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posBal"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posBalChg"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"px"</span><span class="p">:</span><span class="w">  </span><span class="s2">"27105.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subType"</span><span class="p">:</span><span class="w">  </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sz"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.021955779"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to"</span><span class="p">:</span><span class="w">  </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w">  </span><span class="s2">"586760148"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w">  </span><span class="s2">"1695033476167"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w">  </span><span class="s2">"2"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单类型</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单子类型</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">余额更新完成的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">balChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">posBalChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">bal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">posBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格，与 subType 相关<br><li>为成交价格时有</li><code>1</code>：买入 <code>2</code>：卖出 <code>3</code>：开多 <code>4</code>：开空 <code>5</code>：平多 <code>6</code>：平空 <code>204</code>：大宗交易买 <code>205</code>：大宗交易卖 <code>206</code>：大宗交易开多 <code>207</code>：大宗交易开空 <code>208</code>：大宗交易平多 <code>209</code>：大宗交易平空 <code>114</code>：自动换币买入 <code>115</code>：自动换币卖出<br><li>为强平价格时有</li><code>100</code>：强减平多 <code>101</code>：强减平空 <code>102</code>：强减买入 <code>103</code>：强减卖出 <code>104</code>：强平平多 <code>105</code>：强平平空 <code>106</code>：强平买入 <code>107</code>：强平卖出 <code>16</code>：强制还币 <code>17</code>：强制借币还息 <code>110</code>：强平换币转入 <code>111</code>：强平换币转出<br><li>为交割价格时有</li><code>112</code>：交割平多 <code>113</code>：交割平空<br><li>为行权价格时有</li><code>170</code>：到期行权 <code>171</code>：到期被行权 <code>172</code>：到期作废<br><li>为标记价格时有</li><code>173</code>：资金费支出 <code>174</code>：资金费收入</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户余额币种</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费<br>正数代表平台返佣 ，负数代表平台扣除<br><a href="https://www.okx.com/cn/fees">手续费规则</a></td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓<br>账单不是由仓位变化产生的，该字段返回 ""</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID<br>当type为<code>2</code>/<code>5</code>/<code>9</code>时，返回相应订单id<br>无订单时，该字段返回 ""</td>
</tr>
<tr>
<td style="text-align: left">execType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">流动性方向<br><code>T</code>：taker<br><code>M</code>：maker</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转出账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户<br>仅适用于<code>资金划转</code>，不是<code>资金划转</code>时，返回 ""</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转入账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户<br>仅适用于<code>资金划转</code>，不是<code>资金划转</code>时，返回 ""</td>
</tr>
<tr>
<td style="text-align: left">notes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">备注</td>
</tr>
<tr>
<td style="text-align: left">interest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">利息</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签 <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">fillIdxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易执行时的指数价格 d<br>对于交叉现货币对，返回 baseCcy-USDT 的指数价格。 例如 LTC-ETH，该字段返回 LTC-USDT 的指数价格。</td>
</tr>
<tr>
<td style="text-align: left">fillMarkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格，仅适用于 <code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">fillPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的期权价格，以USD为单位，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记波动率，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillFwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
</tbody></table>

<aside class="notice">
<strong>资金费支出(subType = 173)</strong><br>
可以用"pnl"查询资金费的支出总额
</aside>
<h3 id="trading-account-rest-api-get-bills-details-last-3-months">账单流水查询（近三月）</h3>
<p>帐户资产流水是指导致帐户余额增加或减少的行为。本接口可以查询最近3个月的账单数据。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/bills-archive</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/bills-archive

GET /api/v5/account/bills-archive?instType<span class="o">=</span>MARGIN

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户账单详情 （近三个月内）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_bills_archive</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权 <br></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单币种</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">仓位类型<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">ctType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">合约类型<br><code>linear</code>：正向合约<br><code>inverse</code>：反向合约<br>仅<code>交割/永续</code>有效</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单类型<br><code>1</code>：划转<br><code>2</code>：交易<br><code>3</code>：交割<br><code>4</code>：自动换币<br><code>5</code>：强平<br><code>6</code>：保证金划转<br><code>7</code>：扣息<br><code>8</code>：资金费<br><code>9</code>：自动减仓<br><code>10</code>：穿仓补偿<br><code>11</code>：系统换币<br><code>12</code>：策略划拨<br><code>13</code>：对冲减仓<br><code>14</code>：大宗交易<br><code>15</code>：一键借币<br><code>16</code>：借币<br><code>22</code>：一键还债<br><code>24</code>：价差交易<br><code>26</code>：结构化产品<br><code>250</code>：跟单人分润支出<br><code>251</code>：跟单人分润退还<br></td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单子类型<br><code>1</code>：买入<br><code>2</code>：卖出 <br><code>3</code>：开多 <br><code>4</code>：开空 <br><code>5</code>：平多 <br><code>6</code>：平空 <br><code>9</code>：市场借币扣息 <br><code>11</code>：转入 <br><code>12</code>：转出 <br><code>14</code>：尊享借币扣息 <br><code>160</code>：手动追加保证金 <br><code>161</code>：手动减少保证金 <br><code>162</code>：自动追加保证金 <br><code>114</code>：自动换币买入<br><code>115</code>：自动换币卖出 <br><code>118</code>：系统换币转入 <br><code>119</code>：系统换币转出 <br><code>100</code>：强减平多 <br><code>101</code>：强减平空 <br><code>102</code>：强减买入 <br><code>103</code>：强减卖出 <br><code>104</code>：强平平多 <br><code>105</code>：强平平空 <br><code>106</code>：强平买入 <br><code>107</code>：强平卖出 <br><code>108</code>：穿仓补偿 <br><code>110</code>：强平换币转入 <br><code>111</code>：强平换币转出 <br><code>125</code>：自动减仓平多 <br><code>126</code>：自动减仓平空 <br><code>127</code>：自动减仓买入 <br><code>128</code>：自动减仓卖出 <br><code>131</code>：对冲买入 <br><code>132</code>：对冲卖出 <br><code>170</code>：到期行权（实值期权买方） <br><code>171</code>：到期被行权（实值期权卖方） <br><code>172</code>：到期作废（非实值期权的买方和卖方） <br><code>112</code>：交割平多 <br><code>113</code>：交割平空 <br><code>117</code>：交割/行权穿仓补偿 <br><code>173</code>：资金费支出  <br><code>174</code>：资金费收入 <br><code>200</code>：系统转入 <br><code>201</code>：手动转入 <br><code>202</code>：系统转出 <br><code>203</code>：手动转出 <br><code>204</code>：大宗交易买 <br><code>205</code>：大宗交易卖 <br><code>206</code>：大宗交易开多 <br><code>207</code>：大宗交易开空  <br><code>208</code>：大宗交易平多  <br><code>209</code>：大宗交易平空 <br><code>210</code>：一键借币的手动借币 <br><code>211</code>：一键借币的手动还币 <br><code>212</code>：一键借币的自动借币 <br><code>213</code>：一键借币的自动还币<br><code>220</code>：USDT 买期权转入 <br><code>221</code>：USDT 买期权转出 <br><code>16</code>：强制还币 <br><code>17</code>：强制借币还息 <br><code>224</code>：一键还债买入  <br><code>225</code>：一键还债卖出<br><code>236</code>：小额兑换买入<br><code>237</code>：小额兑换卖出<br><code>250</code>：永续分润支出<br><code>251</code>：永续分润退还<br><code>280</code>：现货分润支出<br><code>281</code>：现货分润退还<br><code>284</code>: 跟单自动转入<br><code>285</code>: 跟单手动转入<br><code>286</code>: 跟单自动转出<br><code>287</code>: 跟单手动转出<br><code>270</code>：价差交易买<br><code>271</code>：价差交易卖<br><code>272</code>：价差交易开多<br><code>273</code>：价差交易开空<br><code>274</code>：价差交易平多<br><code>275</code>：价差交易平空<br><code>290</code>：系统转出小额资产<br><code>293</code>：固定借币扣息<br><code>294</code>：固定借币利息退款<br><code>295</code>：固定借币逾期利息<br><code>296</code>：结构化下单转出<br><code>297</code>：结构化下单转入<br><code>298</code>：结构化结算转出<br><code>299</code>：结构化结算转入<br><code>306</code>：手动借币<br><code>307</code>：自动借币<br><code>308</code>：手动还币<br><code>309</code>：自动还币<br><code>312</code>：自动折抵<br><code>318</code>：闪兑买入<br><code>319</code>：闪兑卖出<br><code>320</code>：简单交易买入<br><code>321</code>：简单交易卖出</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8694.2179403378290202"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0219338232210000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623950854533513219"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"execType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000021955779"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillFwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillIdxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27104.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillMarkPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillMarkVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695033476166"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623950854525124608"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posBalChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27105.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.021955779"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"586760148"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695033476167"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单类型</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单子类型</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">余额更新完成的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">balChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">posBalChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">bal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">posBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格，与 subType 相关<br><li>为成交价格时有</li><code>1</code>：买入<br><code>2</code>：卖出<br><code>3</code>：开多<br><code>4</code>：开空<br><code>5</code>：平多<br><code>6</code>：平空<br><code>204</code>：大宗交易买<br><code>205</code>：大宗交易卖<br><code>206</code>：大宗交易开多<br><code>207</code>：大宗交易开空<br><code>208</code>：大宗交易平多<br><code>209</code>：大宗交易平空<br><code>114</code>：自动换币买入<br><code>115</code>：自动换币卖出<br><li>为强平价格时有</li><code>100</code>：强减平多 <code>101</code>：强减平空 <code>102</code>：强减买入 <code>103</code>：强减卖出 <code>104</code>：强平平多 <code>105</code>：强平平空 <code>106</code>：强平买入 <code>107</code>：强平卖出 <code>16</code>：强制还币 <code>17</code>：强制借币还息 <code>110</code>：强平换币转入 <code>111</code>：强平换币转出<br><li>为交割价格时有</li><code>112</code>：交割平多 <code>113</code>：交割平空<br><li>为行权价格时有</li><code>170</code>：到期行权 <code>171</code>：到期被行权 <code>172</code>：到期作废<br><li>为标记价格时有</li><code>173</code>：资金费支出 <code>174</code>：资金费收入</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户余额币种</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费<br>正数代表平台返佣 ，负数代表平台扣除<br><a href="https://www.okx.com/cn/fees">手续费规则</a></td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓<br>无仓位类型字段，该字段返回 ""</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID<br>当type为<code>2</code>/<code>5</code>/<code>9</code>时，返回相应订单id<br>无订单时，该字段返回 ""</td>
</tr>
<tr>
<td style="text-align: left">execType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">流动性方向<br><code>T</code>：taker<br><code>M</code>：maker</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转出账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户<br>仅适用于<code>资金划转</code>，不是<code>资金划转</code>时，返回 ""</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转入账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户<br>仅适用于<code>资金划转</code>，不是<code>资金划转</code>时，返回 ""</td>
</tr>
<tr>
<td style="text-align: left">notes</td>
<td style="text-align: left">String</td>
<td style="text-align: left">备注</td>
</tr>
<tr>
<td style="text-align: left">interest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">利息</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">fillIdxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易执行时的指数价格 <br>对于交叉现货币对，返回 baseCcy-USDT 的指数价格。 例 LTC-ETH，该字段返回 LTC-USDT 的指数价格。</td>
</tr>
<tr>
<td style="text-align: left">fillMarkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格，仅适用于 <code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">fillPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的期权价格，以USD为单位，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记波动率，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillFwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
</tbody></table>

<aside class="notice">
<strong>资金费支出(subType = 173)</strong><br>
可以用"pnl"查询资金费的支出总额
</aside>
<h3 id="trading-account-rest-api-apply-bills-details-since-2021">申请账单流水（自 2021 年） </h3>
<p>申请自 2021 年 2 月 1 日以来的账单数据，不包括当前季度。</p>
<h4 id="12">限速：12 次/天</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/account/bills-history-archive</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/bills-history-archive
body
<span class="o">{</span>
    <span class="s2">"year"</span>:<span class="s2">"2023"</span>,
    <span class="s2">"quarter"</span>:<span class="s2">"Q1"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">year</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">4位数字的年份，如 <code>2023</code></td>
</tr>
<tr>
<td style="text-align: left">quarter</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">季度，有效值 <code>Q1</code> <code>Q2</code> <code>Q3</code> <code>Q4</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646892328000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否已经存在该区间的下载链接<br><code>true</code>：已存在，可以通过"获取账单流水（自 2021 年）"接口获取<br><code>false</code>：不存在，正在生成，请 2 个小时后查看下载链接</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">服务端首次收到请求的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
规则说明，仅适用于 2024 年 10 月 11 日之后新生成的文件：
1. 以查询 2024 年第 3 季度的数据为例，实际查询的起止日期范围是 [2024-07-01, 2024-10-01)，包含开始日期，不包含结束日期。<br>
2. 文件中的数据以 `billId` 倒序排列 
</aside>

<aside class="notice">
平台需求量较多的情况下，生成数据所需要的时间会有所延长，如果超过 3 小时，请联系客服进行反馈。
</aside>

<aside class="notice">
仅适用于来自统一账户的数据
</aside>
<h3 id="trading-account-rest-api-get-bills-details-since-2021">获取账单流水（自 2021 年） </h3>
<p>获取自 2021 年 2 月 1 日以来的账单数据</p>
<h4 id="10-2s">限速：10 次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/account/bills-history-archive</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/bills-history-archive?year<span class="o">=</span>2023&amp;quarter<span class="o">=</span>Q4

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">year</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">4位数字的年份，如 <code>2023</code></td>
</tr>
<tr>
<td style="text-align: left">quarter</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">季度，有效值 <code>Q1</code> <code>Q2</code> <code>Q3</code> <code>Q4</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fileHref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://xxx"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646892328000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileHref</td>
<td style="text-align: left">String</td>
<td style="text-align: left">文件链接。<br>每个链接的有效期为 5 个半小时，如果已经申请过同一季度的数据，则30天内无需再次申请。</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">服务端首次收到请求的时间，Unix时间戳的毫秒数格式 ，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下载链接状态<br><code>finished</code>：已生成<br><code>ongoing</code>：进行中<br><code>failed</code>：生成失败，请重新生成</td>
</tr>
</tbody></table>
<h4 id="csv">解压后CSV里的字段说明</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单子类型</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">余额更新完成的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">balChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">posBalChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">bal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">posBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格，与 subType 相关<br><li>为成交价格时有</li><code>1</code>：买入<br><code>2</code>：卖出<br><code>3</code>：开多<br><code>4</code>：开空<br><code>5</code>：平多<br><code>6</code>：平空<br><code>204</code>：大宗交易买<br><code>205</code>：大宗交易卖<br><code>206</code>：大宗交易开多<br><code>207</code>：大宗交易开空<br><code>208</code>：大宗交易平多<br><code>209</code>：大宗交易平空<br><code>114</code>：自动换币买入<br><code>115</code>：自动换币卖出<br><li>为强平价格时有</li><code>100</code>：强减平多 <code>101</code>：强减平空 <code>102</code>：强减买入 <code>103</code>：强减卖出 <code>104</code>：强平平多 <code>105</code>：强平平空 <code>106</code>：强平买入 <code>107</code>：强平卖出 <code>16</code>：强制还币 <code>17</code>：强制借币还息 <code>110</code>：强平换币转入 <code>111</code>：强平换币转出<br><li>为交割价格时有</li><code>112</code>：交割平多 <code>113</code>：交割平空<br><li>为行权价格时有</li><code>170</code>：到期行权 <code>171</code>：到期被行权 <code>172</code>：到期作废<br><li>为标记价格时有</li><code>173</code>：资金费支出 <code>174</code>：资金费收入</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户余额币种</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费<br>正数代表平台返佣 ，负数代表平台扣除<br><a href="https://www.okx.com/cn/fees">手续费规则</a></td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓<br>无仓位类型字段，该字段返回 ""</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID<br>无订单时，该字段返回 ""</td>
</tr>
<tr>
<td style="text-align: left">execType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">流动性方向<br><code>T</code>：taker<br><code>M</code>：maker</td>
</tr>
<tr>
<td style="text-align: left">interest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">利息</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">fillIdxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易执行时的指数价格 <br>对于交叉现货币对，返回 baseCcy-USDT 的指数价格。 例 LTC-ETH，该字段返回 LTC-USDT 的指数价格。</td>
</tr>
<tr>
<td style="text-align: left">fillMarkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格，仅适用于 <code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">fillPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的期权价格，以USD为单位，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记波动率，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillFwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格，仅适用于 <code>期权</code>，其他业务线返回空字符串""</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-account-configuration">查看账户配置 </h3>
<p>查看当前账户的配置信息。  </p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/config

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户配置
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_config</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"acctStpMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel_maker"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"autoLoan"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctIsoMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"enableSpotBorrow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"greeksType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"kycLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v5 test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lv1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"levelTmp"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liquidationGear"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mainUid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44705892343619584"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnIsoMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"opAuth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"perm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read_only,withdraw,trade"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long_short_mode"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"roleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotBorrowAutoRepay"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotRoleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotTraderInsts"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"traderInsts"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44705892343619584"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前请求的账户ID，账户uid和app上的一致</td>
</tr>
<tr>
<td style="text-align: left">mainUid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前请求的母账户ID<br>如果 uid = mainUid，代表当前账号为母账户；如果 uid != mainUid，代表当前账户为子账户。</td>
</tr>
<tr>
<td style="text-align: left">acctLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户模式<br><code>1</code>：现货模式<br><code>2</code>：现货和合约模式<br><code>3</code>：跨币种保证金模式<br><code>4</code>：组合保证金模式</td>
</tr>
<tr>
<td style="text-align: left">acctStpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户自成交保护模式 <br><code>cancel_maker</code>：撤销挂单 <br><code>cancel_taker</code>：撤销吃单 <br><code>cancel_both</code>：撤销挂单和吃单 <br>用户可通过母账户登录网页修改该配置</td>
</tr>
<tr>
<td style="text-align: left">posMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方式<br><code>long_short_mode</code>：开平仓模式<br><code>net_mode</code>：买卖模式<br>仅适用<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">autoLoan</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否自动借币<br><code>true</code>：自动借币 <code>false</code>：非自动借币</td>
</tr>
<tr>
<td style="text-align: left">greeksType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前希腊字母展示方式<br><code>PA</code>：币本位 <code>BS</code>：美元本位</td>
</tr>
<tr>
<td style="text-align: left">level</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前在平台上真实交易量的用户等级，例如  <code>Lv1</code></td>
</tr>
<tr>
<td style="text-align: left">levelTmp</td>
<td style="text-align: left">String</td>
<td style="text-align: left">特约用户的临时体验用户等级，例如 <code>Lv3</code></td>
</tr>
<tr>
<td style="text-align: left">ctIsoMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">衍生品的逐仓保证金划转模式<br><code>automatic</code>：开仓划转<br><code>autonomy</code>：自主划转</td>
</tr>
<tr>
<td style="text-align: left">mgnIsoMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币杠杆的逐仓保证金划转模式<br><code>automatic</code>：开仓划转<br><code>quick_margin</code>：一键借币（对于新的账户，包括新的子账户，有些默认是开仓划转，另外的默认是一键借币）</td>
</tr>
<tr>
<td style="text-align: left">spotOffsetType</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>现货对冲类型<br><code>1</code>：现货对冲模式U模式<br><code>2</code>：现货对冲模式币模式<br><code>3</code>：非现货对冲模式<br>适用于<code>组合保证金模式</code></del><br>已废弃</td>
</tr>
<tr>
<td style="text-align: left">roleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户角色<br><code>0</code>：普通用户<br><code>1</code>：带单者<br><code>2</code>：跟单者</td>
</tr>
<tr>
<td style="text-align: left">traderInsts</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">当前账号已经设置的带单合约，仅适用于带单者</td>
</tr>
<tr>
<td style="text-align: left">spotRoleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货跟单角色。<br><code>0</code>：普通用户；<code>1</code>：带单者；<code>2</code>：跟单者</td>
</tr>
<tr>
<td style="text-align: left">spotTraderInsts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前账号已经设置的带单币对，仅适用于带单者</td>
</tr>
<tr>
<td style="text-align: left">opAuth</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否开通期权交易<br><code>0</code>：未开通<br><code>1</code>：已经开通</td>
</tr>
<tr>
<td style="text-align: left">kycLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">母账户KYC等级<br><code>0</code>: 未认证<br><code>1</code>: 已完成 level 1 认证<br><code>2</code>: 已完成 level 2 认证<br><code>3</code>: 已完成 level 3认证<br>如果请求来自子账户, kycLv 为其母账户的等级<br>如果请求来自母账户, kycLv 为当前请求的母账户等级</td>
</tr>
<tr>
<td style="text-align: left">label</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前请求API key的备注名，不超过50位字母（区分大小写）或数字，可以是纯字母或纯数字。</td>
</tr>
<tr>
<td style="text-align: left">ip</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前请求API key绑定的ip地址，多个ip用半角逗号隔开，如：<code>117.37.203.58,117.37.203.57</code>。<br>如果没有绑定ip，会返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">perm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前请求的 API key 或 Access token 的权限<br><code>read_only</code>：读取<br><code>trade</code>：交易<br><code>withdraw</code>：提币</td>
</tr>
<tr>
<td style="text-align: left">liquidationGear</td>
<td style="text-align: left">String</td>
<td style="text-align: left">强平提醒的保证金率水平<br><code>3</code> 和 <code>-1</code> 代表保证金率达到 300% 时，每隔 1 小时 app 和 ”爆仓风险预警推送频道“会推送通知。<code>-1</code> 是初始值，与<code>-3</code>有着同样效果<br><code>0</code> 代表不提醒</td>
</tr>
<tr>
<td style="text-align: left">enableSpotBorrow</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left"><code>现货模式</code>下是否支持借币<br><code>true</code>：支持<br><code>false</code>：不支持</td>
</tr>
<tr>
<td style="text-align: left">spotBorrowAutoRepay</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left"><code>现货模式</code>下是否支持自动还币<br><code>true</code>：支持<br><code>false</code>：不支持</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户类型 <br><code>0</code>：母账户 <br><code>1</code>：普通子账户 <br><code>2</code>：资管子账户 <br><code>5</code>：托管交易子账户 - Copper<br>  <code>9</code>：资管交易子账户 - Copper<br> <code>12</code>：托管交易子账户 - Komainu</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-position-mode">设置持仓模式 </h3>
<p><code>现货和合约模式</code>和<code>跨币种保证金模式</code>：交割和永续合约支持开平仓模式和买卖模式。买卖模式只会有一个方向的仓位；开平仓模式可以分别持有多、空2个方向的仓位。<br>
<code>组合保证金模式</code>：交割和永续仅支持买卖模式</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-position-mode</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/set-position-mode
body 
<span class="o">{</span>
    <span class="s2">"posMode"</span>:<span class="s2">"long_short_mode"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 设置持仓模式
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">set_position_mode</span><span class="p">(</span>
    <span class="n">posMode</span><span class="o">=</span><span class="s">"long_short_mode"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">posMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">持仓方式<br><code>long_short_mode</code>：开平仓模式 <code>net_mode</code>：买卖模式<br>仅适用<code>交割/永续</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"posMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long_short_mode"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">posMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方式</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-leverage">设置杠杆倍数 </h3>
<p><br>一个产品可以有如下10种杠杆倍数的设置场景：<br><br></p>

<ol>
<li>在<code>逐仓</code>交易模式下，设置<code>币币杠杆</code>的杠杆倍数（币对层面）；<br></li>
<li><code>现货模式</code>账户已开通借币功能，在<code>全仓</code>交易模式下，设置<code>币币杠杆</code>的杠杆倍数（币种层面）；<br></li>
<li><code>现货和合约模式</code>账户在<code>全仓</code>交易模式下，设置<code>币币杠杆</code>的杠杆倍数（币对层面）；<br></li>
<li><code>跨币种保证金模式</code>账户在<code>全仓</code>交易模式下，设置<code>币币杠杆</code>的杠杆倍数（币种层面）；<br></li>
<li><code>组合保证金模式</code>账户在<code>全仓</code>交易模式下，设置<code>币币杠杆</code>的杠杆倍数（币种层面）；<br></li>
<li>在<code>全仓</code>交易模式下，设置<code>交割</code>的杠杆倍数（指数层面）；<br></li>
<li>在<code>逐仓</code>交易模式、<code>买卖</code>持仓模式下，设置<code>交割</code>的杠杆倍数（合约层面）；<br></li>
<li>在<code>逐仓</code>交易模式、<code>开平仓</code>持仓模式下，设置<code>交割</code>的杠杆倍数（合约与持仓方向层面）；<br></li>
<li>在<code>全仓</code>交易模式下，设置<code>永续</code>的杠杆倍数（合约层面）；<br></li>
<li>在<code>逐仓</code>交易模式、<code>买卖</code>持仓模式下，设置<code>永续</code>的杠杆倍数（合约层面）；<br></li>
<li>在<code>逐仓</code>交易模式、<code>开平仓</code>持仓模式下，设置<code>永续</code>的杠杆倍数（合约与持仓方向层面）；<br></li>
</ol>

<p>注意请求参数 posSide 仅在<code>交割/永续</code>的<code>开平仓</code>持仓模式下才需要填写（参见场景8和11）。<br>
请参阅右侧对应的每个案例的请求示例。<br></p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-leverage</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 1.在`逐仓`交易模式下，设置`币币杠杆`的杠杆倍数（币对层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 2.`现货模式`账户已开通借币功能，在`全仓`交易模式下，设置`币币杠杆`的杠杆倍数（币种层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>


<span class="c"># 3.`现货和合约模式`账户在`全仓`交易模式下，设置`币币杠杆`的杠杆倍数（币对层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 4.`跨币种保证金模式`账户在`全仓`交易模式下，设置`币币杠杆`的杠杆倍数（币种层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 5. `组合保证金模式`账户在`全仓`交易模式下，设置`币币杠杆`的杠杆倍数（币种层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 6.在`全仓`交易模式下，设置`交割`的杠杆倍数（指数层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-200802"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 7.在`逐仓`交易模式、`买卖`持仓模式下，设置`交割`的杠杆倍数（合约层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-200802"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 8.在`逐仓`交易模式、`开平仓`持仓模式下，设置`交割`的杠杆倍数（合约与头寸层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-200802"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"posSide"</span>:<span class="s2">"long"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 9.在`全仓`交易模式下，设置`永续`的杠杆倍数（合约层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 10.在`逐仓`交易模式、`买卖`持仓模式下，设置`永续`的杠杆倍数（合约层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 11.在`逐仓`交易模式、`开平仓`持仓模式下，设置`永续`的杠杆倍数（合约与头寸层面）</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"posSide"</span>:<span class="s2">"long"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 在逐仓交易模式下，设置币币杠杆的杠杆倍数（币对层面）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">set_leverage</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">lever</span><span class="o">=</span><span class="s">"5"</span><span class="p">,</span>
    <span class="n">mgnMode</span><span class="o">=</span><span class="s">"isolated"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID：币对、合约<br>全仓下，<code>instId</code>和<code>ccy</code>至少要传一个；如果两个都传，默认使用<code>instId</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种，用于设置开启自动借币模式下币种维度的杠杆。<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>的<code>全仓</code><code>币币杠杆</code>。设置自动借币的杠杆倍数时必填</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓<br>如果<code>ccy</code>有效传值，该参数值只能为<code>cross</code>。</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br>仅适用于逐仓<code>交割</code>/<code>永续</code><br>在开平仓模式且保证金模式为逐仓条件下必填</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
</tbody></table>

<aside class="notice">
当希望在指数层面设置交割/永续的全仓杠杆倍数时，传入任意产品ID 和保证金模式（全仓）即可。
</aside>

<aside class="notice">
组合保证金账户下交割和永续的全仓不能调整杠杆倍数。
</aside>
<h3 id="trading-account-rest-api-get-maximum-order-quantity">获取最大可下单数量 </h3>
<p>获取最大可下单数量，可对应下单时的 "sz" 字段</p>

<aside class="notice">
Portfolio Margin 账户下，衍生品的全仓模式不支持最大可买卖/开仓数量的计算。
</aside>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/max-size</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/max-size?instId<span class="o">=</span>BTC-USDT&amp;tdMode<span class="o">=</span>isolated

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取最大可买卖/开仓数量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_max_order_size</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">tdMode</span><span class="o">=</span><span class="s">"isolated"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>是否必须</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code><br>支持同一业务线下的多产品ID查询（不超过5个），半角逗号分隔</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓<br><code>cash</code>：非保证金<br><code>spot_isolated</code>：现货逐仓</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">委托价格<br>当不填委托价时，交割和永续会取当前限价计算，其他业务线会按当前最新成交价计算<br>当指定多个产品ID查询时，忽略该参数，当未填写处理</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">开仓杠杆倍数<br>默认为当前杠杆倍数<br>仅适用于<code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">unSpotOffset</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><code>true</code>：禁止现货对冲，<code>false</code>：允许现货对冲<br>默认为<code>false</code><br>仅适用于<code>组合保证金模式</code><br>开启现货对冲模式下有效，否则忽略此参数。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxBuy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0500695098559788"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxSell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64.4798671570072269"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">maxBuy</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><code>币币/币币杠杆</code>：最大可买的交易币数量<br><code>现货和合约模式</code>下的全仓杠杆订单，为交易币数量<br><code>交割</code>/<code>永续</code>/<code>期权</code>：最大可开多的合约张数</td>
</tr>
<tr>
<td style="text-align: left">maxSell</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><code>币币/币币杠杆</code>：最大可卖的计价币数量<br><code>现货和合约模式</code>下的全仓杠杆订单，为交易币数量<br><code>交割</code>/<code>永续</code>/<code>期权</code>：最大可开空的合约张数</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-maximum-available-balance-equity">获取最大可用余额/保证金 </h3>
<p>币币和逐仓时为可用余额，全仓时为可用保证金</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/max-avail-size</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 获取BTC-USDT全仓币币杠杆指定BTC作为保证金最大可用数量</span>
GET /api/v5/account/max-avail-size?instId<span class="o">=</span>BTC-USDT&amp;tdMode<span class="o">=</span>cross&amp;ccy<span class="o">=</span>BTC

<span class="c"># 获取BTC-USDT币币最大可用数量</span>
GET /api/v5/account/max-avail-size?instId<span class="o">=</span>BTC-USDT&amp;tdMode<span class="o">=</span>cash

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取BTC-USDT币币最大可用数量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_max_avail_size</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">tdMode</span><span class="o">=</span><span class="s">"cash"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code><br>支持多产品ID查询（不超过5个），半角逗号分隔</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓<br><code>cash</code>：非保证金<br><code>spot_isolated</code>：现货逐仓</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否为只减仓模式，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">平仓价格，默认为市价。<br>仅适用于杠杆只减仓</td>
</tr>
<tr>
<td style="text-align: left">unSpotOffset</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><code>true</code>：禁止现货对冲，<code>false</code>：允许现货对冲<br>默认为<code>false</code><br>仅适用于<code>组合保证金模式</code><br>开启现货对冲模式下有效，否则忽略此参数。</td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式：<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币 <br>默认是<code>manual</code>：手动</del>（已弃用）</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"availBuy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"availSell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">availBuy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大买入可用余额/保证金</td>
</tr>
<tr>
<td style="text-align: left">availSell</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大卖出可用余额/保证金</td>
</tr>
</tbody></table>

<aside class="notice">
币币/币币杠杆时availBuy为计价货币，availSell为交易货币。<br>全仓币币杠杆时，availBuy和availSell均为指定保证金的币种。
</aside>
<h3 id="trading-account-rest-api-increase-decrease-margin">调整保证金 </h3>
<p>增加或者减少逐仓保证金。减少保证金可能会导致实际杠杆倍数发生变化。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/position/margin-balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/position/margin-balance 
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"posSide"</span>:<span class="s2">"short"</span>,
    <span class="s2">"type"</span>:<span class="s2">"add"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"1"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 调整保证金
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">adjustment_margin</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span><span class="p">,</span>
    <span class="n">posSide</span><span class="o">=</span><span class="s">"short"</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span> <span class="s">"add"</span><span class="p">,</span>
    <span class="n">amt</span><span class="o">=</span><span class="s">"1"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">持仓方向，默认值是<code>net</code><br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">增加/减少保证金<br><code>add</code>：增加 <br><code>reduce</code>：减少</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">增加或减少的保证金数量</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">增加或减少的保证金的币种，<br>仅适用于逐仓一键借币模式下的币币杠杆，且必填</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已增加/减少的保证金数量</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">增加/减少保证金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">String</td>
<td style="text-align: left">调整保证金后的实际杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">增加或减少的保证金的币种</td>
</tr>
</tbody></table>

<aside class="notice">
自主划转模式<br>
初始划入逐仓仓位的保证金价值必须大于等于1万USDT,账户上会产生一个仓位。
</aside>
<h3 id="trading-account-rest-api-get-leverage">获取杠杆倍数 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/leverage-info</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/leverage-info?instId<span class="o">=</span>BTC-USDT-SWAP&amp;mgnMode<span class="o">=</span>cross

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取杠杆倍数
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_leverage</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span><span class="p">,</span>
    <span class="n">mgnMode</span><span class="o">=</span><span class="s">"cross"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID<br>支持多个instId查询，半角逗号分隔。instId个数不超过20个。</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种，用于币种维度的杠杆。<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>的全仓币币杠杆。<br>支持多ccy查询，半角逗号分隔。ccy个数不超过20个。</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"short"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，用于币种维度的杠杆。<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>的全仓币币杠杆。</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式<br>开平仓模式下会返回两个方向的杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
</tbody></table>

<aside class="notice">
组合保证金账户下交割和永续的全仓不能获取杠杆倍数。
</aside>
<h3 id="trading-account-rest-api-get-leverage-estimated-info">获取杠杆倍数预估信息 </h3>
<p>获取指定杠杆倍数下，相关的预估信息。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/adjust-leverage-info</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/adjust-leverage-info?instType<span class="o">=</span>MARGIN&amp;mgnMode<span class="o">=</span>isolated&amp;lever<span class="o">=</span>3&amp;instId<span class="o">=</span>BTC-USDT

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品 ID，如 BTC-USDT<br>必填的场景有：交割永续，逐仓杠杆，以及<code>现货和合约模式</code>下全仓杠杆。</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种，如 BTC<br><code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>的全仓杠杆时必填。</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓方向<br><code>net</code>: 默认值，代表买卖模式<br><code>long</code>: 开平模式下的多仓<br><code>short</code>：开平模式下的空仓<br>仅适用交割、永续。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"estAvailQuoteTrans"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estAvailTrans"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1398040558348279"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estMaxAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.6095865868904898"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estMgn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0701959441651721"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estQuoteMaxAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"176889.6871254563042714"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estQuoteMgn"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"existOrd"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">estAvailQuoteTrans</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应杠杆倍数下，计价货币预估可转出的保证金数量<br>全仓时，为交易账户最大可转出<br>逐仓时，为逐仓仓位可减少的保证金。<br> 仅适用于<code>杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">estAvailTrans</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应杠杆倍数下，预估可转出的保证金数量<br>全仓时，为交易账户最大可转出<br>逐仓时，为逐仓仓位可减少的保证金<br>对于<code>杠杆</code>，单位为交易货币<br>不适用于<code>交割</code>, <code>永续</code>的逐仓，调大杠杆的场景</td>
</tr>
<tr>
<td style="text-align: left">estLiqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应杠杆倍数下的预估强平价，仅在有仓位时有值</td>
</tr>
<tr>
<td style="text-align: left">estMgn</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应杠杆倍数下，仓位预估所需的保证金数量<br>对于杠杆仓位，为所需交易货币保证金<br>对于交割或永续仓位，为仓位所需保证金</td>
</tr>
<tr>
<td style="text-align: left">estQuoteMgn</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应杠杆倍数下，仓位预估所需的计价货币保证金数量</td>
</tr>
<tr>
<td style="text-align: left">estMaxAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对于杠杆，为对应杠杆倍数下，交易货币预估最大可借<br>对于交割和永续，为对应杠杆倍数下，预估的最大可开张数</td>
</tr>
<tr>
<td style="text-align: left">estQuoteMaxAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应杠杆倍数下，杠杆计价货币预估最大可借</td>
</tr>
<tr>
<td style="text-align: left">existOrd</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">当前是否存在挂单 <br><code>true</code>：存在挂单<br><code>false</code>：不存在挂单</td>
</tr>
<tr>
<td style="text-align: left">maxLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">minLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小杠杆倍数</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-the-maximum-loan-of-instrument">获取交易产品最大可借 </h3><h4 id="20-2s">限速：20 次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/account/max-loan</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 现货模式用户已经开通了借币情况下币对最大可借</span>
GET  /api/v5/account/max-loan?instId<span class="o">=</span>BTC-USDT&amp;mgnMode<span class="o">=</span>cross

<span class="c"># 现货模式用户已经开通了借币情况下币种最大可借</span>
GET  /api/v5/account/max-loan?instId<span class="o">=</span>USDT&amp;mgnMode<span class="o">=</span>cross

<span class="c"># 现货和合约模式逐仓账户获取币币杠杆最大可借</span>
GET  /api/v5/account/max-loan?instId<span class="o">=</span>BTC-USDT&amp;mgnMode<span class="o">=</span>isolated

<span class="c"># 现货和合约模式全仓账户获取币币杠杆最大可借（指定保证金为BTC）</span>
GET  /api/v5/account/max-loan?instId<span class="o">=</span>BTC-USDT&amp;mgnMode<span class="o">=</span>cross&amp;mgnCcy<span class="o">=</span>BTC

<span class="c"># 跨币种全仓账户获取币币杠杠最大可借</span>
GET  /api/v5/account/max-loan?instId<span class="o">=</span>BTC-USDT&amp;mgnMode<span class="o">=</span>cross

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 现货和合约模式全仓账户获取币币杠杆最大可借（指定保证金为BTC）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_max_loan</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">mgnMode</span><span class="o">=</span><span class="s">"cross"</span><span class="p">,</span>
    <span class="n">mgnCcy</span><span class="o">=</span><span class="s">"BTC"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">仓位类型<br><code>isolated</code>：逐仓<br><code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品 ID，如 <code>BTC-USDT</code><br>支持多产品ID查询（不超过5个），半角逗号分隔</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种<br>仅适用于<code>现货模式</code>下手动借币币种最大可借</td>
</tr>
<tr>
<td style="text-align: left">mgnCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种，如 <code>BTC</code><br><code>现货和合约模式</code>币币杠杆全仓情况下必须指定保证金币种</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgnCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgnCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品 ID</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位类型</td>
</tr>
<tr>
<td style="text-align: left">mgnCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">maxLoan</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大可借</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-fee-rates">获取当前账户交易手续费费率 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/trade-fee</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 获取币币BTC-USDT交易手续费率  </span>
GET /api/v5/account/trade-fee?instType<span class="o">=</span>SPOT&amp;instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取当前账户交易手续费费率
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_fee_rates</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span><span class="p">,</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code><br>仅适用于instType为<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code></td>
</tr>
<tr>
<td style="text-align: left">ruleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易规则类型<br> <code>normal</code>：普通交易<br> <code>pre_market</code>：盘前交易<br> ruleType不能与instId/instFamily/uly同时传入</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="err">//已废弃</span><span class="w">
            </span><span class="nl">"delivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"exercise"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lv1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"makerUSDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"takerUSDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ruleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1608623351857"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>level</td>
<td>String</td>
<td>手续费等级</td>
</tr>
<tr>
<td>taker</td>
<td>String</td>
<td>对于币币/杠杆，为 USDT 交易区的吃单手续费率；<br>对于永续，交割和期权合约，为币本位合约费率</td>
</tr>
<tr>
<td>maker</td>
<td>String</td>
<td>对于币币/杠杆，为 USDT 交易区的挂单手续费率；<br>对于永续，交割和期权合约，为币本位合约费率</td>
</tr>
<tr>
<td>takerU</td>
<td>String</td>
<td>USDT 合约吃单手续费率，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td>makerU</td>
<td>String</td>
<td>USDT 合约挂单手续费率，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td>delivery</td>
<td>String</td>
<td>交割手续费率</td>
</tr>
<tr>
<td>exercise</td>
<td>String</td>
<td>行权手续费率</td>
</tr>
<tr>
<td>instType</td>
<td>String</td>
<td>产品类型</td>
</tr>
<tr>
<td>takerUSDC</td>
<td>String</td>
<td>对于币币/杠杆，为 USDⓈ&amp;Crypto 交易区的吃单手续费率；<br>对于永续和交割合约，为 USDC 合约费率</td>
</tr>
<tr>
<td>makerUSDC</td>
<td>String</td>
<td>对于币币/杠杆，为 USDⓈ&amp;Crypto 交易区的挂单手续费率；<br>对于永续和交割合约，为 USDC 合约费率</td>
</tr>
<tr>
<td>ruleType</td>
<td>String</td>
<td>交易规则类型<br> <code>normal</code>：普通交易<br> <code>pre_market</code>：盘前交易</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>数据返回时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>category</td>
<td>String</td>
<td><del>币种类别<del>（已废弃）</del></del></td>
</tr>
<tr>
<td>fiat</td>
<td>Array</td>
<td>法币费率</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>法币币种</td>
</tr>
<tr>
<td>&gt; taker</td>
<td>String</td>
<td>吃单手续费率</td>
</tr>
<tr>
<td>&gt; maker</td>
<td>String</td>
<td>挂单手续费率</td>
</tr>
</tbody></table>

<aside class="notice">
备注：<br>
手续费率的值（如 maker/taker）：正数，代表是返佣的费率；负数，代表平台扣除的费率。
</aside>

<aside class="notice">
USDⓈ 代表除 USDT 之外的稳定币。
</aside>
<h3 id="trading-account-rest-api-get-interest-accrued-data">获取计息记录 </h3>
<p>获取计息记录，仅能获取最近一年内的数据。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/interest-accrued</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/interest-accrued

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取计息记录
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_interest_accrued</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借币类型<br><code>2</code>：市场借币<br>默认为<code>2</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借贷币种，如 <code>BTC</code><br>仅适用于<code>市场借币</code><br>仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code><br>仅适用于<code>市场借币</code></td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓<br>仅适用于<code>市场借币</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0003960833333334"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interestRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000040833333333"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637312400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0004083333333334"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interestRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000040833333333"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637049600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>String</td>
<td>类型<br><code>2</code>：市场借币</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>instId</td>
<td>String</td>
<td>产品ID，如 <code>BTC-USDT-SWAP</code><br>仅适用于<code>市场借币</code></td>
</tr>
<tr>
<td>mgnMode</td>
<td>String</td>
<td>保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓</td>
</tr>
<tr>
<td>interest</td>
<td>String</td>
<td>利息</td>
</tr>
<tr>
<td>interestRate</td>
<td>String</td>
<td>计息利率(小时)</td>
</tr>
<tr>
<td>liab</td>
<td>String</td>
<td>计息负债</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>计息时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-interest-rate">获取用户当前市场借币利率  </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/interest-rate</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/interest-rate

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取用户当前市场借币利率
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_interest_rate</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interestRate"</span><span class="p">:</span><span class="s2">"0.0001"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interestRate"</span><span class="p">:</span><span class="s2">"0.0003"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">interestRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市场借币利率(当前小时)</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-greeks-pa-bs">期权greeks的PA/BS切换 </h3>
<p>设置greeks的展示方式。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-greeks</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/set-greeks 
body
<span class="o">{</span>
    <span class="s2">"greeksType"</span>:<span class="s2">"PA"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 期权greeks的PA/BS切换
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">set_greeks</span><span class="p">(</span><span class="n">greeksType</span><span class="o">=</span><span class="s">"PA"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">greeksType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">希腊字母展示方式<br><code>PA</code>：币本位，<code>BS</code>：美元本位</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"greeksType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PA"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">greeksType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前希腊字母展示方式</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-isolated-margin-trading-settings">逐仓交易设置 </h3>
<p>可以通过该接口设置币币杠杆和交割、永续的逐仓仓位保证金的划转模式</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-isolated-mode</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/set-isolated-mode
body
<span class="o">{</span>
    <span class="s2">"isoMode"</span>:<span class="s2">"automatic"</span>,
    <span class="s2">"type"</span>:<span class="s2">"MARGIN"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 逐仓交易设置
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">set_isolated_mode</span><span class="p">(</span>
    <span class="n">isoMode</span><span class="o">=</span><span class="s">"automatic"</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="s">"MARGIN"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">isoMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">逐仓保证金划转模式<br><code>automatic</code>：开仓自动划转</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">业务线类型<br><code>MARGIN</code>：币币杠杆<br><code>CONTRACTS</code>：合约</td>
</tr>
</tbody></table>

<aside class="notice">
当前账户内有持仓和挂单时，不能调整逐仓保证金划转模式。
</aside>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"isoMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"automatic"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">isoMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">逐仓保证金划转模式<br><code>automatic</code>：开仓自动划转</td>
</tr>
</tbody></table>

<aside class="notice">
衍生品<br>
开仓划转：在开仓和平仓时自动占用和释放保证金
</aside>

<aside class="notice">
杠杆<br>
开仓划转：在开仓和平仓时自动借币和还币
</aside>
<h3 id="trading-account-rest-api-get-maximum-withdrawals">查看账户最大可转余额 </h3>
<p>当指定币种时会返回该币种的交易账户到资金账户的最大可划转数量，不指定币种会返回所有拥有的币种资产可划转数量。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/max-withdrawal</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/max-withdrawal

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户最大可转余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_max_withdrawal</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>支持多币种查询（不超过20个），币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxWdEx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"125"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotOffsetMaxWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotOffsetMaxWdEx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxWdEx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotOffsetMaxWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotOffsetMaxWdEx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">maxWd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大可划转数量（不包含 <code>跨币种保证金模式</code>/<code>组合保证金模式</code> 借币金额）</td>
</tr>
<tr>
<td style="text-align: left">maxWdEx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大可划转数量（包含 <code>跨币种保证金模式</code>/<code>组合保证金模式</code> 借币金额）</td>
</tr>
<tr>
<td style="text-align: left">spotOffsetMaxWd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲不支持借币最大可转数量<br>仅适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">spotOffsetMaxWdEx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲支持借币的最大可转数量<br>仅适用于<code>组合保证金模式</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-account-risk-state">查看账户特定风险状态 </h3>
<p>仅适用于PM账户</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/risk-state</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/risk-state

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户持仓风险
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_position_risk</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"atRisk"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"atRiskIdx"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"atRiskMgn"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1635745078794"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>atRisk</td>
<td>String</td>
<td>自动借币模式下的账户风险状态<br>true： 当前账户为特定风险状态<br>false： 当前不是特定风险状态</td>
</tr>
<tr>
<td>atRiskIdx</td>
<td>Array</td>
<td>衍生品的risk unit列表</td>
</tr>
<tr>
<td>atRiskMgn</td>
<td>Array</td>
<td>杠杆的risk unit列表</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>接口数据返回时间 ，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
当账户进入特定风险状态后，仅可以委托降低账户风险方向的IOC类型订单.
</aside>
<h3 id="trading-account-rest-api-manual-borrow-and-repay-in-quick-margin-mode">一键借币模式手动借币还币 </h3>
<p>请注意，该接口将很快被弃用。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/quick-margin-borrow-repay</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/quick-margin-borrow-repay 
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
    <span class="s2">"side"</span>:<span class="s2">"borrow"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"100"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如BTC-USDT</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left"><code>borrow</code>：借币，<code>repay</code>：还币</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借/还币的数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"borrow"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如BTC-USDT</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><code>borrow</code>：借币，<code>repay</code>：还币</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借/还币的数量</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-borrow-and-repay-history-in-quick-margin-mode">获取一键借币还币历史 </h3>
<p>获取最多3个月内的记录</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/quick-margin-borrow-repay-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/quick-margin-borrow-repay-history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 BTC-USDT</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><code>borrow</code>：借币，<code>repay</code>：还币</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之前（更旧的数据）的分页内容，传的值为对应接口的<code>refId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之后（更新的数据）的分页内容，传的值为对应接口的<code>refId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳，Unix 时间戳为毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳，Unix 时间戳为毫秒数格式，如 1597027383085</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"borrow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637310691470124"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637310691470"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"borrow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637310691470123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637310691400"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>String</td>
<td>产品ID，如 BTC-USDT</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td><code>borrow</code>：借币，<code>repay</code>：还币</td>
</tr>
<tr>
<td>accBorrowed</td>
<td>String</td>
<td>累计借币</td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>借/还币的数量</td>
</tr>
<tr>
<td>refId</td>
<td>String</td>
<td>对应记录ID，借币或还币的ID</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>借/还币时间</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-borrow-interest-and-limit">获取借币利率与限额 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/interest-limits</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/interest-limits?type<span class="o">=</span>1&amp;ccy<span class="o">=</span>BTC

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取借币利率与限额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_interest_limits</span><span class="p">(</span>
    <span class="nb">type</span><span class="o">=</span><span class="s">"1"</span><span class="p">,</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借币类型<br><code>2</code>：市场借币<br>默认为<code>2</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借贷币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"debt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.85893159114900247077000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000000000000000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"loanAlloc"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nextDiscountTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729490400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nextInterestTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729490400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"records"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"avgRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"loanQuota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175.00000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000276"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"surplusLmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175.00000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"surplusLmtDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
                    </span><span class="nl">"usedLmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"usedLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>debt</td>
<td>String</td>
<td>当前负债，单位为<code>USDT</code></td>
</tr>
<tr>
<td>interest</td>
<td>String</td>
<td>当前记息，单位为<code>USDT</code><br>仅适用于<code>市场借币</code></td>
</tr>
<tr>
<td>nextDiscountTime</td>
<td>String</td>
<td>下次扣息时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>nextInterestTime</td>
<td>String</td>
<td>下次计息时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>loanAlloc</td>
<td>String</td>
<td>当前交易账户尊享借币可用额度的比率（百分比）<br>1. 范围为[0, 100]. 精度为 0.01% (2位小数)<br>2. 0 代表母账户没有为子账户分配；<br>3. "" 代表母子账户共享</td>
</tr>
<tr>
<td>records</td>
<td>Array</td>
<td>各币种详细信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; rate</td>
<td>String</td>
<td>日利率</td>
</tr>
<tr>
<td>&gt; loanQuota</td>
<td>String</td>
<td>母账户维度借币限额<br>如果已配置可用额度，该字段代表当前交易账户的借币限额</td>
</tr>
<tr>
<td>&gt; surplusLmt</td>
<td>String</td>
<td>母子账户剩余可借<br>如果已配置可用额度，该字段代表当前交易账户的剩余可借</td>
</tr>
<tr>
<td>&gt; surplusLmtDetails</td>
<td>Object</td>
<td>母子账户剩余可借额度详情，母子账户剩余可借额度的值取该数组中的最小值，可以用来判断是什么原因导致可借额度不足<br>仅适用于<code>尊享借币</code></td>
</tr>
<tr>
<td>&gt;&gt; allAcctRemainingQuota</td>
<td>String</td>
<td>母子账户剩余额度</td>
</tr>
<tr>
<td>&gt;&gt; curAcctRemainingQuota</td>
<td>String</td>
<td>当前账户剩余额度<br>仅适用于为子账户分配限额的场景</td>
</tr>
<tr>
<td>&gt;&gt; platRemainingQuota</td>
<td>String</td>
<td>平台剩余额度，当平台剩余额度大于<code>curAcctRemainingQuota</code>或者<code>allAcctRemainingQuota</code>时，会显示大于某个值，如"&gt;1000"</td>
</tr>
<tr>
<td>&gt; usedLmt</td>
<td>String</td>
<td>母子账户已借额度<br>如果已配置可用额度，该字段代表当前交易账户的已借额度</td>
</tr>
<tr>
<td>&gt; interest</td>
<td>String</td>
<td>已计未扣利息<br>仅适用于<code>市场借币</code></td>
</tr>
<tr>
<td>&gt; posLoan</td>
<td>String</td>
<td>当前账户负债占用（锁定额度内）<br>仅适用于<code>尊享借币</code></td>
</tr>
<tr>
<td>&gt; availLoan</td>
<td>String</td>
<td>当前账户剩余可用（锁定额度内）<br>仅适用于<code>尊享借币</code></td>
</tr>
<tr>
<td>&gt; usedLoan</td>
<td>String</td>
<td>当前账户已借额度<br>仅适用于<code>尊享借币</code></td>
</tr>
<tr>
<td>&gt; avgRate</td>
<td>String</td>
<td>币种已借平均(小时)利率，仅适用于<code>尊享借币</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-fixed-loan-borrow-limit">获取固定借币限额 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/fixed-loan/borrowing-limit</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/fixed-loan/borrowing-limit

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"availRepay"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1110.9884"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60895.1139"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0566"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1433"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"114.582"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.6666"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"248727.5"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61115"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999.5679"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"totalAvailBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"289336.6564"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalBorrowLmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22843016.1921"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1716368077071"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59784.1256"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>totalBorrowLmt</td>
<td>String</td>
<td>（母子账户）借币限额</td>
</tr>
<tr>
<td>totalAvailBorrow</td>
<td>String</td>
<td>（母子账户）剩余可借</td>
</tr>
<tr>
<td>borrowed</td>
<td>String</td>
<td>（当前账户）已借</td>
</tr>
<tr>
<td>used</td>
<td>String</td>
<td>（当前账户）已使用额度</td>
</tr>
<tr>
<td>availRepay</td>
<td>String</td>
<td>（当前账户）可还额度</td>
</tr>
<tr>
<td>details</td>
<td>Array of object</td>
<td>币种维度借币信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; used</td>
<td>String</td>
<td>当前币种已使用额度</td>
</tr>
<tr>
<td>&gt; borrowed</td>
<td>String</td>
<td>当前币种已借</td>
</tr>
<tr>
<td>&gt; availBorrow</td>
<td>String</td>
<td>当前币种剩余可借</td>
</tr>
<tr>
<td>&gt; minBorrow</td>
<td>String</td>
<td>当前币种最小借币数量</td>
</tr>
<tr>
<td>&gt; term</td>
<td>String</td>
<td>借贷期限<br>如 <code>30D</code>：30天</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>数据返回时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-fixed-loan-borrow-quote">获取固定借币询价 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/fixed-loan/borrowing-quote</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 新订单询价</span>
GET /api/v5/account/fixed-loan/borrowing-quote?type<span class="o">=</span>normal&amp;ccy<span class="o">=</span>BTC&amp;maxRate<span class="o">=</span>0.1&amp;amt<span class="o">=</span>0.1&amp;term<span class="o">=</span>30D

<span class="c"># 续借询价</span>
GET /api/v5/account/fixed-loan/borrowing-quote?type<span class="o">=</span>reborrow&amp;ordId<span class="o">=</span>2405162053378222
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">类型<br><code>normal</code>：普通<br><code>reborrow</code>：续借</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>当<code>type</code>=<code>normal</code>，该字段必填。</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">借币数量<br>当<code>type</code>=<code>normal</code>，该字段必填。</td>
</tr>
<tr>
<td style="text-align: left">maxRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">借币年利率，小数形式，如 <code>0.01</code> 代表 <code>1%</code>。<br>当<code>type</code>=<code>normal</code>，该字段必填。</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">借贷期限<br><code>30D</code>：30天<br>当<code>type</code>=<code>normal</code>，该字段必填。</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单ID<br>当<code>type</code>=<code>reborrow</code>，该字段必填。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estAvailBorrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0215"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00017716"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"penaltyInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1714963101596"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>借贷期限<br><code>30D</code>：30天</td>
</tr>
<tr>
<td>estAvailBorrow</td>
<td>String</td>
<td>预估可借</td>
</tr>
<tr>
<td>estRate</td>
<td>String</td>
<td>预估可借年利率</td>
</tr>
<tr>
<td>estInterest</td>
<td>String</td>
<td>预估利息</td>
</tr>
<tr>
<td>penaltyInterest</td>
<td>String</td>
<td>罚息<br>适用于<code>type</code>=<code>reborrow</code></td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>数据返回时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-place-fixed-loan-borrowing-order">固定借币下单 </h3>
<p>对于新的借币订单，属于IOC(立即成交并取消剩余)类型。对于续借订单，属于FOK(全部成交或立即取消)类型。<br>
订单簿信息可以参考 <a href="https://www.okx.com/docs-v5/zh/#financial-product-fixed-earn-get-lending-volume-public">获取借贷量</a>。</p>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/fixed-loan/borrowing-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/fixed-loan/borrowing-order
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>: <span class="s2">"BTC"</span>,
    <span class="s2">"amt"</span>: <span class="s2">"0.1"</span>,
    <span class="s2">"maxRate"</span>: <span class="s2">"0.01"</span>,
    <span class="s2">"term"</span>: <span class="s2">"30D"</span>,
    <span class="s2">"reborrow"</span>: <span class="nb">true</span>,
    <span class="s2">"reborrowRate"</span>: <span class="s2">"0.01"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币数量</td>
</tr>
<tr>
<td style="text-align: left">maxRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币年利率，小数形式，如 <code>0.01</code> 代表 <code>1%</code>。</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借贷期限</td>
</tr>
<tr>
<td style="text-align: left">reborrow</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否到期自动续借<br>默认为<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">reborrowRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">自动续借利率, 小数形式，如 <code>0.01</code> 代表 <code>1%</code>。<br>如果<code>reborrow</code>为<code>true</code>，该字段必填。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2405162053378222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-amend-fixed-loan-borrowing-order">修改固定借币订单 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/fixed-loan/amend-borrowing-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/fixed-loan/amend-borrowing-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>: <span class="s2">"2405162053378222"</span>,
    <span class="s2">"reborrow"</span>: <span class="nb">true</span>,
    <span class="s2">"renewMaxRate"</span>: <span class="s2">"0.01"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币订单ID</td>
</tr>
<tr>
<td style="text-align: left">reborrow</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否到期自动续借<br>默认为<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">renewMaxRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">自动续借年利率, 小数形式，如 <code>0.01</code> 代表 <code>1%</code>。<br>如果<code>reborrow</code>为<code>true</code>，该字段必填。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2405162053378222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>借币订单ID</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-manual-renew-fixed-loan-borrowing-order">固定借币手动续借 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/fixed-loan/manual-reborrow</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/fixed-loan/manual-reborrow
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>: <span class="s2">"2405162053378222"</span>,
    <span class="s2">"maxRate"</span>: <span class="s2">"0.01"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币订单ID</td>
</tr>
<tr>
<td style="text-align: left">maxRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">手动续借可接受最大年利率, 小数形式，如 <code>0.01</code> 代表 <code>1%</code>。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2405162053378222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-repay-fixed-loan-borrowing-order">固定借币手动还币 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/fixed-loan/repay-borrowing-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/fixed-loan/repay-borrowing-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>: <span class="s2">"2405162053378222"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2405162053378222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-convert-fixed-loan-to-market-loan">固定借币转市场借币 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/fixed-loan/convert-to-market-loan</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/fixed-loan/convert-to-market-loan
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>: <span class="s2">"2409141848234868"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2409141848234868"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>借币订单ID</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-reduce-liabilities-for-fixed-loan">固定借币减少负债 </h3>
<p>提供为订单“设置待还币状态/取消待还币状态”功能。</p>

<aside class="notice">
设置待还币状态<br><br>
• 当订单将变为待还币状态，同时币种的借还币顺序将变更为：还币顺序为先还固定借币，其次为市场化借币。新增负债占用借币限额的顺序为先占用市场化借币额度，其次为固定借币。<br><br>
• 成功还币后，上述的借还币顺序将恢复为：还币顺序市场化借币优先。新增负债占用顺序固定借币优先。<br><br>
• 当多个订单处于待还币状态时，系统将优先处理到期日最早的订单。如果到期日相同，则优先处理利率最高的订单。如果利率也相同，则优先处理金额最大的订单。一旦您还清所有订单或取消还币，优先级将恢复为默认状态。<br><br>
• 您可以通过杠杆平仓、向交易账户转入借币币种来降低负债。若负债降低数量大于或等于当前订单借币数量，将自动还币。<br><br>
• 已经处于待还币状态的订单无法手动还币，如果需要手动还币需要取消待还币状态。
</aside>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/fixed-loan/reduce-liabilities</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/fixed-loan/reduce-liabilities
body
<span class="o">{</span>    
    <span class="s2">"ordId"</span>: <span class="s2">"2409141802194350"</span>,
    <span class="s2">"pendingRepay"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币订单ID</td>
</tr>
<tr>
<td style="text-align: left">pendingRepay</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left"><code>true</code>：设置订单为待还币状态<br><code>false</code>：取消订单待还币状态</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2409141802194350"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingRepay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>借币订单ID</td>
</tr>
<tr>
<td>pendingRepay</td>
<td>String</td>
<td><code>true</code>：设置订单为待还币状态<br><code>false</code>：取消订单待还币状态</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-fixed-loan-borrow-order-list">获取固定借币订单信息 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/fixed-loan/borrowing-orders-list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/fixed-loan/borrowing-orders-list

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">状态<br><code>1</code>：借币中<br><code>2</code>：借币成功<br><code>3</code>：已还币<br><code>4</code>：申请失败<br><code>5</code>：已逾期<br><code>6</code>：还币中<br><code>7</code>：续借中<br><code>8</code>：待还币 (详情参考 <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-reduce-liabilities-for-fixed-loan">固定借币减少负债</a>)</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借贷期限<br>如 <code>30D</code>：30天</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为<code>100</code>，默认<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accruedInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0065753424657534"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualBorrowAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1720701491000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deadlinePenaltyInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1723271891000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"earlyRepayPenaltyInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1723293491000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failedReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"forceRepayTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1725885491000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2407112038109533"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"overduePenaltyInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"potentialPenaltyInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reborrow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reborrowRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reqBorrowAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settleReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1720701490000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>借贷期限<br>如 <code>30D</code>: 30天</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>状态<br><code>1</code>：借币中<br><code>2</code>：借币成功<br><code>3</code>：已还币<br><code>4</code>：申请失败<br><code>5</code>：已逾期<br><code>6</code>：还币中<br><code>7</code>：续借中<br><code>8</code>：待还币 (详情参考 <a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-reduce-liabilities-for-fixed-loan">固定借币减少负债</a>)</td>
</tr>
<tr>
<td>failedReason</td>
<td>String</td>
<td>借币失败原因<br><code>1</code>：当前没有匹配订单<br><code>2</code>：无法支付预付利息<br><code>-1</code>：其他原因</td>
</tr>
<tr>
<td>settleReason</td>
<td>String</td>
<td>订单结束原因<br><code>1</code>：订单到期<br><code>2</code>：提前展期（续借）<br><code>3</code>：提前释放额度</td>
</tr>
<tr>
<td>curRate</td>
<td>String</td>
<td>当前订单的借币年利率</td>
</tr>
<tr>
<td>accruedInterest</td>
<td>String</td>
<td>应计利息</td>
</tr>
<tr>
<td>reqBorrowAmt</td>
<td>String</td>
<td>原始借币数量</td>
</tr>
<tr>
<td>actualBorrowAmt</td>
<td>String</td>
<td>实际借币数量</td>
</tr>
<tr>
<td>reborrow</td>
<td>Boolean</td>
<td>是否自动续借<br><code>true</code>：自动续借<br><code>false</code>：非自动续借</td>
</tr>
<tr>
<td>reborrowRate</td>
<td>String</td>
<td>自动续借利率，小时形式，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td>expiryTime</td>
<td>String</td>
<td>到期时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>forceRepayTime</td>
<td>String</td>
<td>强制还币时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>deadlinePenaltyInterest</td>
<td>String</td>
<td>罚息截止时间（在此时间之后提前还币将不会产生罚息），Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>potentialPenaltyInterest</td>
<td>String</td>
<td>提前还币带来的潜在罚息</td>
</tr>
<tr>
<td>overduePenaltyInterest</td>
<td>String</td>
<td>逾期利息</td>
</tr>
<tr>
<td>earlyRepayPenaltyInterest</td>
<td>String</td>
<td>提前还币产生的实际罚息</td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-manual-borrow-repay">手动借/还币 </h3>
<p>仅适用于<code>现货模式</code>已开通借币的情况。</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/spot-manual-borrow-repay</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/spot-manual-borrow-repay 
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>: <span class="s2">"USDT"</span>,
    <span class="s2">"side"</span>: <span class="s2">"borrow"</span>,
    <span class="s2">"amt"</span>: <span class="s2">"100"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span><span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">spot_manual_borrow_repay</span><span class="p">(</span><span class="n">ccy</span><span class="o">=</span><span class="s">"USDT"</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s">"borrow"</span><span class="p">,</span> <span class="n">amt</span><span class="o">=</span> <span class="s">"1"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">方向<br><code>borrow</code>：借币<br><code>repay</code>：还币</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"borrow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">方向<br><code>borrow</code>：借币<br><code>repay</code>：还币</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际数量</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-auto-repay">设置自动还币 </h3>
<p>仅适用于<code>现货模式</code>已开通借币的情况。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-auto-repay</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/set-auto-repay
body
<span class="o">{</span>
    <span class="s2">"autoRepay"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span><span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">set_auto_repay</span><span class="p">(</span><span class="n">autoRepay</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">autoRepay</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是否支持<code>现货模式</code>下自动还币<br><code>true</code>：支持<br><code>false</code>：不支持</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"autoRepay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">autoRepay</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否支持<code>现货模式</code>下自动还币<br><code>true</code>：支持<br><code>false</code>：不支持</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-borrow-repay-history">获取借/还币历史 </h3>
<p>获取<code>现货模式</code>下的借/还币历史。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/spot-borrow-repay-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/spot-borrow-repay-history
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span><span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">spot_borrow_repay_history</span><span class="p">(</span><span class="n">ccy</span><span class="o">=</span><span class="s">"USDT"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">"auto_borrow"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">事件类型<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币<br><code>manual_borrow</code>：手动借币<br><code>manual_repay</code>：手动还币</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求发生时间<code>ts</code>之前（包含）的分页内容，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求发生时间<code>ts</code>之后（包含）的分页内容，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6764.802661157592"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1725330976644"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto_repay"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件类型<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币<br><code>manual_borrow</code>：手动借币<br><code>manual_repay</code>：手动还币</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数量</td>
</tr>
<tr>
<td style="text-align: left">accBorrowed</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计借币数量</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件发生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-position-builder-new">仓位创建器 </h3>
<p>计算用户的模拟头寸或当前头寸的投资组合保证金信息，一次请求最多可添加200个虚拟仓位和200个虚拟虚拟资产</p>
<h4 id="2-2s">限速：2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/position-builder</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 真实与虚拟的仓位与资产一起计算</span>
POST /api/v5/account/position-builder
body
<span class="o">{</span>
    <span class="s2">"inclRealPosAndEq"</span>: <span class="nb">false</span>,
    <span class="s2">"simPos"</span>:[
         <span class="o">{</span>
            <span class="s2">"pos"</span>:<span class="s2">"-10"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
            <span class="s2">"avgPx"</span>:<span class="s2">"100000"</span>
         <span class="o">}</span>,
         <span class="o">{</span>
            <span class="s2">"pos"</span>:<span class="s2">"10"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"LTC-USDT-SWAP"</span>,
            <span class="s2">"avgPx"</span>:<span class="s2">"8000"</span>
         <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"simAsset"</span>:[
        <span class="o">{</span>
            <span class="s2">"ccy"</span>: <span class="s2">"USDT"</span>,
            <span class="s2">"amt"</span>: <span class="s2">"100"</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"greeksType"</span>:<span class="s2">"CASH"</span>
<span class="o">}</span>


<span class="c"># 只计算已有真实仓位</span>
POST /api/v5/account/position-builder
body
<span class="o">{</span>
   <span class="s2">"inclRealPosAndEq"</span>: <span class="nb">true</span>
<span class="o">}</span>


<span class="c"># 只计算虚拟仓位</span>
POST /api/v5/account/position-builder
body
<span class="o">{</span>
    <span class="s2">"acctLv"</span>: <span class="s2">"4"</span>,
    <span class="s2">"inclRealPosAndEq"</span>: <span class="nb">false</span>,
    <span class="s2">"simPos"</span>:[
        <span class="o">{</span>
            <span class="s2">"pos"</span>:<span class="s2">"10"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
            <span class="s2">"avgPx"</span>:<span class="s2">"100000"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"pos"</span>:<span class="s2">"10"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"LTC-USDT-SWAP"</span>,
            <span class="s2">"avgPx"</span>:<span class="s2">"8000"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

<span class="c"># 切换到跨币种</span>
POST /api/v5/account/position-builder
body
<span class="o">{</span>
    <span class="s2">"acctLv"</span>: <span class="s2">"3"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"10"</span>,
    <span class="s2">"simPos"</span>:[
        <span class="o">{</span>
            <span class="s2">"pos"</span>:<span class="s2">"10"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
            <span class="s2">"avgPx"</span>:<span class="s2">"100000"</span>,
            <span class="s2">"lever"</span>:<span class="s2">"5"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"pos"</span>:<span class="s2">"10"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"LTC-USDT-SWAP"</span>,
            <span class="s2">"avgPx"</span>:<span class="s2">"8000"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API initialization
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># Production trading:0 , demo trading:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">position_builder</span><span class="p">(</span>
    <span class="n">inclRealPosAndEq</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">simPos</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"pos"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT-SWAP"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"pos"</span><span class="p">:</span> <span class="s">"10"</span><span class="p">,</span>
            <span class="s">"instId"</span><span class="p">:</span> <span class="s">"LTC-USDT-SWAP"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">acctLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">切换至账户模式<br><code>3</code>：跨币种保证金模式<br><code>4</code>：组合保证金模式</td>
</tr>
<tr>
<td style="text-align: left">inclRealPosAndEq</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否代入已有仓位和资产<br>默认为<code>true</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">跨币种下整体的全仓合约杠杆数量，默认为<code>1</code>。<br>如果超过允许的杠杆倍数，按照最大的杠杆设置。<br>适用于<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">simPos</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">模拟仓位列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易产品ID，如 <code>BTC-USDT-SWAP</code><br>适用于 <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">持仓量</td>
</tr>
<tr>
<td style="text-align: left">&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">平均开仓价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">杠杆<br>仅适用于在跨币种保证金模式下指定交易产品的杠杆。如果用户不传，则选择默认杠杆为<code>1</code>。</td>
</tr>
<tr>
<td style="text-align: left">simAsset</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">模拟资产<br>当<code>inclRealPosAndEq</code>为<code>true</code>，只考虑真实资产，会忽略虚拟资产</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种数量<br>可以为负，代表减少币种资产</td>
</tr>
<tr>
<td style="text-align: left">greeksType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">希腊值类型<br><code>BS</code>：BS模型<br><code>PA</code>：币本位<br><code>CASH</code>：美元现金等价<br>默认是<code>BS</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"acctLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.1364949794742562"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowImr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotInUse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowImr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotInUse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowImr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotInUse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78589.37"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowImr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7855.32188898"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotInUse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"borrowMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1571.064377796"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"derivMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1375.4837063088003"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78553.21888979999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-25.95365779811705"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"riskUnitData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-9704.903689800001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1538.9669514070802"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1183.8207318516002"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1164.4109244719994"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr1FinalResult"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1164.4109244719994"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"spotShock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"volShock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mr1Scenarios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"volSame"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.08"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-776.2739496480004"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.08"</span><span class="p">:</span><span class="w"> </span><span class="s2">"776.2739496480004"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.04"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-388.1369748240002"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1164.4109244719994"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1164.4109244719994"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.04"</span><span class="p">:</span><span class="w"> </span><span class="s2">"388.1369748240002"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"volShockDown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.08"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-776.2739496480004"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.08"</span><span class="p">:</span><span class="w"> </span><span class="s2">"776.2739496480004"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.04"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-388.1369748240002"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1164.4109244719994"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1164.4109244719994"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.04"</span><span class="p">:</span><span class="w"> </span><span class="s2">"388.1369748240002"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"volShockUp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.08"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-776.2739496480004"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.08"</span><span class="p">:</span><span class="w"> </span><span class="s2">"776.2739496480004"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.04"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-388.1369748240002"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1164.4109244719994"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1164.4109244719994"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.04"</span><span class="p">:</span><span class="w"> </span><span class="s2">"388.1369748240002"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mr2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.4098073796"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr6"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1164.4109244720003"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr6FinalResult"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2328.8218489440005"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"spotShock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.24"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mr7"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43.67206660410001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1571.064377796"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr9"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"portfolios"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-10"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-9704.903689800001"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"floatPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"290.6300000000003"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"isRealPos"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97093.7"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9703.22"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"riskUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"290.49631020000027"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1019.5308"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"249.16186679436"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"191.6629744572"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"183.50672805719995"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr1FinalResult"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-183.50672805719995"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"spotShock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.18"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"volShock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mr1Scenarios"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"volSame"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.06"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-61.168909352399936"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.06"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61.168909352399936"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.18"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-183.50672805719995"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.18"</span><span class="p">:</span><span class="w"> </span><span class="s2">"183.50672805719995"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122.33781870480001"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.33781870480001"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"volShockDown"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.06"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-61.168909352399936"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.06"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61.168909352399936"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.18"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-183.50672805719995"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.18"</span><span class="p">:</span><span class="w"> </span><span class="s2">"183.50672805719995"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122.33781870480001"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.33781870480001"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="nl">"volShockUp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.06"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-61.168909352399936"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.06"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61.168909352399936"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.18"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-183.50672805719995"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.18"</span><span class="p">:</span><span class="w"> </span><span class="s2">"183.50672805719995"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"122.33781870480001"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"-0.12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.33781870480001"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mr2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.1562464"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr6"</span><span class="p">:</span><span class="w"> </span><span class="s2">"183.5067280572"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr6FinalResult"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-367.0134561144"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"spotShock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.36"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"mr7"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.1367156"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1571.064377796"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mr9"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"portfolios"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8000"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1019.5308"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"floatPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78980"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"isRealPos"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1018.9"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"riskUnit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78943.6692"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"totalImr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9643.45070718144"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalMmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2946.5480841048"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1736936801642"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78653.1728898"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">eq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户有效保证金</td>
</tr>
<tr>
<td style="text-align: left">totalMmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户维持保证金，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">totalImr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户初始保证金占用，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">borrowMmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户借币维持保证金，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">derivMmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户衍生品维持保证金，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">marginRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户全仓保证金率</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">acctLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户全仓杠杆</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">assets</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">资产信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; availEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种权益</td>
</tr>
<tr>
<td style="text-align: left">&gt; spotInUse</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲占用</td>
</tr>
<tr>
<td style="text-align: left">&gt; borrowMmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>借币维持保证金，单位为<code>USD</code></del>字段已废弃</td>
</tr>
<tr>
<td style="text-align: left">&gt; borrowImr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借币初始保证金，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">riskUnitData</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">Risk unit 相关信息<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; riskUnit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户内的 risk unit，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; indexUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Risk unit 指数对应的美元价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Risk unit 维度的维持保证金，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Risk unit 维度的初始保证金，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Risk unit 维度的浮动盈亏，单位为<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; mr1</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货和波动率变化风险 (适用于所有衍生品，以及在现货对冲模式下的现货)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr2</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间价值风险 (仅适用于期权)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr3</td>
<td style="text-align: left">String</td>
<td style="text-align: left">波动率跨期风险 (仅适用于期权)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr4</td>
<td style="text-align: left">String</td>
<td style="text-align: left">基差风险 (适用于所有衍生品)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr5</td>
<td style="text-align: left">String</td>
<td style="text-align: left">利率风险 (仅适用于期权)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr6</td>
<td style="text-align: left">String</td>
<td style="text-align: left">极端市场波动风险 (适用于所有衍生品，以及在现货对冲模式下的现货)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr7</td>
<td style="text-align: left">String</td>
<td style="text-align: left">减仓成本 (适用于所有衍生品)</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr8</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借币维持保证金/初始保证金</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr9</td>
<td style="text-align: left">String</td>
<td style="text-align: left">USDT-USDC-USD 对冲风险</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr1Scenarios</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">MR1 的压力测试场景分析</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; volShockDown</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">波动率向下时，不同价格波动比率下的压力测试盈亏<br>值为 {<code>change</code>: <code>value</code>, ...} <br><code>change</code>：价格波动比率（百分比），如 <code>0.01</code> 代表 <code>1%</code><br><code>value</code>：压力测试下的盈亏，单位为<code>USD</code><br>如 {"-0.15":"-2333.23", ...}</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; volSame</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">波动率不变时，不同价格波动比率下的压力测试盈亏<br>值为 {<code>change</code>: <code>value</code>, ...} <br><code>change</code>：价格波动比率（百分比），如 <code>0.01</code> 代表 <code>1%</code><br><code>value</code>：压力测试下的盈亏，单位为<code>USD</code><br>如 {"-0.15":"-2333.23", ...}</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; volShockUp</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">波动率向上时，不同价格波动比率下的压力测试盈亏<br>值为 {<code>change</code>: <code>value</code>, ...} <br><code>change</code>：价格波动比率（百分比），如 <code>0.01</code> 代表 <code>1%</code><br><code>value</code>：压力测试下的盈亏，单位为<code>USD</code><br>如 {"-0.15":"-2333.23", ...}</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr1FinalResult</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">MR1 最大亏损场景</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">MR1 最大亏损压测盈亏，单位为 <code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotShock</td>
<td style="text-align: left">String</td>
<td style="text-align: left">MR1 最大亏损的价格波动（百分比），如 <code>0.01</code> 代表 <code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; volShock</td>
<td style="text-align: left">String</td>
<td style="text-align: left">MR1 最大亏损波动率趋势<br><code>down</code>：波动率向下<br><code>unchange</code>：波动率不变<br><code>up</code>：波动率向上</td>
</tr>
<tr>
<td style="text-align: left">&gt; mr6FinalResult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">MR6 最大亏损场景</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">MR6 最大亏损压测盈亏，单位为 <code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotShock</td>
<td style="text-align: left">String</td>
<td style="text-align: left">MR6 最大亏损的价格波动（百分比），如 <code>0.01</code> 代表 <code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; delta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(Risk unit 维度) 合约价格随标的价格变动的比例<br>当标的价格变动 x 时，合约价格变动约为此 Delta 数值乘以 x</td>
</tr>
<tr>
<td style="text-align: left">&gt; gamma</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(Risk unit 维度) 标的价格对 Delta 值的影响程度<br>当标的价格变动 x% 时，期权 Delta 值的变动约为此 Gamma 数值乘以 x%</td>
</tr>
<tr>
<td style="text-align: left">&gt; theta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(Risk unit 维度) 距离到期日时间缩短 1 天，该合约价格的变化量</td>
</tr>
<tr>
<td style="text-align: left">&gt; vega</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(Risk unit 维度) 标的波动率增加 1%，该合约价格的变化量</td>
</tr>
<tr>
<td style="text-align: left">&gt; portfolios</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">资产组合</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：现货<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><code>instType</code>为<code>SPOT</code>，代表现货对冲占用<br><code>instType</code>为<code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>，代表仓位数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平均开仓价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; floatPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金价值</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; delta</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><code>instType</code>为<code>SPOT</code>，代表资产数量。<br><code>instType</code>为<code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>，代表(产品层面) 合约价格随标的价格变动的比例。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; gamma</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(产品层面) 标的价格对 Delta 值的影响程度<br><code>instType</code>为<code>SPOT</code>，返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; theta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(产品层面) 距离到期日时间缩短 1 天，该合约价格的变化量<br><code>instType</code>为<code>SPOT</code>，返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; vega</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(产品层面) 标的波动率增加 1%，该合约价格的变化量<br><code>instType</code>为<code>SPOT</code>，返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; isRealPos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否为真实仓位<br><code>instType</code>为<code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>，该字段有效，其他都默认返回<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; positions</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">仓位信息<br>适用于<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：现货<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><code>instType</code>为<code>SPOT</code>，代表现货对冲占用<br><code>instType</code>为<code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>，代表仓位数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平均开仓价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; floatPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">初始保证金，仅适用于全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金价值</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; isRealPos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否为真实仓位<br><code>instType</code>为<code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>，该字段有效，其他都默认返回<code>false</code></td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-risk-offset-amount">设置现货对冲占用 </h3>
<p>用户自定义现货对冲占用数量，不代表实际现货对冲占用数量。仅适用于组合保证金模式。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-riskOffset-amt</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 设置现货对冲占用</span>
POST /api/v5/account/set-riskOffset-amt
<span class="o">{</span>
   <span class="s2">"ccy"</span>: <span class="s2">"BTC"</span>,
   <span class="s2">"clSpotInUseAmt"</span>: <span class="s2">"0.5"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>是</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>clSpotInUseAmt</td>
<td>String</td>
<td>是</td>
<td>用户自定义现货对冲数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>clSpotInUseAmt</td>
<td>String</td>
<td>用户自定义现货对冲数量</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-greeks">查看账户Greeks </h3>
<p>获取账户资产的greeks信息。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/greeks</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 获取账户中所有资产的greeks</span>
GET /api/v5/account/greeks

<span class="c"># 获取账户中BTC的greeks</span>
GET /api/v5/account/greeks?ccy<span class="o">=</span>BTC

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看账户Greeks
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_greeks</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">            
           </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">    
           </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
           </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1620282889345"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>deltaBS</td>
<td>String</td>
<td>美金本位账户资产delta</td>
</tr>
<tr>
<td>deltaPA</td>
<td>String</td>
<td>币本位账户资产delta</td>
</tr>
<tr>
<td>gammaBS</td>
<td>String</td>
<td>美金本位账户资产gamma，仅适用于<code>期权</code></td>
</tr>
<tr>
<td>gammaPA</td>
<td>String</td>
<td>币本位账户资产gamma，仅适用于<code>期权</code></td>
</tr>
<tr>
<td>thetaBS</td>
<td>String</td>
<td>美金本位账户资产theta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td>thetaPA</td>
<td>String</td>
<td>币本位账户资产theta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td>vegaBS</td>
<td>String</td>
<td>美金本位账户资产vega，仅适用于<code>期权</code></td>
</tr>
<tr>
<td>vegaPA</td>
<td>String</td>
<td>币本位账户资产vega，仅适用于<code>期权</code></td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>获取greeks的时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-pm-position-limitation">获取组合保证金模式仓位限制 </h3>
<p>仅支持获取组合保证金模式下，交割、永续和期权的全仓仓位限制。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/position-tiers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 查看BTC-USDT在组合保证金模式下的全仓限制</span>
GET /api/v5/account/position-tiers?instType<span class="o">=</span>SWAP&amp;uly<span class="o">=</span>BTC-USDT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取组合保证金模式仓位限制
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">get_account_position_tiers</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SWAP"</span><span class="p">,</span>
    <span class="n">uly</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数，如 <code>BTC-USDT</code>，支持多个查询（不超过3个），<code>uly</code>之间半角逗号分隔<br>适用于<code>交割/永续/期权</code><br><code>uly</code>与<code>instFamily</code>必须传一个,若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种，如 <code>BTC-USDT</code>，支持多个查询（不超过5个），<code>instFamily</code>之间半角逗号分隔<br>适用于<code>交割/永续/期权</code><br><code>uly</code>与<code>instFamily</code>必须传一个,若传两个，以<code>instFamily</code>为主</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"posType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">maxSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大持仓量</td>
</tr>
<tr>
<td style="text-align: left">posType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限仓类型，仅适用于组合保证金模式下的期权全仓。<br><code>1</code>：所有合约挂单 + 持仓张数，<code>2</code>：所有合约总挂单张数，<code>3</code>：所有合约总挂单单数，<code>4</code>：同方向合约挂单 + 持仓张数，<code>5</code>：单一合约总挂单单数，<code>6</code>：单一合约挂单 + 持仓张数，<code>7</code>：单笔挂单张数"</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-activate-option">开通期权交易 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/activate-option</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/activate-option

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1600000000000"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开通时间</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-auto-loan">设置自动借币 </h3>
<p>仅适用于跨币种保证金模式和组合保证金模式</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-auto-loan</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/set-auto-loan
body
<span class="o">{</span>
    <span class="s2">"autoLoan"</span>:true,
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">autoLoan</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否自动借币 <br>有效值为<code>true</code>, <code>false</code><br>默认为 <code>true</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"autoLoan"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">autoLoan</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否自动借币</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-preset-account-mode-switch">预设置账户模式切换 </h3>
<p>预设置账户模式切换的必要信息，若由<code>组合保证金模式</code>切换到<code>现货和合约模式</code>/<code>跨币种保证金模式</code>，且存在全仓交割、永续仓位，则必须预设置lever，令所有仓位具有相同杠杆倍数。</p>

<p>若用户未按照规定进行设置，在预检查或设置账户模式时将接收到报错或提示信息。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/account-level-switch-preset</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 1. 现货和合约模式 -&gt; 跨币种</span>
POST /api/v5/account/account-level-switch-preset
<span class="o">{</span>
    <span class="s2">"acctLv"</span>: <span class="s2">"3"</span>
<span class="o">}</span>

<span class="c"># 2. 跨币种 -&gt; 现货和合约模式</span>
POST /api/v5/account/account-level-switch-preset
<span class="o">{</span>
    <span class="s2">"acctLv"</span>: <span class="s2">"2"</span>
<span class="o">}</span>

<span class="c"># 3. 组合保证金 -&gt; 现货和合约模式/跨币种，且有全仓合约仓位，则必须传入lever</span>
POST /api/v5/account/account-level-switch-preset
<span class="o">{</span>
    <span class="s2">"acctLv"</span>: <span class="s2">"2"</span>,
    <span class="s2">"lever"</span>: <span class="s2">"10"</span>
<span class="o">}</span>

<span class="c"># 4. 组合保证金 -&gt; 现货和合约模式/跨币种，没有全仓合约仓位，则不需传入lever，不进行校验</span>
POST /api/v5/account/account-level-switch-preset
<span class="o">{</span>
    <span class="s2">"acctLv"</span>: <span class="s2">"3"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>acctLv</td>
<td>String</td>
<td>是</td>
<td>账户模式<br> <code>2</code>: 现货和合约模式<br> <code>3</code>: 跨币种保证金模式<br> <code>4</code>: 组合保证金模式</td>
</tr>
<tr>
<td>lever</td>
<td>String</td>
<td>可选</td>
<td>在<code>组合保证金模式</code>向<code>现货和合约模式/跨币种保证金模式</code>切换，且用户有全仓仓位时，必须传入</td>
</tr>
<tr>
<td>riskOffsetType</td>
<td>String</td>
<td>可选</td>
<td><del>风险对冲模式<br> <code>1</code>：现货对冲(USDT)<br> <code>2</code>：现货对冲(币)<br> <code>3</code>：衍生品对冲（未开启现货对冲）<br> <code>4</code>：现货对冲(USDC)<br> 适用于<code>现货和合约模式/跨币种保证金模式</code>向<code>组合保证金模式</code>切换</del>（已弃用）</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果 1. 现货和合约模式 -&gt; 跨币种</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>返回结果 2. 跨币种 -&gt; 现货和合约模式</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>返回结果 3. 组合保证金 -&gt; 现货和合约模式/跨币种</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>返回结果 4. 组合保证金 -&gt; 现货和合约模式/跨币种，没有全仓合约仓位，则不需传入lever，不进行校验</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>curAcctLv</td>
<td>String</td>
<td>当前账户类型</td>
</tr>
<tr>
<td>acctLv</td>
<td>String</td>
<td>切换后的账户类型</td>
</tr>
<tr>
<td>lever</td>
<td>String</td>
<td>用户预设置的全仓合约仓位杠杆倍数</td>
</tr>
<tr>
<td>riskOffsetType</td>
<td>String</td>
<td><del>用户预设置的风险对冲模式</del>（已弃用）</td>
</tr>
</tbody></table>

<aside class="notice">
<br>
lever：`保证金模式`向`现货和合约模式/跨币种保证金模式`切换，且用户有全仓合约仓位，则必须传入此参数，不传则报错50014。传此参数，允许设置的最大值为各个合约的仓位大小对应现货和合约模式/跨币种账户模式下最大杠杆倍数的最小值。例如，用户在PM模式下，有三个全仓仓位，当前仓位大小对应目标账户模式下最大杠杆倍数分别为20x/50x/100x，那么用户能够设置的最大杠杆倍数为20x。
</aside>
<h3 id="trading-account-rest-api-precheck-account-mode-switch">预检查账户模式切换 </h3>
<p>获取账户模式切换预检查相关信息</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/set-account-switch-precheck</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/set-account-switch-precheck?acctLv<span class="o">=</span>3

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>acctLv</td>
<td>String</td>
<td>是</td>
<td>账户模式<br> <code>1</code>: 现货模式<br> <code>2</code>: 现货和合约模式<br> <code>3</code>: 跨币种保证金模式<br> <code>4</code>: 组合保证金模式</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果: 现货和合约模式-&gt;跨币种，需要现在网页或移动端完成答题</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51070"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"您当前尚未达到升级至该账户模式的要求，请先在官方网站或APP完成账户模式的升级。"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>返回结果: 现货和合约模式-&gt;跨币种，有不兼容信息。sCode 1</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnAft"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnBf"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posList"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"posTierCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unmatchedInfoCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"posList"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="nl">"totalAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repay_borrowings"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>返回结果: 组合保证金-&gt;跨币种，未进行杠杆设置，展示用户全部合约全仓仓位。sCode 3</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnAft"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnBf"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456500916518912"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456108363218944"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456332909477888"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456415990251520"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"posTierCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unmatchedInfoCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>返回结果: 组合保证金-&gt;跨币种，已进行杠杆设置，将全部杠杆倍数设置为50，通过梯度档位及保证金校验。sCode 0</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curAcctLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnAft"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"acctAvailEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106002.2061970689"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"148.1652396878421"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"mgnBf"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"acctAvailEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77308.89735228613"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.460069474634038"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"posList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456500916518912"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456108363218944"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456332909477888"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005456415990251520"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"posTierCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"riskOffsetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unmatchedInfoCheck"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>sCode</td>
<td>String</td>
<td>校验码<br> <code>0</code>：通过所有验证<br> <code>1</code>：有不兼容信息<br> <code>3</code>：未进行杠杆设置<br> <code>4</code>：梯度档位或保证金校验未通过</td>
</tr>
<tr>
<td>curAcctLv</td>
<td>String</td>
<td>当前账户模式<br> <code>1</code>: 现货模式<br> <code>2</code>: 现货和合约模式<br> <code>3</code>: 跨币种保证金模式<br> <code>4</code>: 组合保证金模式<br> 所有情况下均返回</td>
</tr>
<tr>
<td>acctLv</td>
<td>String</td>
<td>新账户模式<br> <code>1</code>: 现货模式<br> <code>2</code>: 现货和合约模式<br> <code>3</code>: 跨币种保证金模式<br> <code>4</code>: 组合保证金模式<br> 所有情况下均返回</td>
</tr>
<tr>
<td>riskOffsetType</td>
<td>String</td>
<td><del>风险对冲模式<br> <code>1</code>：现货对冲(USDT)<br> <code>2</code>：现货对冲(币)<br> <code>3</code>：衍生品对冲<br> <code>4</code>：现货对冲(USDC)<br> acctLv为<code>4</code>时返回，其余情况下返回""<br> 若用户有设置，则为用户的设置值；若没有设置，则为默认值</del>（已弃用）</td>
</tr>
<tr>
<td>unmatchedInfoCheck</td>
<td>Array of objects</td>
<td>包含不匹配信息对象的列表<br> 仅在sCode为<code>1</code>，有不兼容信息时返回，其他情况返回[]</td>
</tr>
<tr>
<td>&gt;&gt; type</td>
<td>String</td>
<td>不匹配信息类型<br> <code>asset_validation</code>：资产校验<br> <code>pending_orders</code>：撮合挂单<br> <code>pending_algos</code>：策略挂单，冰山、时间加权、定投等<br> <code>isolated_margin</code>：杠杆逐仓一键借币及自主划转<br> <code>isolated_contract</code>：合约逐仓自主划转<br> <code>contract_long_short</code>：合约开平模式<br> <code>cross_margin</code>：杠杆全仓开仓划转<br> <code>cross_option_buyer</code>：期权全仓买方<br> <code>isolated_option</code>：期权逐仓 （仅适用于简单账户）<br> <code>growth_fund</code>：体验金仓位<br> <code>all_positions</code>：所有仓位<br> <code>spot_lead_copy_only_simple_single</code>：带单和自定义跟单员只能使用现货或现货和合约模式<br> <code>stop_spot_custom</code>：停止现货自定义跟单<br> <code>stop_futures_custom</code>：停止合约自定义跟单<br> <code>lead_portfolio</code>：身为带单员，您不能切换到组合保证金账户模式<br> <code>futures_smart_sync</code>：您存在合约智能跟单，无法切换到现货模式<br> <code>vip_fixed_loan</code>：存在尊享借币<br> <code>repay_borrowings</code>：存在借币<br> <code>compliance_restriction</code>：合规，无法使用保证金交易相关服务<br> <code>compliance_kyc2</code>：合规，无法使用保证金交易相关服务，如果您不是该地区居民，请进行KYC2身份认证</td>
</tr>
<tr>
<td>&gt;&gt; totalAsset</td>
<td>String</td>
<td>总资产<br> 仅在type为<code>asset_validation</code>时返回，其他情况都为""</td>
</tr>
<tr>
<td>&gt;&gt; posList</td>
<td>Array of string</td>
<td>不匹配仓位列表，返回持仓ID<br> 在type为仓位相关枚举值时返回，其他情况都为[]</td>
</tr>
<tr>
<td>posList</td>
<td>Array of objects</td>
<td>合约全仓仓位列表<br> 适用于curAcctLv为<code>4</code>，acctLv为<code>2/3</code>，且用户具有全仓合约仓位的情况<br> 在sCode为<code>0/3/4</code>的情况下返回</td>
</tr>
<tr>
<td>&gt; posId</td>
<td>String</td>
<td>持仓ID</td>
</tr>
<tr>
<td>&gt; lever</td>
<td>String</td>
<td>切换后的全仓仓位杠杆倍数</td>
</tr>
<tr>
<td>posTierCheck</td>
<td>Array of objects</td>
<td>未满足梯度档位校验全仓仓位的列表<br> 仅在sCode为<code>4</code>时返回</td>
</tr>
<tr>
<td>&gt; instFamily</td>
<td>String</td>
<td>交易品种</td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>产品类型<br> <code>SWAP</code>：永续合约<br> <code>FUTURES</code>：交割合约<br> <code>OPTION</code>：期权</td>
</tr>
<tr>
<td>&gt; pos</td>
<td>String</td>
<td>持仓量</td>
</tr>
<tr>
<td>&gt; lever</td>
<td>String</td>
<td>杠杆倍数</td>
</tr>
<tr>
<td>&gt; maxSz</td>
<td>String</td>
<td>若acctLv为<code>2/3</code>，目标账户模式为单币种、跨币种，则为当前杠杆倍数下的最大持仓张数；若acctLv为<code>4</code>，目标账户模式为组合保证金，则为PM全仓最大持仓量上限</td>
</tr>
<tr>
<td>mgnBf</td>
<td>Object</td>
<td>切换账户模式前的保证金相关信息<br> 在sCode为<code>0/4</code>时返回，其他时候为null</td>
</tr>
<tr>
<td>&gt; acctAvailEq</td>
<td>String</td>
<td>美金层面可用保证金<br> 在curAcctLv为<code>3/4</code>时返回，其他情况返回""</td>
</tr>
<tr>
<td>&gt; mgnRatio</td>
<td>String</td>
<td>美金层面保证金率<br> 在curAcctLv为<code>3/4</code>时返回，其他情况返回""</td>
</tr>
<tr>
<td>&gt; details</td>
<td>Array of objects</td>
<td>各币种资产详细信息<br> 仅在curAcctLv为<code>2</code>时返回，其他情况返回[]</td>
</tr>
<tr>
<td>&gt;&gt; ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>&gt;&gt; availEq</td>
<td>String</td>
<td>币种维度可用保证金</td>
</tr>
<tr>
<td>&gt;&gt; mgnRatio</td>
<td>String</td>
<td>币种维度全仓保证金率</td>
</tr>
<tr>
<td>mgnAft</td>
<td>Object</td>
<td>切换账户模式后的保证金相关信息<br> 在sCode为<code>0/4</code>时返回，其他时候为null</td>
</tr>
<tr>
<td>&gt; acctAvailEq</td>
<td>String</td>
<td>美金层面可用保证金<br> 在acctLv为<code>3/4</code>时返回，其他情况返回""</td>
</tr>
<tr>
<td>&gt; mgnRatio</td>
<td>String</td>
<td>美金层面保证金率<br> 在acctLv为<code>3/4</code>时返回，其他情况返回""</td>
</tr>
<tr>
<td>&gt; details</td>
<td>Array of objects</td>
<td>各币种资产详细信息<br> 仅在acctLv为<code>2</code>时返回，其他情况返回""</td>
</tr>
<tr>
<td>&gt;&gt; ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>&gt;&gt; availEq</td>
<td>String</td>
<td>币种维度可用保证金</td>
</tr>
<tr>
<td>&gt;&gt; mgnRatio</td>
<td>String</td>
<td>币种维度全仓保证金率</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-account-mode">设置账户模式 </h3>
<p>账户模式的首次设置，需要在网页或手机app上进行。若用户计划在持有仓位的情况下切换账户模式，应该先调用预设置接口进行必要的预设置，再调用预检查接口获取不匹配信息、保证金校验等相关信息，最后调用账户模式切换接口进行账户模式切换。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/set-account-level</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/set-account-level
body
<span class="o">{</span>
    <span class="s2">"acctLv"</span>:<span class="s2">"1"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">acctLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">账户模式<br><code>1</code>: 现货模式<br><code>2</code>: 现货和合约模式 <br><code>3</code>: 跨币种保证金模式 <br><code>4</code>: 组合保证金模式</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"acctLv"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
          </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">  
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">acctLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户模式</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-reset-mmp-status">重置 MMP 状态 </h3>
<p>一旦 MMP 被触发，可以使用该接口解冻。<br>
仅适用于组合保证金账户模式下的期权订单，且有 MMP 权限。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/mmp-reset</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/mmp-reset
body
<span class="o">{</span>
    <span class="s2">"instType"</span>:<span class="s2">"OPTION"</span>,
    <span class="s2">"instFamily"</span>:<span class="s2">"BTC-USD"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易产品类型<br><code>OPTION</code>:期权<br>默认为期权</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">重置结果<br><code>true</code>:将做市商保护状态重置为了 inactive 状态<br>false：重置失败</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-set-mmp">设置 MMP </h3>
<p>可以使用该接口进行 MMP 的配置。<br>
仅适用于组合保证金账户模式下的期权订单，且有 MMP 权限。</p>

<aside class="notice"><br>
什么是MMP?<br>
做市商保护(MMP)机制保护做市商在一定时间内成交过多。当做市商保护触发时，即做市商在一定时间内(`timeInterval`)成交超过某阈值(`qtyLimit`)，系统会自动撤销所有MMP挂单(`mmp`和`mmp_and_post_only`挂单)，拒绝任何新的MMP订单直到某个时间(MMP最近一次触发时间+`frozenInterval`)或做市商主动重置。<br>
<br>
如何申请MMP?<br>
请发邮件至 institutional@okx.com 或者联系您的客户经理进行申请。
</aside>
<h4 id="2-10s">限速：2次/10s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/account/mmp-config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/account/mmp-config
body
<span class="o">{</span>
    <span class="s2">"instFamily"</span>:<span class="s2">"BTC-USD"</span>,
    <span class="s2">"timeInterval"</span>:<span class="s2">"5000"</span>,
    <span class="s2">"frozenInterval"</span>:<span class="s2">"2000"</span>,
    <span class="s2">"qtyLimit"</span>: <span class="s2">"100"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">时间窗口 (毫秒)。<br>"0" 代表停用 MMP</td>
</tr>
<tr>
<td style="text-align: left">frozenInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">冻结时间长度 (毫秒)。 <br>"0" 代表一直冻结，直到调用 "重置 MMP 状态" 接口解冻</td>
</tr>
<tr>
<td style="text-align: left">qtyLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">成交数量的上限<br>需大于 0</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"frozenInterval"</span><span class="p">:</span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"qtyLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="s2">"5000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间窗口 (毫秒)</td>
</tr>
<tr>
<td style="text-align: left">frozenInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冻结时间长度 (毫秒)</td>
</tr>
<tr>
<td style="text-align: left">qtyLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交张数的上限</td>
</tr>
</tbody></table>
<h3 id="trading-account-rest-api-get-mmp-config">查看 MMP 配置 </h3>
<p>可以使用该接口获取 MMP 的配置信息。<br>
仅适用于组合保证金账户模式下的期权订单，且有 MMP 权限。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/mmp-config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/mmp-config?instFamily<span class="o">=</span>BTC-USD

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"frozenInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mmpFrozen"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mmpFrozenUntil"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"qtyLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">mmpFrozen</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否 MMP 被触发. <code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">mmpFrozenUntil</td>
<td style="text-align: left">String</td>
<td style="text-align: left">如果配置了frozenInterval且mmpFrozen = true，则为不再触发MMP时的时间窗口（单位为ms），否则为“”</td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间窗口 (毫秒)</td>
</tr>
<tr>
<td style="text-align: left">frozenInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冻结时间长度 (毫秒)。 <br>如果为"0"，代表一直冻结，直到调用 "重置 MMP 状态" 接口解冻，且<code>mmpFrozenUntil</code>为 ""。</td>
</tr>
<tr>
<td style="text-align: left">qtyLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交张数的上限</td>
</tr>
</tbody></table>
<h2 id="trading-account-websocket">WebSocket </h2><h3 id="trading-account-websocket-account-channel">账户频道 </h3>
<p>获取账户信息，首次订阅按照订阅维度推送数据，此外，当下单、撤单、成交等事件触发时，推送数据以及按照订阅维度定时推送数据<br></p>

<p>该频道的并发连接受到如下规则限制：<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit">WebSocket 连接限制</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"account"</span>,
        <span class="s2">"ccy"</span>: <span class="s2">"BTC"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"account"</span>,
      <span class="s2">"extraParams"</span>: <span class="s2">"
        {
          </span><span class="se">\"</span><span class="s2">updateInterval</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">0</span><span class="se">\"</span><span class="s2">
        }
      "</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>account</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; extraParams</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">额外配置</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; updateInterval</td>
<td style="text-align: left">int</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><code>0</code>: 仅根据账户事件推送数据 <br>若不添加该字段或将其设置为除0外的其他值，数据将根据事件推送并定时推送。 <br>使用该字段需严格遵守以下格式。 <br>"extraParams": "<br>{<br> \"updateInterval\": \"0\"<br>}<br>"</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">account</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ccy</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>account</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44*********584"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"adjEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55444.12216906034"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4734.371190691436"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4734.371190691435"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cashBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4750.426970691436"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coinUsdPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.99927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"crossLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"disEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4889.379316336831"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4892.951170691435"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eqUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4889.379316336831"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"smtSyncEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotCopyTradingEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fixedBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"158.57998"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isoLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isoUpl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rewardBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">          
            </span><span class="nl">"spotIsoBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stgyEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"twap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1705564213903"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7.475800000000003"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotUpl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotUplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.5737166146"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"143705.65988369548"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.342948664584"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85.737166146"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55868.06403501676"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1705564223311"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7.470342666000003"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">请求订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">获取账户信息的最新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; totalEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面权益</td>
</tr>
<tr>
<td style="text-align: left">&gt; isoEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面逐仓仓位权益<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; adjEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面有效保证金<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ordFroz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面全仓挂单占用保证金<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面占用保证金<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面维持保证金<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; borrowFroz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户美金层面潜在借币占用保证金<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>。在其他账户模式下为""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面保证金率<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以美金价值为单位的持仓数量，即仓位美金价值<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面全仓未实现盈亏（美元单位）<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; details</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">各币种资产详细信息</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; eq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种总权益</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; cashBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种余额</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种余额信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; isoEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种逐仓仓位权益<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; availEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; disEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金层面币种折算权益</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; fixedBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">抄底宝、逃顶宝功能的币种冻结金额</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用余额</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; frozenBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种占用金额</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ordFrozen</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单冻结数量<br>适用于<code>现货模式</code>/<code>现货和合约模式</code>/<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; liab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种负债额<br>值为正数，如 <code>21625.64</code><br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现盈亏<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; uplLiab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由于仓位未实现亏损导致的负债<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; crossLiab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种全仓负债额<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; isoLiab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种逐仓负债额<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; rewardBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">体验金余额</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种全仓保证金率，衡量账户内某项资产风险的指标<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种维度全仓占用保证金<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种维度全仓维持保证金<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; interest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计息<br>值为正数，如 <code>9.01</code><br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; twap</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前负债币种触发系统自动换币的风险<br>0、1、2、3、4、5其中之一，数字越大代表您的负债币种触发自动换币概率越高<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; maxLoan</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种最大可借<br>适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code> 的全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; eqUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种权益美金价值</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; notionalLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种杠杆倍数<br>适用于<code>现货和合约模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; coinUsdPrice</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种美元指数</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; stgyEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略权益</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; isoUpl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">逐仓未实现盈亏<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; borrowFroz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种美金层面潜在借币占用保证金<br>仅适用于<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>。在其他账户模式下为""。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; clSpotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; maxSpotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统计算得到的最大可能现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; smtSyncEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约智能跟单权益<br>默认为0，仅适用于跟单人。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotCopyTradingEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货智能跟单权益<br>默认为0，仅适用于跟单人。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货余额 ，单位为 币种，比如 BTC。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货开仓成本价 单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; accAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货累计成本价 单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotUpl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货未实现收益，单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; spotUplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货未实现收益率。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货累计收益，单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; totalPnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货累计收益率。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
</tbody></table>

<aside class="notice"> 
<br> - 账户频道基于事件推送，并进行定时推送
<br> - 账户频道的事件推送并非在事件发生时实时进行，而是按照大约50毫秒的固定时间窗口进行聚合推送。例如，在固定时间窗口内发生多个事件，系统将尽量聚合为一条消息并在固定时间窗口结束时进行推送。在数据量过大的情况下可能拆分为多条消息。
<br> - 无论是否有账户维度的变化，定时推送都会发送更新
</aside> 

<aside class="notice"> 
<br> - 只推用户币种层面资产不为0的账户信息。币种层面资产不为0的定义：eq、availEq、availBal 中任意一个字段不为0，即币种层面资产不为0。如果数据太大无法在单个推送消息中发送，它将被分成多个消息发送。
<br> - 例：按照所有币种订阅且有5个币种的余额或者权益都不为0，首次和定时推全部5个；账户下有一个币种余额或者权益改变，那么账户变更的触发只推这一个。
</aside> 
<h3 id="trading-account-websocket-positions-channel">持仓频道 </h3>
<p>获取持仓信息，首次订阅按照订阅维度推送数据，此外，当下单、撤单等事件触发时，推送数据以及按照订阅维度定时推送数据<br>
该频道的并发连接受到如下规则限制：<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit">WebSocket 连接限制</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"positions"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"channel"</span>: <span class="s2">"positions"</span>,
            <span class="s2">"instType"</span>: <span class="s2">"ANY"</span>,
            <span class="s2">"extraParams"</span>: <span class="s2">"
                {
                    </span><span class="se">\"</span><span class="s2">updateInterval</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">0</span><span class="se">\"</span><span class="s2">
                }
            "</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>positions</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID<br> 如果同时传了 instId 和 instFamily，instId 将被使用</td>
</tr>
<tr>
<td style="text-align: left">&gt; extraParams</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">额外配置</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; updateInterval</td>
<td style="text-align: left">int</td>
<td>否</td>
<td style="text-align: left"><code>0</code>: 仅根据持仓事件推送数据<br><code>2000, 3000, 4000</code>: 根据持仓事件推送，且根据设置的时间间隔定时推送（ms）<br><br>若不添加该字段或将其设置为上述合法值以外的其他值，数据将根据事件推送并大约每 5 秒定期推送一次。<br><br>使用该字段需严格遵守以下格式。<br>"extraParams": "<br>{<br>\"updateInterval\": \"0\"<br>}<br>"</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">positions</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权 <br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adl"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availPos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="s2">"2566.31"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1619507758793"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETH-USD-210430"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="s2">"2566.13"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"2566.22"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liab"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liabCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="s2">"2352.8496681818233"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="s2">"2353.849"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="s2">"0.0003896645377994"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="s2">"11.731726509588816"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="s2">"0.0000311811092368"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="s2">"2276.2546609009605"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optVal"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingCloseOrdLiabVal"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posId"</span><span class="p">:</span><span class="s2">"307173036051017730"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotInUseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bizRefId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bizRefType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"109844"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="s2">"-0.0000009932766034"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplLastPx"</span><span class="p">:</span><span class="s2">"-0.0000009932766034"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="s2">"-0.0025490556801078"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatioLastPx"</span><span class="p">:</span><span class="s2">"-0.0025490556801078"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="s2">"0.0011"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"-0.0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPenalty"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeOrderAlgo"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="s2">"0.6"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="s2">"0.4"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"adl"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availPos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="s2">"2566.31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1619507758793"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"imr"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETH-USD-210430"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interest"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="s2">"2566.13"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"2566.22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"usdPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bePx"</span><span class="p">:</span><span class="s2">"2353.949"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lever"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liab"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liabCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="s2">"2352.8496681818233"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPx"</span><span class="p">:</span><span class="s2">"2353.849"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin"</span><span class="p">:</span><span class="s2">"0.0003896645377994"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="s2">"11.731726509588816"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="s2">"0.0000311811092368"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="s2">"2276.2546609009605"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"optVal"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingCloseOrdLiabVal"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"posId"</span><span class="p">:</span><span class="s2">"307173036051017730"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="s2">"long"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"spotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"spotInUseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bizRefId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bizRefType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"109844"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upl"</span><span class="p">:</span><span class="s2">"-0.0000009932766034"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uplLastPx"</span><span class="p">:</span><span class="s2">"-0.0000009932766034"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="s2">"-0.0025490556801078"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uplRatioLastPx"</span><span class="p">:</span><span class="s2">"-0.0025490556801078"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pnl"</span><span class="p">:</span><span class="s2">"0.0011"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"-0.0001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liqPenalty"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrderAlgo"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="s2">"0.6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="s2">"0.4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"adl"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availPos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="s2">"2566.31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1619507758793"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"imr"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETH-USD-SWAP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interest"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="s2">"2566.13"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"2566.22"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"usdPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bePx"</span><span class="p">:</span><span class="s2">"2353.949"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lever"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liab"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liabCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="s2">"2352.8496681818233"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPx"</span><span class="p">:</span><span class="s2">"2353.849"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin"</span><span class="p">:</span><span class="s2">"0.0003896645377994"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="s2">"11.731726509588816"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="s2">"0.0000311811092368"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="s2">"2276.2546609009605"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"optVal"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingCloseOrdLiabVal"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteBorrowed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"posId"</span><span class="p">:</span><span class="s2">"307173036051017730"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="s2">"long"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"spotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxSpotInUseAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"spotInUseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bizRefId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bizRefType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"109844"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upl"</span><span class="p">:</span><span class="s2">"-0.0000009932766034"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uplLastPx"</span><span class="p">:</span><span class="s2">"-0.0000009932766034"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="s2">"-0.0025490556801078"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uplRatioLastPx"</span><span class="p">:</span><span class="s2">"-0.0025490556801078"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pnl"</span><span class="p">:</span><span class="s2">"0.0011"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"-0.0001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liqPenalty"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrderAlgo"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="s2">"0.6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="s2">"0.4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式， <code>cross</code>：全仓  <code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式（<code>交割/永续/期权</code>：<code>pos</code>为正代表开多，<code>pos</code>为负代表开空。<code>币币杠杆</code>：<code>posCcy</code>为交易货币时，代表开多；<code>posCcy</code>为计价货币时，代表开空。）</td>
</tr>
<tr>
<td style="text-align: left">&gt; pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量，逐仓自主划转模式下，转入保证金后会产生pos为<code>0</code>的仓位</td>
</tr>
<tr>
<td style="text-align: left">&gt; baseBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币余额，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币余额 ，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; baseBorrowed</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币已借，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; baseInterest</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币计息，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteBorrowed</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币已借，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteInterest</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币计息，适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; posCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量币种，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; availPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可平仓数量，适用于 <code>币币杠杆</code>,<code>期权</code><br>对于杠杆仓位，平仓时，杠杆还清负债后，余下的部分会视为币币交易，如果想要减少币币交易的数量，可通过"获取最大可用数量"接口获取只减仓的可用数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓平均价</td>
</tr>
<tr>
<td style="text-align: left">&gt; upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益（以标记价格计算）</td>
</tr>
<tr>
<td style="text-align: left">&gt; uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率（以标记价格计算</td>
</tr>
<tr>
<td style="text-align: left">&gt; uplLastPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以最新成交价格计算的未实现收益，主要做展示使用，实际值还是 upl</td>
</tr>
<tr>
<td style="text-align: left">&gt; uplRatioLastPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以最新成交价格计算的未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，不适用于<code>期权卖方</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价<br>不适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">初始保证金，仅适用于<code>全仓</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金余额，仅适用于<code>逐仓</code>，可增减</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">&gt; mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维持保证金</td>
</tr>
<tr>
<td style="text-align: left">&gt; liab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债额，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; liabCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债币种，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; interest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">利息，已经生成未扣利息</td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">以美金价值为单位的持仓数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; optVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价值，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pendingCloseOrdLiabVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">逐仓杠杆负债对应平仓挂单的数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; adl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号区，分为5档，从1到5，数字越小代表adl强度越弱</td>
</tr>
<tr>
<td style="text-align: left">&gt; bizRefId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">外部业务id，如 体验券id</td>
</tr>
<tr>
<td style="text-align: left">&gt; bizRefType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">外部业务类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金的币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">&gt; idxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新指数价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; usdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种的市场最新美金价格 仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; bePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">盈亏平衡价</td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位delta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位delta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位gamma，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位gamma，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位theta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位theta，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位持仓仓位vega，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位持仓仓位vega，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; spotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; clSpotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxSpotInUseAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统计算得到的最大可能现货占用数量<br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; spotInUseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货对冲占用币种，如 <code>BTC</code><br>适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; realizedPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现收益<br>仅适用于<code>交割/永续/期权</code><br>realizedPnl=pnl+fee+fundingFee+liqPenalty</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓订单累计收益额</td>
</tr>
<tr>
<td style="text-align: left">&gt; fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，正数代表平台返佣 ，负数代表平台扣除</td>
</tr>
<tr>
<td style="text-align: left">&gt; fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用</td>
</tr>
<tr>
<td style="text-align: left">&gt; liqPenalty</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计爆仓罚金，有值时为负数。</td>
</tr>
<tr>
<td style="text-align: left">&gt; closeOrderAlgo</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">平仓策略委托订单。调用策略委托下单，且<code>closeFraction</code>=1 时，该数组才会有值。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; closeFraction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时，平仓的百分比。1 代表100%</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最近一次持仓更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓信息的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice"> 
<br> - 持仓频道基于事件推送，并进行定时推送。
<br> - 持仓频道的事件推送并非在事件发生时实时进行，而是按照大约50毫秒的固定时间窗口进行聚合推送。例如，在固定时间窗口内发生多个事件，系统将尽量聚合为一条消息并在固定时间窗口结束时进行推送。在数据量过大的情况下可能拆分为多条消息。
<br> - 无论是否有仓位的变化，定时推送都会发送更新。
<br> - 若事件推送和定时推送同时发生，系统将在发送一次事件推送消息后再发送一次定时推送消息。
</aside>

<aside class="notice">
Portfolio Margin 账户下，持仓的 IMR MMR的数据是后端服务以ristUnit为最小粒度重新计算，相同riskUnit全仓仓位的imr和mmr返回值相同。
</aside>

<aside class="notice">
逐仓交易设置里是自主划转模式，转入保证金后会推送持仓量为0的仓位。
</aside>

<aside class="notice">
<br> - 只推用户持有的仓位。用户持仓仓位定义：持逐仓自主划转模式下的逐仓仓位pos=0，pos&gt;0或者pos&lt;0都认为持有仓位。如果数据太大无法在单个推送消息中发送，它将被分成多个消息发送。
<br> - 例：按underlying订阅且该underlying下有20个持仓，首次和定时推全部20个；持仓下有一个成交改变其中的一个持仓，那么持仓变更只推这一个。
</aside> 
<h3 id="trading-account-websocket-balance-and-position-channel">账户余额和持仓频道 </h3>
<p>获取账户余额和持仓信息，首次订阅按照订阅维度推送数据，此外，当成交、资金划转等事件触发时，推送数据。<br></p>

<p>该频道适用于尽快获取账户现金余额和仓位资产变化的信息。<br>
该频道的并发连接受到如下规则限制：<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit">WebSocket 连接限制</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"balance_and_position"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>balance_and_position</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_and_position"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">balance_and_position</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>balance_and_position</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance_and_position"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balData"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cashBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"posData"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"posId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1111111111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-191018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3320"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-191018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">请求订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; eventType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件类型<br><code>snapshot</code>：首推快照<br><code>delivered</code>：交割<br><code>exercised</code>：行权<br><code>transferred</code>：划转<br><code>filled</code>：成交<br><code>liquidation</code>：强平<br><code>claw_back</code>：穿仓补偿<br><code>adl</code>：ADL自动减仓<br><code>funding_fee</code>：资金费<br><code>adjust_margin</code>：调整保证金<br><code>set_leverage</code>：设置杠杆<br><code>interest_deduction</code>：扣息</td>
</tr>
<tr>
<td style="text-align: left">&gt; balData</td>
<td style="text-align: left">String</td>
<td style="text-align: left">余额数据</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; cashBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种余额</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种余额信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posData</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数据</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易产品ID，如 <code>BTC-USD-180213</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>, <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓平均价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金的币种</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>，<code>short</code>，<code>net</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量，逐仓自主划转模式下，转入保证金后会产生pos为<code>0</code>的仓位</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; baseBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>交易币余额<br>适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; quoteBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>计价币余额<br>适用于 <code>币币杠杆</code>（逐仓一键借币模式）</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量币种<br>只适用于币币杠杆仓位。当是交割、永续、期权持仓时，该字段返回“”</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; trades</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">成交数据</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
</tbody></table>

<aside class="notice"> 
只有账户余额变化，只推balData；只有持仓余额发生变化，只推posData。
</aside> 

<aside class="notice"> 
<br> - 首次推送，只推用户持有的仓位和币种余额不为0的信息。如果数据太大无法在单个推送消息中发送，它将被分成多个消息发送。
<br> - 例：比如按照所有币种订阅且用户有5个币种余额不为0 和20个仓位，那么首推全部5个币种余额列表和20个持仓信息列表；某个订单成交后，那么只推一个币种余额和对应的持仓信息。
</aside> 
<h3 id="trading-account-websocket-position-risk-warning">爆仓风险预警推送频道 </h3>
<p>此推送频道仅作为风险提示，不建议作为策略交易的风险判断。<br>
在行情剧烈波动的情况下，可能会出现此消息推送的同时仓位已经被强平的可能性。<br>
预警会在某一个逐仓仓位有风险时推送。预警会在所有全仓仓位有风险时推送。<br>
该频道的并发连接受到如下规则限制：<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit">WebSocket 连接限制</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"liquidation-warning"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"ANY"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>liquidation-warning</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"liquidation-warning"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">liquidation-warning</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名 ，<code>liquidation-warning</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权 <br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"liquidation-warning"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1619507758793"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETH-USD-210430"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="s2">"2353.849"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="s2">"11.731726509588816"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pos"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posCcy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posId"</span><span class="p">:</span><span class="s2">"307173036051017730"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1619507761462"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式， <code>cross</code>：全仓  <code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; posId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式（<code>交割/永续/期权</code>：<code>pos</code>为正代表开多，<code>pos</code>为负代表开空。<code>币币杠杆</code>：<code>posCcy</code>为交易货币时，代表开多；<code>posCcy</code>为计价货币时，代表开空。）</td>
</tr>
<tr>
<td style="text-align: left">&gt; pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; posCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量币种，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，不适用于<code>期权卖方</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金的币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最近一次持仓更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓信息的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice"> 
触发推送逻辑：爆仓预警和爆仓短信的触发逻辑一致
</aside>
<h3 id="trading-account-websocket-account-greeks-channel">账户greeks频道 </h3>
<p>获取账户资产的greeks信息。当增加或者减少币种余额、持仓数量等会触发事件推送，周期性的也会有定时推送。<br>
该频道的并发连接受到如下规则限制：<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit">WebSocket 连接限制</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"account-greeks"</span>,
        <span class="s2">"ccy"</span>: <span class="s2">"BTC"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"account-greeks"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>account-greeks</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种<br>当用户指定了保证金，只有作为保证金的仓位发生变化的时候，才会触发事件推送。例如当指定了ccy = <code>BTC</code>，如果 <code>BTC-USDT-SWAP</code> 仓位发生变化，不会触发事件推送。</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">account-greeks</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ccy</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>account-greeks</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1246665401944310"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0074076183688949"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0148152367377899"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0356991946421226"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000200174309"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729179082006"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1246665403011684"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0074021163991037"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0148042327982075"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1342098201092528"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000200876441"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729179001692"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3810670161698570"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0688347042402955"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000000230396"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1376693483440320"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3314776517141782"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000001316008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729179001692"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000045069794"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000000017267"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">请求订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位账户资产delta</td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位账户资产delta</td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位账户资产gamma，仅适用于期权全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位账户资产gamma，仅适用于期权全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位账户资产theta，仅适用于期权全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位账户资产theta，仅适用于期权全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">美金本位账户资产vega，仅适用于期权全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币本位账户资产vega，仅适用于期权全仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">获取greeks的时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>

<aside class="notice"> 
账户greeks频道基于事件推送，并进行定时推送<br>
- greeks频道的事件推送并非在事件发生时实时进行，而是按照大约50毫秒的固定时间窗口进行聚合推送。例如，在固定时间窗口内发生多个事件，系统将尽量聚合为一条消息并在固定时间窗口结束时进行推送。在数据量过大的情况下可能拆分为多条消息。
<br> 
- 当用户订阅时指定了保证金币种(ccy)，只有作为保证金的仓位发生变化的时候，才会触发事件推送。例如订阅时指定了ccy=`BTC`，如果`BTC-USDT-SWAP`仓位发生变化，不会触发事件推送。
<br>- 无论是否有greeks数据的变化，定时推送都会发送更新。
</aside> 

<aside class="notice"> 
<br> - 只推账户资产不为0的greeks数据。如果数据太大无法在单个推送消息中发送，它将被分成多个消息发送。
<br> - 例：按照所有币种订阅且有5个币种资产都不为0，首次和定时推全部5个；账户的某个币种资产改变，那么账户greeks变更的触发只推这一个。
</aside> 
<h1 id="order-book-trading">撮合交易 </h1><h2 id="order-book-trading-trade">交易 </h2>
<p><code>交易</code>功能模块下的API接口需要身份验证。</p>
<h3 id="order-book-trading-trade-post-place-order">POST / 下单 </h3>
<p>只有当您的账户有足够的资金才能下单。<br><br></p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>
<h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 币币下单</span>
POST /api/v5/trade/order
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"tdMode"</span>:<span class="s2">"cash"</span>,
    <span class="s2">"clOrdId"</span>:<span class="s2">"b15"</span>,
    <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
    <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
    <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
    <span class="s2">"sz"</span>:<span class="s2">"2"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 现货模式限价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">place_order</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">tdMode</span><span class="o">=</span><span class="s">"cash"</span><span class="p">,</span>
    <span class="n">clOrdId</span><span class="o">=</span><span class="s">"b15"</span><span class="p">,</span>
    <span class="n">side</span><span class="o">=</span><span class="s">"buy"</span><span class="p">,</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"limit"</span><span class="p">,</span>
    <span class="n">px</span><span class="o">=</span><span class="s">"2.15"</span><span class="p">,</span>
    <span class="n">sz</span><span class="o">=</span><span class="s">"2"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br>保证金模式：<code>isolated</code>：逐仓 ；<code>cross</code>：全仓 <br>非保证金模式：<code>cash</code>：非保证金<br><code>spot_isolated</code>：现货逐仓(仅适用于现货带单) ，现货带单时，<code>tdMode</code> 的值需要指定为<code>spot_isolated</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义订单ID <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向<br><code>buy</code>：买，   <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">持仓方向<br>在开平仓模式下必填，且仅可选择 <code>long</code> 或 <code>short</code>。 仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单)</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code>、<code>post_only</code>、<code>fok</code>、<code>ioc</code>、<code>mmp</code>、<code>mmp_and_post_only</code>类型的订单<br>期权下单时，px/pxUsd/pxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以USD价格进行期权下单 <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以隐含波动率进行期权下单，例如 1 代表 100% <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">市价单委托数量<code>sz</code>的单位，仅适用于<code>币币</code>市价订单<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>买单默认<code>quote_ccy</code>， 卖单默认<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">banAmend</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否禁止币币市价改单，true 或 false，默认false <br>为true时，余额不足时，系统不会改单，下单会失败，仅适用于币币市价单</td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式：<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币 <br>默认是<code>manual</code>：手动</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>自成交保护ID。来自同一个母账户配着同一个ID的订单不能自成交<br>用户自定义1&lt;=x&lt;=999999999的整数</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">自成交保护模式<br>默认为 cancel maker <br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both不支持FOK</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给<code>algoClOrdId</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价<br>对于条件止盈单，如果填写此参数，必须填写 止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈委托价<br>对于条件止盈单，如果填写此参数，必须填写 止盈触发价<br>对于限价止盈单，需填写此参数，不需要填写止盈触发价<br>委托价格为-1时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单<br> 默认为<code>condition</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写 止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写 止损触发价<br>委托价格为-1时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">数量。仅适用于“多笔止盈”的止盈订单，且对于“多笔止盈”的止盈订单必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单，第一笔止盈触发时，止损触发价格是否移动到开仓均价止损<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启，且止损触发价不能为空</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败或成功时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code> <br>返回的时间是请求验证后的时间。</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">
tdMode<br>
交易模式，下单时需要指定<br>
<strong>现货模式：</strong><br>
- 币币和期权买方：cash<br>
<strong>现货和合约模式：</strong><br>
- 逐仓杠杆：isolated<br>
- 全仓杠杆：cross<br>
- 币币：cash<br>
- 全仓交割/永续/期权：cross<br>
- 逐仓交割/永续/期权：isolated<br>
<strong>跨币种保证金模式：</strong><br>
- 逐仓杠杆：isolated<br>
- 全仓币币：cross<br>
- 全仓交割/永续/期权：cross<br>
- 逐仓交割/永续/期权：isolated<br>
<strong>组合保证金模式：</strong><br>
- 逐仓杠杆：isolated<br>
- 全仓币币：cross<br>
- 全仓交割/永续/期权：cross<br>
- 逐仓交割/永续/期权：isolated<br>
</aside>

<aside class="notice">
clOrdId<br>
clOrdId是用户自定义的唯一ID用来识别订单。如果在请求参数中传入了，那它一定会在返回参数内，并且可以用于查询订单，撤销订单，修改订单等接口。
clOrdId不能与当前所有的挂单的clOrdId重复
</aside>

<aside class="notice">
posSide<br>
持仓方向，买卖模式下此参数非必填，如果填写仅可以选择net；在开平仓模式下必填，且仅可选择 long 或 short。<br>
开平仓模式下，side和posSide需要进行组合<br>
开多：买入开多（side 填写 buy；  posSide 填写 long ）<br>
开空：卖出开空（side 填写 sell； posSide 填写 short ）<br>
平多：卖出平多（side 填写 sell；posSide 填写 long ）<br>
平空：买入平空（side 填写 buy； posSide 填写 short ）<br>
组合保证金模式：交割和永续仅支持买卖模式
</aside>

<aside class="notice">
ordType<br>
订单类型，创建新订单时必须指定，您指定的订单类型将影响需要哪些订单参数和撮合系统如何执行您的订单，以下是有效的ordType：<br>
普通委托：<br>
limit：限价单，要求指定sz 和 px<br>
market：市价单，币币和币币杠杆，是市价委托吃单；交割合约和永续合约，是自动以最高买/最低卖价格委托，遵循限价机制；期权合约不支持市价委托；由于市价委托无法确定成交价格，为确保有足够的资产买入设定数量的交易币种，会多冻结5%的计价币资产<br>
高级委托：<br>
post_only：限价委托，在下单那一刻只做maker，如果该笔订单的任何部分会吃掉当前挂单深度，则该订单将被全部撤销。<br>
fok：限价委托，全部成交或立即取消，如果无法全部成交该笔订单，则该订单将被全部撤销。<br>
ioc：限价委托，立即成交并取消剩余，立即按照委托价格撮合成交，并取消该订单剩余未完成数量，不会在深度列表上展示委托数量。<br>
optimal_limit_ioc：市价委托，立即成交并取消剩余，仅适用于交割合约和永续合约。
</aside>

<aside class="notice">
sz<br>
交易数量，表示要购买或者出售的数量。<br>
当币币/币币杠杆以限价买入和卖出时，指交易货币数量。<br>
当币币杠杆以市价买入时，指计价货币的数量。<br>
当币币杠杆以市价卖出时，指交易货币的数量。<br>
对于币币市价单，单位由 tgtCcy 决定<br>
当交割、永续、期权买入和卖出时，指合约张数。
</aside>

<aside class="notice">
reduceOnly<br>
只减仓，下单时，此参数设置为 true 时，表示此笔订单具有减仓属性，只会减少持仓数量，不会增加新的持仓仓位<br>
对于同一杠杆产品，所有反方向挂单的币数加上当前只减仓下单数量，不能超过仓位资产；负债还完后，如果还有剩余的委托数量，不会反向开仓，而是会进行币币交易。<br>
对于同一交割/永续产品，当前只减仓下单张数，加上价格时间优先于当前只减仓下单的只减仓挂单张数总和，不能超过持仓数量<br>
仅适用于`现货和合约模式`和`跨币种保证金模式`<br>
仅适用于`币币杠杆`，以及买卖模式下的`交割/永续`<br>
注意：交割和永续合约在开平仓模式下，所有的平仓单都有只减仓逻辑，不受该字段传值的影响。
</aside>

<aside class="notice">
tgtCcy<br>
市价单委托数量`sz`的单位：仅适用于币币市价下单交易。<br>
交易货币：base_ccy<br>
计价货币：quote_ccy

<br>

您在使用交易货币买入或者计价货币卖出时，请知晓：
<br>
1.如果您输入的数量大于当前可买或者可卖的数量，系统将按照您的最大可买或者可卖数量帮您完成交易，如果您希望按照指定数量成交，那您可以尝试使用限价单，等待市场价格波动到锁定的余额可以买入或卖出您指定的数量。
<br>
2.如果您输入的数量不大于当前可买或者可卖的数量，那当市场价格波动过大时，锁定的余额可能没办法买入您输入的交易货币数量或卖出您输入的计价货币数量，为保证您的交易体验，我们基于【能买多少买多少】或者【能卖多少卖多少】的原则，更改下单的数量帮您完成交易。此外，我们将尽量多锁定一点余额来规避更改下单数量的情况。
<br>
2.1 交易币买入例子：
<br>
以市价下单 买入 10个LTC为例，用户可买为11个，此时 10 &lt; 11，挂单成功。当LTC-USDT的市价为200，用户被锁定余额为3,000 USDT，200*10 &lt; 3,000，最终成交10个LTC；
若市场波动过大，LTC-USDT的市价为400，此时400*10 &gt; 3,000，当用户被锁定的余额不够买入下单指定的交易货币数量时，系統使用用户被锁定的最大余额3,000 USDT下单买入，最终成交 3,000/400 = 7.5个 LTC。
<br>
2.2 计价币卖出例子：
<br>
以市价下单 卖出 1,000USDT为例，用户可卖为1,200USDT，1,000 &lt; 1,200，挂单成功。LTC-USDT的市价为200，用户被锁定的余额为6个LTC，最终成交5个LTC；
若市场波动过大，LTC-USDT的市价为100，100*6 &lt; 1,000，当用户被锁定的余额不够卖出下单指定的计价货币数量时，系統使用用户被锁定的最大余额6个LTC下单，最终成交 6 * 100 = 600 USDT。
</aside>

<aside class="notice">
px<br>
期权下单时，委托价格需为 tickSz 的整数倍。<br>
当不为整数倍时，取值规则以tickSz取 0.0005 为例：<br>
当委托价格对0.0005的余数大于0.00025或者委托价格小于0.0005时，向上取；<br>
当委托价格对0.0005的余数小于等于0.00025，且委托价格大于0.0005时，向下取。
</aside>

<aside class="notice">
对于下单附带止盈止损：<br>
1. 只有当该订单完全成交时，才会生成止盈止损策略订单，否则不会生成止盈止损策略订单。<br>
2. 带单员不支持使用 attachAlgoOrds (Array)，建议使用先前的方法，详情可参考 https://www.okx.com/docs-v5/log_zh/#2022-11-21
<br>
3. tgtCcy 为 base_ccy 时的市价买单和 tgtCcy 为 quote_ccy 时的市价卖单，均不支持附带止盈止损<br>
4. tpOrdKind 为 limit，且只有一笔单边止盈时，attachAlgoClOrdId 可以作为 clOrdId 在获取订单信息接口查询。<br>
5. 对于“分批止盈”，包含限价止盈和触发止盈：<br>
* 分批止盈的每笔止盈止损订单仅支持单向止盈止损，slTriggerPx&amp;slOrdPx 与 tpTriggerPx&amp;tpOrdPx 只能填写一组，否则 报错 51076<br>
* 同一笔订单上附带分批止盈的止盈触发价类型 (tpTriggerPxType) 必须保持一致，否则报错 51080<br>
* 同一笔订单上附带分批止盈的止盈触发价 (tpTriggerPx) 不能相等，否则报错 51081<br>
* 在附带分批止盈时，止盈订单的数量不能为空，否则报错 51089<br>
* 同一笔订单上分批止盈的止盈数量之和，需要等于订单的委托数量，否则报错 51083<br>
* 同一笔订单上分批止盈的止盈委托不能超过 10 笔，否则报错 51079<br>
* 币币/杠杆不支持开启'开仓价止损'，否则报错 51077<br>
* 同一笔订单上附带分批止盈的止损委托单不能超过 1 笔，否则报错 51084<br>
* 附带止盈止损开启'开仓价止损'时 (amendPxOnTriggerType 设置为 1)，该笔订单上的止盈委托单必须大于等于 2 笔，否则报错 51085<br>
* 同一笔订单上附带分批止盈的止盈类型必须保持一致，否则报错 51091<br>
* 同一笔订单上附带分批止盈的止盈委托价不能相等，否则报错 51092<br>
* 同一笔订单上附带分批止盈，其中限价止盈的止盈委托价 (tpOrdPx) 不能为 -1 (市价)，否则报错 51093<br>
* 币币、杠杆和期权交易不支持限价止盈，否则报错 51094<br>
</aside>

<aside class="notice">
强制自成交保护<br>
交易系统会以母账户维度实施强制自成交保护，同一母账户下所有账户，包括母账户本身和所有子账户，都无法进行自成交。订单的默认STP模式为`Cancel Maker`，用户亦可以通过下单接口的stpMode参数指定订单的STP模式。<br>
强制自成交保护不会导致延迟。<br>
有三种STP模式。STP模式始终基于taker订单中的配置。<br>
1.Cancel Maker：这是默认的STP模式，系统撤Maker订单以防止自成交。然后，taker订单会基于深度继续和下一个订单成交。<br>
2.Cancel Taker：撤Taker订单以防止自成交。如果用户的Maker订单不是深度里第一个订单，Taker订单会被部分成交，然后撤单。FOK订单会确保完全成交和自成交保护。<br>
3.Cancel Both：撤Taker和Maker订单以防止自成交。如果用户的Maker订单不是深度里第一个订单，Taker订单会被部分成交，然后Taker订单的剩余数量和第一个自我Maker订单被取消。此模式不支持FOK订单。<br>
</aside>
<h3 id="order-book-trading-trade-post-place-multiple-orders">POST / 批量下单 </h3>
<p>每次最多可以批量提交20个新订单。请求参数应该按数组格式传递，会依次委托订单。<br><br></p>
<h4 id="300-2s">限速：300个/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4个/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>

<aside class="notice">
与其他限速按接口调用次数不同，该接口限速按订单的总个数限速。如果单次批量请求中只有一个元素，则算在单个`下单`限速中。
</aside>
<h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/batch-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 币币批量下单</span>
 POST /api/v5/trade/batch-orders
 body
 <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
        <span class="s2">"tdMode"</span>:<span class="s2">"cash"</span>,
        <span class="s2">"clOrdId"</span>:<span class="s2">"b15"</span>,
        <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
        <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
        <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
        <span class="s2">"sz"</span>:<span class="s2">"2"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
        <span class="s2">"tdMode"</span>:<span class="s2">"cash"</span>,
        <span class="s2">"clOrdId"</span>:<span class="s2">"b16"</span>,
        <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
        <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
        <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
        <span class="s2">"sz"</span>:<span class="s2">"2"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 批量下单
</span><span class="n">place_orders_without_clOrdId</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"tdMode"</span><span class="p">:</span> <span class="s">"cash"</span><span class="p">,</span> <span class="s">"clOrdId"</span><span class="p">:</span> <span class="s">"b15"</span><span class="p">,</span> <span class="s">"side"</span><span class="p">:</span> <span class="s">"buy"</span><span class="p">,</span> <span class="s">"ordType"</span><span class="p">:</span> <span class="s">"limit"</span><span class="p">,</span> <span class="s">"px"</span><span class="p">:</span> <span class="s">"2.15"</span><span class="p">,</span> <span class="s">"sz"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"tdMode"</span><span class="p">:</span> <span class="s">"cash"</span><span class="p">,</span> <span class="s">"clOrdId"</span><span class="p">:</span> <span class="s">"b16"</span><span class="p">,</span> <span class="s">"side"</span><span class="p">:</span> <span class="s">"buy"</span><span class="p">,</span> <span class="s">"ordType"</span><span class="p">:</span> <span class="s">"limit"</span><span class="p">,</span> <span class="s">"px"</span><span class="p">:</span> <span class="s">"2.15"</span><span class="p">,</span> <span class="s">"sz"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">place_multiple_orders</span><span class="p">(</span><span class="n">place_orders_without_clOrdId</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br>保证金模式：<code>isolated</code>：逐仓 ；<code>cross</code>：全仓 <br>非保证金模式：<code>cash</code>：非保证金<br><code>spot_isolated</code>：现货逐仓(仅适用于现货带单) ，现货带单时，<code>tdMode</code> 的值需要指定为<code>spot_isolated</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向 <code>buy</code>：买，   <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">持仓方向<br>在开平仓模式下必填，且仅可选择 <code>long</code> 或 <code>short</code>。 仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单)</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code>、<code>post_only</code>、<code>fok</code>、<code>ioc</code>、<code>mmp</code>、<code>mmp_and_post_only</code>类型的订单<br>期权下单时，px/pxUsd/pxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以USD价格进行期权下单 <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以隐含波动率进行期权下单，例如 1 代表 100% <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">市价单委托数量<code>sz</code>的单位，仅适用于<code>币币</code>市价订单<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>买单默认<code>quote_ccy</code>， 卖单默认<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">banAmend</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否禁止币币市价改单，true 或 false，默认false <br>为true时，余额不足时，系统不会改单，下单会失败，仅适用于币币市价单</td>
</tr>
<tr>
<td style="text-align: left">stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>自成交保护ID。来自同一个母账户配着同一个ID的订单不能自成交<br>用户自定义1&lt;=x&lt;=999999999的整数</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">自成交保护模式<br>默认为 cancel maker <br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both不支持FOK</td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式：<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币 <br>默认是<code>manual</code>：手动</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给<code>algoClOrdId</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价<br>对于条件止盈单，如果填写此参数，必须填写 止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈委托价<br>对于条件止盈单，如果填写此参数，必须填写 止盈触发价<br>对于限价止盈单，需填写此参数，不需要填写止盈触发价<br>委托价格为-1时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单<br> 默认为<code>condition</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写 止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写 止损触发价<br>委托价格为-1时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">数量。仅适用于“多笔止盈”的止盈订单，且对于“多笔止盈”的止盈订单必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单，第一笔止盈触发时，止损触发价格是否移动到开仓均价止损<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启，且止损触发价不能为空</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败或成功时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code> <br>返回的时间是请求验证后的时间。</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">

在组合保证金账户模式下，或者全部成功，或者全部失败。
</aside>

<aside class="notice">
clOrdId<br>
clOrdId是用户自定义的唯一ID用来识别订单。如果在请求参数中传入了，那它一定会在返回参数内，并且可以用于查询订单，撤销订单，修改订单等接口。
clOrdId不能与当前所有挂单和当前请求中的clOrdId重复。
</aside>
<h3 id="order-book-trading-trade-post-cancel-order">POST / 撤单 </h3>
<p>撤销之前下的未完成订单。</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/cancel-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/cancel-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"590908157585625111"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 撤单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">cancel_order</span><span class="p">(</span><span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="n">ordId</span> <span class="o">=</span> <span class="s">"590908157585625111"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单ID， <code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">用户自定义ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code> <br>返回的时间是请求验证后的时间。</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">
撤单返回sCode等于0不能严格认为该订单已经被撤销，只表示您的撤单请求被系统服务器所接受，撤单结果以订单频道推送的状态或者查询订单状态为准<br>
</aside>
<h3 id="order-book-trading-trade-post-cancel-multiple-orders">POST / 批量撤单 </h3>
<p>撤销未完成的订单，每次最多可以撤销20个订单。请求参数应该按数组格式传递。</p>
<h4 id="300-2s">限速：300个/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4>
<aside class="notice">
与其他限速按接口调用次数不同，该接口限速按订单的总个数限速。如果单次批量请求中只有一个元素，则算在单个`撤单`限速中。
</aside>
<h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/cancel-batch-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/cancel-batch-orders
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>:<span class="s2">"590908157585625111"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>:<span class="s2">"590908544950571222"</span>
    <span class="o">}</span>
<span class="o">]</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 按ordId撤单
</span><span class="n">cancel_orders_with_orderId</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"ordId"</span><span class="p">:</span> <span class="s">"590908157585625111"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"ordId"</span><span class="p">:</span> <span class="s">"590908544950571222"</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">cancel_multiple_orders</span><span class="p">(</span><span class="n">cancel_orders_with_orderId</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-190927</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单ID， <code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">用户自定义ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code> <br>返回的时间是请求验证后的时间。</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-amend-order">POST / 修改订单 </h3>
<p>修改当前未成交的挂单<br></p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4个/2s</h4><h4 id="userid-instrument-id">限速规则：UserID + Instrument ID</h4><h4 id="cf60d96633">权限：交易</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>
<h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/amend-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/amend-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"590909145319051111"</span>,
    <span class="s2">"newSz"</span>:<span class="s2">"2"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 修改订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">amend_order</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">ordId</span><span class="o">=</span><span class="s">"590909145319051111"</span><span class="p">,</span>
    <span class="n">newSz</span><span class="o">=</span><span class="s">"2"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">cxlOnFail</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">当订单修改失败时，该订单是否需要自动撤销。默认为<code>false</code><br><code>false</code>：不自动撤单<br><code>true</code>：自动撤单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单ID<br><code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义修改事件ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">newSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">修改的新数量，必须大于0，对于部分成交订单，该数量应包含已成交数量。</td>
</tr>
<tr>
<td style="text-align: left">newPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">修改后的新价格<br>修改的新价格期权改单时，newPx/newPxUsd/newPxVol 只能填一个，且必须与下单参数保持一致，如下单用px，改单时需使用newPx</td>
</tr>
<tr>
<td style="text-align: left">newPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以USD价格进行期权改单 <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">newPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以隐含波动率进行期权改单，例如 1 代表 100% <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">修改附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">附带止盈止损的订单ID，由系统生成，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价<br>如果止盈触发价或者委托价为0，那代表删除止盈。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈委托价<br>委托价格为-1时，执行市价止盈。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价<br>如果止损触发价或者委托价为0，那代表删除止损。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损委托价<br>委托价格为-1时，执行市价止损。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>只适用于<code>交割</code>/<code>永续</code><br>如果要新增止盈，该参数必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>只适用于<code>交割</code>/<code>永续</code><br>如果要新增止损，该参数必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">新的张数。仅适用于“多笔止盈”的止盈订单且必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值<br><code>1</code>：开启</td>
</tr>
</tbody></table>

<aside class="notice">
newSz<br>
修改的数量&lt;=该笔订单已成交数量时，该订单的状态会修改为完全成交状态。<br>
</aside>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"reqId"</span><span class="p">:</span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义修改事件ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code> <br>返回的时间是请求验证后的时间。</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">
修改订单返回sCode等于0不能严格认为该订单已经被修改，只表示您的修改订单请求被系统服务器所接受，改单结果以订单频道推送的状态或者查询订单状态为准<br>
</aside>
<h3 id="order-book-trading-trade-post-amend-multiple-orders">POST / 批量修改订单 </h3>
<p>修改未完成的订单，一次最多可批量修改20个订单。请求参数应该按数组格式传递。</p>
<h4 id="300-2s">限速：300个/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4个/2s</h4><h4 id="userid-instrument-id">限速规则：UserID + Instrument ID</h4><h4 id="cf60d96633">权限：交易</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>

<aside class="notice">
与其他限速按接口调用次数不同，该接口限速按订单的总个数限速。如果单次批量请求中只有一个元素，则算在单个`修改订单`限速中。
</aside>
<h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/amend-batch-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/amend-batch-orders
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"ordId"</span>:<span class="s2">"590909308792049444"</span>,
        <span class="s2">"newSz"</span>:<span class="s2">"2"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"ordId"</span>:<span class="s2">"590909308792049555"</span>,
        <span class="s2">"newSz"</span>:<span class="s2">"2"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 按ordId修改未完成的订单
</span><span class="n">amend_orders_with_orderId</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"ordId"</span><span class="p">:</span> <span class="s">"590909308792049444"</span><span class="p">,</span><span class="s">"newSz"</span><span class="p">:</span><span class="s">"2"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"ordId"</span><span class="p">:</span> <span class="s">"590909308792049555"</span><span class="p">,</span><span class="s">"newSz"</span><span class="p">:</span><span class="s">"2"</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">amend_multiple_orders</span><span class="p">(</span><span class="n">amend_orders_with_orderId</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">cxlOnFail</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">当订单修改失败时，该订单是否需要自动撤销。默认为<code>false</code><br><code>false</code>：不自动撤单<br><code>true</code>：自动撤单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单ID， <code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">用户自定义order ID</td>
</tr>
<tr>
<td style="text-align: left">reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义修改事件ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">newSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">修改的新数量，必须大于0，对于部分成交订单，该数量应包含已成交数量。</td>
</tr>
<tr>
<td style="text-align: left">newPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">修改后的新价格<br>修改的新价格期权改单时，newPx/newPxUsd/newPxVol 只能填一个，且必须与下单参数保持一致，如下单用px，改单时需使用newPx</td>
</tr>
<tr>
<td style="text-align: left">newPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以USD价格进行期权改单 <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">newPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以隐含波动率进行期权改单，例如 1 代表 100% <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">附带止盈止损的订单ID，由系统生成，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价<br>如果止盈触发价或者委托价为0，那代表删除止盈。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈委托价<br>委托价格为-1时，执行市价止盈。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价<br>如果止损触发价或者委托价为0，那代表删除止损。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损委托价<br>委托价格为-1时，执行市价止损。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>只适用于<code>交割</code>/<code>永续</code><br>如果要新增止盈，该参数必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>只适用于<code>交割</code>/<code>永续</code><br>如果要新增止损，该参数必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">新的张数。仅适用于“多笔止盈”的止盈订单且必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
</tbody></table>

<aside class="notice">
newSz<br>
修改的数量&lt;=该笔订单已成交数量时，该订单的状态会修改为完全成交状态。<br>
</aside>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reqId"</span><span class="p">:</span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reqId"</span><span class="p">:</span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义修改事件ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code> <br>返回的时间是请求验证后的时间。</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">REST网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-close-positions">POST / 市价仓位全平 </h3>
<p>市价平掉指定交易产品的持仓</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/close-position</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/close-position
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 市价全平
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">close_positions</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span><span class="p">,</span>
    <span class="n">mgnMode</span><span class="o">=</span><span class="s">"cross"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">持仓方向  <br>买卖模式下：可不填写此参数，默认值net，如果填写，仅可以填写net<br>开平仓模式下： 必须填写此参数，且仅可以填写  <code>long</code>：平多 ，<code>short</code>：平空</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓 ； <code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种，<code>现货和合约模式</code>下的全仓币币杠杆平仓必填</td>
</tr>
<tr>
<td style="text-align: left">autoCxl</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">当市价全平时，平仓单是否需要自动撤销,默认为false.<br><code>false</code>：不自动撤单 <code>true</code>：自动撤单</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
</tbody></table>

<aside class="notice">
如果不自动撤单，那有任何平仓挂单的情况下，市价全平会返回错误码信息，提示用户先撤销平仓挂单<br>
</aside>
<h3 id="order-book-trading-trade-get-order-details">GET / 获取订单信息 </h3>
<p>查订单信息</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/order?ordId<span class="o">=</span>1753197687182819328&amp;instId<span class="o">=</span>BTC-USDT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 通过 ordId 查询订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_order</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">ordId</span><span class="o">=</span><span class="s">"680800019749904384"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code><br>只适用于交易中的产品</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单ID，<code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">用户自定义ID<br>如果<code>clOrdId</code>关联了多个订单，只会返回最近的那笔订单</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSourceReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00000192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTpLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedAlgoOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019749904384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"744876980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373362"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓<code>币币杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格，对于期权，以币(如BTC, ETH)为单位</td>
</tr>
<tr>
<td style="text-align: left">pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格，以USD为单位 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权订单的隐含波动率 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权的价格类型 <br><code>px</code>：代表按价格下单，单位为币 (请求参数 px 的数值单位是BTC或ETH) <br><code>pxVol</code>：代表按pxVol下单 <br><code>pxUsd</code>：代表按照pxUsd下单，单位为USD (请求参数px 的数值单位是USD)</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益，适用于有成交的平仓订单，其他情况均为0</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计成交数量<br>对于<code>币币</code>和<code>杠杆</code>，单位为交易货币，如 BTC-USDT, 单位为 BTC；对于市价单，无论<code>tgtCcy</code>是<code>base_ccy</code>，还是<code>quote_ccy</code>，单位均为交易货币；<br>对于交割、永续以及期权，单位为张。</td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格，如果成交数量为0，该字段为""</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量<br>对于<code>币币</code>和<code>杠杆</code>，单位为交易货币，如 BTC-USDT, 单位为 BTC；对于市价单，无论<code>tgtCcy</code>是<code>base_ccy</code>，还是<code>quote_ccy</code>，单位均为交易货币；<br>对于交割、永续以及期权，单位为张。</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交均价，如果成交数量为0，该字段也为""</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态  <br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交 <br><code>partially_filled</code>：部分成交<br><code>filled</code>：完全成交<br><code>mmp_canceled</code>：做市商保护机制导致的自动撤单</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">附带止盈止损的订单ID，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">张数。仅适用于“多笔止盈”的止盈订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">&gt; failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的错误码，默认为"",<br>委托失败时有值，如 51020</td>
</tr>
<tr>
<td style="text-align: left">&gt; failReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的原因，默认为""<br>委托失败时有值</td>
</tr>
<tr>
<td style="text-align: left">linkedAlgoOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止损订单信息，仅适用于包含限价止盈单的双向止盈止损订单，触发后生成的普通订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">策略订单唯一标识</td>
</tr>
<tr>
<td style="text-align: left">stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>自成交保护ID<br>如果自成交保护不适用则返回""</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">自成交保护模式</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费与返佣<br>对于币币和杠杆，为订单交易累计的手续费，平台向用户收取的交易手续费，为负数。如： -0.01<br>对于交割、永续和期权，为订单交易累计的手续费和返佣</td>
</tr>
<tr>
<td style="text-align: left">rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金币种</td>
</tr>
<tr>
<td style="text-align: left">source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单来源<br><code>6</code>：计划委托策略触发后的生成的普通单<br><code>7</code>：止盈止损策略触发后的生成的普通单<br><code>13</code>：策略委托单触发后的生成的普通单<br><code>25</code>：移动止盈止损策略触发后的生成的普通单<br><code>34</code>: 追逐限价委托生成的普通单</td>
</tr>
<tr>
<td style="text-align: left">rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金额，仅适用于币币和杠杆，平台向达到指定lv交易等级的用户支付的挂单奖励（返佣），如果没有返佣金，该字段为“”。手续费返佣为正数，如：0.01</td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单种类<br><code>normal</code>：普通委托<br><code>twap</code>：TWAP自动换币<br><code>adl</code>：ADL自动减仓<br><code>full_liquidation</code>：强制平仓<br><code>partial_liquidation</code>：强制减仓 <br><code>delivery</code>：交割<br><code>ddh</code>：对冲减仓类型订单</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">cancelSource</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的原因枚举值代码</td>
</tr>
<tr>
<td style="text-align: left">cancelSourceReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的对应具体原因</td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID。策略订单触发，且策略单有<code>algoClOrdId</code>时有值，否则为"",</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID，策略订单触发时有值，否则为""</td>
</tr>
<tr>
<td style="text-align: left">isTpLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否为限价止盈，true 或 false.</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-get-order-list">GET / 获取未成交订单列表 </h3>
<p>获取当前账户下所有未成交订单信息</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/orders-pending</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/orders-pending?ordType<span class="o">=</span>post_only,fok,ioc&amp;instType<span class="o">=</span>SPOT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询所有未成交订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_order_list</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span><span class="p">,</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"post_only,fok,ioc"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单<br><code>post_only</code>：只做maker单<br><code>fok</code>：全部成交或立即取消<br><code>ioc</code>：立即成交并取消剩余<br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单状态<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724733617998"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSourceReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTpLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedAlgoOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1752588852617379840"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"post_only"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13013.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel_maker"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724733617998"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓<code>币币杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格，对于期权，以币(如BTC, ETH)为单位</td>
</tr>
<tr>
<td style="text-align: left">pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格，以USD为单位 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权订单的隐含波动率 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权的价格类型 <br><code>px</code>：代表按价格下单，单位为币 (请求参数 px 的数值单位是BTC或ETH) <br><code>pxVol</code>：代表按pxVol下单 <br><code>pxUsd</code>：代表按照pxUsd下单，单位为USD (请求参数px 的数值单位是USD)</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益，适用于有成交的平仓订单，其他情况均为0</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格。如果还没成交，系统返回""。</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交均价。如果还没成交，系统返回<code>0</code>。</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>live</code>：等待成交 <br><code>partially_filled</code>：部分成交<br></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">附带止盈止损的订单ID，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">张数。仅适用于“多笔止盈”的止盈订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的错误码，默认为"",<br>委托失败时有值，如 51020</td>
</tr>
<tr>
<td style="text-align: left">&gt; failReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的原因，默认为""<br>委托失败时有值</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">linkedAlgoOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止损订单信息，仅适用于包含限价止盈单的双向止盈止损订单，触发后生成的普通订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">策略订单唯一标识</td>
</tr>
<tr>
<td style="text-align: left">stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>自成交保护ID<br>如果自成交保护不适用则返回""</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">自成交保护模式</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费与返佣<br>对于币币和杠杆，为订单交易累计的手续费，平台向用户收取的交易手续费，为负数。如： -0.01<br>对于交割、永续和期权，为订单交易累计的手续费和返佣</td>
</tr>
<tr>
<td style="text-align: left">rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金币种</td>
</tr>
<tr>
<td style="text-align: left">source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单来源<br><code>6</code>：计划委托策略触发后的生成的普通单<br><code>7</code>：止盈止损策略触发后的生成的普通单<br><code>13</code>：策略委托单触发后的生成的普通单<br><code>25</code>：移动止盈止损策略触发后的生成的普通单<br><code>34</code>: 追逐限价委托生成的普通单</td>
</tr>
<tr>
<td style="text-align: left">rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金额，仅适用于币币和杠杆，平台向达到指定lv交易等级的用户支付的挂单奖励（返佣），如果没有返佣金，该字段为“”。手续费返佣为<code>正数</code>，如：<code>0.01</code></td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单种类 <br><code>normal</code>：普通委托</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID。策略订单触发，且策略单有<code>algoClOrdId</code>是有值，否则为"",</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID，策略订单触发时有值，否则为""</td>
</tr>
<tr>
<td style="text-align: left">isTpLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否为限价止盈，true 或 false.</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">cancelSource</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的原因枚举值代码</td>
</tr>
<tr>
<td style="text-align: left">cancelSourceReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的对应具体原因</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-get-order-history-last-7-days">GET / 获取历史订单记录（近七天）</h3>
<p>获取最近7天挂单，且完成的订单数据，包括7天以前挂单，但近7天才成交的订单数据。按照订单创建时间倒序排序。<br></p>

<p>已经撤销的未成交单 只保留2小时</p>
<h4 id="40-2s">限速：40次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/orders-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/orders-history?ordType<span class="o">=</span>post_only,fok,ioc&amp;instType<span class="o">=</span>SPOT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询币币历史订单（7天内）
# 已经撤销的未成交单 只保留2小时
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_orders_history</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span><span class="p">,</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"post_only,fok,ioc"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如<code>BTC-USD-190927</code></td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余<br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单)  <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单状态<br><code>canceled</code>：撤单成功 <br><code>filled</code>：完全成交<br><code>mmp_canceled</code>：做市商保护机制导致的自动撤单</td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单种类 <br><code>twap</code>：TWAP自动换币 <br><code>adl</code>：ADL自动减仓<br><code>full_liquidation</code>：强制平仓<br><code>partial_liquidation</code>：强制减仓 <br><code>delivery</code>：交割<br><code>ddh</code>：对冲减仓类型订单</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳 <code>cTime</code>，Unix 时间戳为毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳 <code>cTime</code>，Unix 时间戳为毫秒数格式，如 1597027383085</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSourceReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00000192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTpLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019749904384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"744876980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373362"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedAlgoOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓<code>币币杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格，对于期权，以币(如BTC, ETH)为单位</td>
</tr>
<tr>
<td style="text-align: left">pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格，以USD为单位 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权订单的隐含波动率 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权的价格类型 <br><code>px</code>：代表按价格下单，单位为币 (请求参数 px 的数值单位是BTC或ETH) <br><code>pxVol</code>：代表按pxVol下单 <br><code>pxUsd</code>：代表按照pxUsd下单，单位为USD (请求参数px 的数值单位是USD)</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单<br><code>fok</code>：全部成交或立即取消<br><code>ioc</code>：立即成交并取消剩余<br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格，如果成交数量为0，该字段为""</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交均价，如果成交数量为0，该字段也为""</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>canceled</code>：撤单成功 <br><code>filled</code>：完全成交<br><code>mmp_canceled</code>：做市商保护机制导致的自动撤单</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">附带止盈止损的订单ID，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">张数。仅适用于“多笔止盈”的止盈订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">&gt; failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的错误码，默认为"",<br>委托失败时有值，如 51020</td>
</tr>
<tr>
<td style="text-align: left">&gt; failReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的原因，默认为""<br>委托失败时有值</td>
</tr>
<tr>
<td style="text-align: left">linkedAlgoOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止损订单信息，仅适用于包含限价止盈单的双向止盈止损订单，触发后生成的普通订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">策略订单唯一标识</td>
</tr>
<tr>
<td style="text-align: left">stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>自成交保护ID<br>如果自成交保护不适用则返回""</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">自成交保护模式</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费与返佣<br>对于币币和杠杆，为订单交易累计的手续费，平台向用户收取的交易手续费，为负数。如： -0.01<br>对于交割、永续和期权，为订单交易累计的手续费和返佣</td>
</tr>
<tr>
<td style="text-align: left">rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金币种</td>
</tr>
<tr>
<td style="text-align: left">source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单来源<br><code>6</code>：计划委托策略触发后的生成的普通单<br><code>7</code>：止盈止损策略触发后的生成的普通单<br><code>13</code>：策略委托单触发后的生成的普通单<br><code>25</code>：移动止盈止损策略触发后的生成的普通单<br><code>34</code>: 追逐限价委托生成的普通单</td>
</tr>
<tr>
<td style="text-align: left">rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金额，仅适用于币币和杠杆，平台向达到指定lv交易等级的用户支付的挂单奖励（返佣），如果没有返佣金，该字段为“”。手续费返佣为<code>正数</code>，如：<code>0.01</code></td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益，适用于有成交的平仓订单，其他情况均为0</td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单种类 <br><code>normal</code>：普通委托<br><code>twap</code>：TWAP自动换币<br><code>adl</code>：ADL自动减仓<br><code>full_liquidation</code>：强制平仓<br><code>partial_liquidation</code>：强制减仓<br><code>delivery</code>：交割<br><code>ddh</code>：对冲减仓类型订单</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">cancelSource</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的原因枚举值代码</td>
</tr>
<tr>
<td style="text-align: left">cancelSourceReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的对应具体原因</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID。策略订单触发，且策略单有<code>algoClOrdId</code>时有值，否则为"",</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID，策略订单触发时有值，否则为""</td>
</tr>
<tr>
<td style="text-align: left">isTpLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否为限价止盈，true 或 false.</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-get-order-history-last-3-months">GET / 获取历史订单记录（近三个月）</h3>
<p>获取最近3个月挂单，且完成的订单数据，包括3个月以前挂单，但近3个月才成交的订单数据。按照订单创建时间倒序排序。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/orders-history-archive</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/orders-history-archive?ordType<span class="o">=</span>post_only,fok,ioc&amp;instType<span class="o">=</span>SPOT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询币币历史订单（3月内）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_orders_history_archive</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span><span class="p">,</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"post_only,fok,ioc"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消<br><code>ioc</code>：立即成交并取消剩余<br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单状态<br><code>canceled</code>：撤单成功 <br><code>filled</code>：完全成交<br><code>mmp_canceled</code>：做市商保护机制导致的自动撤单</td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单种类<br><code>twap</code>：TWAP自动换币 <br><code>adl</code>：ADL自动减仓<br><code>full_liquidation</code>：强制平仓<br><code>partial_liquidation</code>：强制减仓<br><code>delivery</code>：交割<br><code>ddh</code>：对冲减仓类型订单</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳 <code>cTime</code>，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳 <code>cTime</code>，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSourceReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00000192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTpLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019749904384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"744876980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373362"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedAlgoOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓<code>币币杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格，对于期权，以币(如BTC, ETH)为单位</td>
</tr>
<tr>
<td style="text-align: left">pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格，以USD为单位 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权订单的隐含波动率 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">pxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权的价格类型 <br><code>px</code>：代表按价格下单，单位为币 (请求参数 px 的数值单位是BTC或ETH) <br><code>pxVol</code>：代表按pxVol下单 <br><code>pxUsd</code>：代表按照pxUsd下单，单位为USD (请求参数px 的数值单位是USD)</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格，如果成交数量为0，该字段为""</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交均价，如果成交数量为0，该字段也为""</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态 <br><code>canceled</code>：撤单成功 <br><code>filled</code>：完全成交<br><code>mmp_canceled</code>：做市商保护机制导致的自动撤单</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>自成交保护ID<br>如果自成交保护不适用则返回""</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">附带止盈止损的订单ID，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">张数。仅适用于“多笔止盈”的止盈订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">&gt; failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的错误码，默认为"",<br>委托失败时有值，如 51020</td>
</tr>
<tr>
<td style="text-align: left">&gt; failReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托失败的原因，默认为""<br>委托失败时有值</td>
</tr>
<tr>
<td style="text-align: left">linkedAlgoOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止损订单信息，仅适用于包含限价止盈单的双向止盈止损订单，触发后生成的普通订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">策略订单唯一标识</td>
</tr>
<tr>
<td style="text-align: left">stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">自成交保护模式</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费与返佣<br>对于币币和杠杆，为订单交易累计的手续费，平台向用户收取的交易手续费，为负数。如： -0.01<br>对于交割、永续和期权，为订单交易累计的手续费和返佣</td>
</tr>
<tr>
<td style="text-align: left">rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金币种</td>
</tr>
<tr>
<td style="text-align: left">rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金额，仅适用于币币和杠杆，平台向达到指定lv交易等级的用户支付的挂单奖励（返佣），如果没有返佣金，该字段为“”。手续费返佣为<code>正数</code>，如：<code>0.01</code></td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益，适用于有成交的平仓订单，其他情况均为0</td>
</tr>
<tr>
<td style="text-align: left">source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单来源<br><code>6</code>：计划委托策略触发后的生成的普通单<br><code>7</code>：止盈止损策略触发后的生成的普通单<br><code>13</code>：策略委托单触发后的生成的普通单<br><code>25</code>：移动止盈止损策略触发后的生成的普通单<br><code>34</code>: 追逐限价委托生成的普通单</td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单种类<br><code>normal</code>：普通委托<br><code>twap</code>：TWAP自动换币 <br><code>adl</code>：ADL自动减仓<br><code>full_liquidation</code>：强制平仓<br><code>partial_liquidation</code>：强制减仓 <br><code>delivery</code>：交割<br><code>ddh</code>：对冲减仓类型订单</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">cancelSource</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的原因枚举值代码</td>
</tr>
<tr>
<td style="text-align: left">cancelSourceReason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消来源的对应具体原因</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID。策略订单触发，且策略单有<code>algoClOrdId</code>是有值，否则为"",</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID，策略订单触发时有值，否则为""</td>
</tr>
<tr>
<td style="text-align: left">isTpLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否为限价止盈，true 或 false.</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
该接口不包含`已撤销的完全无成交`类型订单数据，可通过`获取历史订单记录（近七天)`接口获取。<br>
</aside>

<aside class="notice">
对于已完成的期权订单，如果是px订单，pxVol 和 pxUsd 会实时更新，如果是 pxUsd 订单，pxVol 会实时更新，如果是pxVol 订单，pxUsd 会实时更新。
</aside>
<h3 id="order-book-trading-trade-get-transaction-details-last-3-days">GET / 获取成交明细（近三天） </h3>
<p>获取近3天的订单成交明细信息</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/trade/fills</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/fills

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取成交明细
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_fills</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品 ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">成交类型 <br><code>1</code>：买入<br><code>2</code>：卖出 <br><code>3</code>：开多 <br><code>4</code>：开空 <br><code>5</code>：平多 <br><code>6</code>：平空 <br><code>100</code>：强减平多 <br><code>101</code>：强减平空 <br><code>102</code>：强减买入 <br><code>103</code>：强减卖出 <br><code>104</code>：强平平多 <br><code>105</code>：强平平空 <br><code>106</code>：强平买入 <br><code>107</code>：强平卖出 <br><code>110</code>：强平换币转入 <br><code>111</code>：强平换币转出 <br><code>118</code>：系统换币转入 <br><code>119</code>：系统换币转出 <br><code>125</code>：自动减仓平多 <br><code>126</code>：自动减仓平空 <br><code>127</code>：自动减仓买入 <br><code>128</code>：自动减仓卖出 <br><code>212</code>：一键借币的自动借币 <br><code>213</code>：一键借币的自动还币 <br><code>204</code>：大宗交易买 <br><code>205</code>：大宗交易卖 <br><code>206</code>：大宗交易开多 <br><code>207</code>：大宗交易开空 <br><code>208</code>：大宗交易平多 <br><code>209</code>：大宗交易平空 <br><code>270</code>：价差交易买<br><code>271</code>：价差交易卖<br><code>272</code>：价差交易开多<br><code>273</code>：价差交易开空<br><code>274</code>：价差交易平多<br><code>275</code>：价差交易平空<br></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之前（更旧的数据）的分页内容，传的值为对应接口的<code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之后（更新的数据）的分页内容，传的值为对应接口的<code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillFwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00000192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019749904384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019754098688"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillMarkVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillIdxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"744876980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillMarkPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373362"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品 ID</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交 ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单 ID</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交类型</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格，同"账单流水查询"的 px</td>
</tr>
<tr>
<td style="text-align: left">fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillIdxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易执行时的指数价格 <br>对于交叉现货币对，返回 baseCcy-USDT 的指数价格。 例如LTC-ETH，该字段返回LTC-USDT的指数价格。</td>
</tr>
<tr>
<td style="text-align: left">fillPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交收益，适用于有成交的平仓订单。其他情况均为0。</td>
</tr>
<tr>
<td style="text-align: left">fillPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的期权价格，以USD为单位，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记波动率，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillFwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格，仅适用于 <code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向 <code>buy</code>：买 <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <code>long</code>：多 <code>short</code>：空 买卖模式返回 <code>net</code></td>
</tr>
<tr>
<td style="text-align: left">execType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">流动性方向 <code>T</code>：taker <code>M</code>：maker<br>不适用于系统订单比如强平和ADL</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种或者返佣金币种</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费金额或者返佣金额，手续费扣除为‘负数’，如-0.01；手续费返佣为‘正数’，如 0.01</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交明细产生时间，Unix时间戳的毫秒数格式，如<code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，与订单频道的<code>fillTime</code>相同</td>
</tr>
<tr>
<td style="text-align: left">feeRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费费率。 该字段仅对 <code>币币</code>和<code>杠杆</code>返回</td>
</tr>
</tbody></table>

<aside class="notice">
tradeId<br>
当成交明细所归属的订单种类（category）为 partial_liquidation：强制减仓、full_liquidation：强制平仓、adl：ADL自动减仓时，tradeId字段的值为负数，以便和其他撮合成交场景区分<br>
</aside>

<aside class="notice">
ordId<br>
订单ID, 对于大宗交易总是 "" 。<br>
</aside>

<aside class="notice">
clOrdId<br>
用户自定义订单ID, 对于大宗交易总是 "" 。
</aside>
<h3 id="order-book-trading-trade-get-transaction-details-last-3-months">GET / 获取成交明细（近三个月） </h3>
<p>获取近3个月订单成交明细信息</p>
<h4 id="10-2s">限速：10 次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/trade/fills-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/fills-history?instType<span class="o">=</span>SPOT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询 币币 成交明细（3月内）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_fills_history</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品 ID，如<code>BTC-USD-190927</code></td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">成交类型 <br><code>1</code>：买入<br><code>2</code>：卖出 <br><code>3</code>：开多 <br><code>4</code>：开空 <br><code>5</code>：平多 <br><code>6</code>：平空 <br><code>100</code>：强减平多 <br><code>101</code>：强减平空 <br><code>102</code>：强减买入 <br><code>103</code>：强减卖出 <br><code>104</code>：强平平多 <br><code>105</code>：强平平空 <br><code>106</code>：强平买入 <br><code>107</code>：强平卖出 <br><code>110</code>：强平换币转入 <br><code>111</code>：强平换币转出 <br><code>118</code>：系统换币转入 <br><code>119</code>：系统换币转出 <br><code>125</code>：自动减仓平多 <br><code>126</code>：自动减仓平空 <br><code>127</code>：自动减仓买入 <br><code>128</code>：自动减仓卖出 <br><code>212</code>：一键借币的自动借币 <br><code>213</code>：一键借币的自动还币 <br><code>204</code>：大宗交易买 <br><code>205</code>：大宗交易卖 <br><code>206</code>：大宗交易开多 <br><code>207</code>：大宗交易开空 <br><code>208</code>：大宗交易平多 <br><code>209</code>：大宗交易平空 <br><code>270</code>：价差交易买<br><code>271</code>：价差交易卖<br><code>272</code>：价差交易开多<br><code>273</code>：价差交易开空<br><code>274</code>：价差交易平多<br><code>275</code>：价差交易平空<br></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之前（更旧的数据）的分页内容，传的值为对应接口的 <code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之后（更新的数据）的分页内容，传的值为对应接口的 <code>billId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的开始时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">筛选的结束时间戳 <code>ts</code>，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51858"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillFwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00000192834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019749904384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019754098688"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillMarkVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373361"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillIdxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"744876980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillMarkPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708587373362"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品 ID</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交 ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单 ID</td>
</tr>
<tr>
<td style="text-align: left">subType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交类型</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格，同"账单流水查询"的 px</td>
</tr>
<tr>
<td style="text-align: left">fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillIdxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易执行时的指数价格<br>对于交叉现货币对，返回 baseCcy-USDT 的指数价格。 例如LTC-ETH，该字段返回 LTC-USDT 的指数价格。</td>
</tr>
<tr>
<td style="text-align: left">fillPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交收益，适用于有成交的平仓订单。其他情况均为0。</td>
</tr>
<tr>
<td style="text-align: left">fillPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的期权价格，以USD为单位，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记波动率，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillFwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">fillMarkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格，仅适用于 <code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向<br><code>buy</code>：买<br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：多<br><code>short</code>：空<br>买卖模式返回 <code>net</code></td>
</tr>
<tr>
<td style="text-align: left">execType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">流动性方向<br><code>T</code>：taker<br><code>M</code>：maker<br>不适用于系统订单比如强平和ADL</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种或者返佣金币种</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费金额或者返佣金额<br>手续费扣除为‘负数’，如 -0.01<br>手续费返佣为‘正数’，如 0.01</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交明细产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，与订单频道的<code>fillTime</code>相同</td>
</tr>
<tr>
<td style="text-align: left">feeRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费费率。 该字段仅对 <code>币币</code>和<code>杠杆</code>返回</td>
</tr>
</tbody></table>

<aside class="notice">
tradeId<br>
当成交明细所归属的订单种类（category）为 partial_liquidation：强制减仓、full_liquidation：强制平仓、adl：ADL自动减仓时，tradeId字段的值为负数，以便和其他撮合成交场景区分<br>
</aside>

<aside class="notice">
ordId<br>
订单ID, 对于大宗交易总是 "" 。<br>
</aside>

<aside class="notice">
clOrdId<br>
用户自定义订单ID, 对于大宗交易总是 "" 。
</aside>

<aside class="notice">
获取近3天的成交明细时，建议使用获取成交明细（近三天）接口。
</aside>
<h3 id="order-book-trading-trade-get-easy-convert-currency-list">GET / 获取一键兑换主流币币种列表 </h3>
<p>获取小币一键兑换主流币币种列表。仅可兑换余额在 $10 以下币种。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/trade/easy-convert-currency-list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/easy-convert-currency-list
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取小币一键兑换主流币币种列表
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_easy_convert_currency_list</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">资金来源<br><code>1</code>：交易账户<br><code>2</code>：资金账户<br>默认为<code>1</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fromData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"fromAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.580712708344864"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fromCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADA"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"fromAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.9970000013055097"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fromCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"toCcy"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"OKB"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fromData</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">当前拥有并可兑换的小币币种列表信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; fromCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可兑换币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; fromAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可兑换币种数量</td>
</tr>
<tr>
<td style="text-align: left">toCcy</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">可转换成的主流币币种列表</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-place-easy-convert">POST / 一键兑换主流币交易 </h3>
<p>进行小币一键兑换主流币交易。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/trade/easy-convert</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/easy-convert
body
<span class="o">{</span>
    <span class="s2">"fromCcy"</span>: <span class="o">[</span><span class="s2">"ADA"</span>,<span class="s2">"USDC"</span><span class="o">]</span>, //逗号分隔小币
    <span class="s2">"toCcy"</span>: <span class="s2">"OKB"</span> 
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 进行小币一键兑换主流币交易
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">easy_convert</span><span class="p">(</span>
    <span class="n">fromCcy</span><span class="o">=</span><span class="p">[</span><span class="s">"ADA"</span><span class="p">,</span> <span class="s">"USDC"</span><span class="p">],</span>
    <span class="n">toCcy</span><span class="o">=</span><span class="s">"OKB"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fromCcy</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">小币支付币种 <br>单次最多同时选择5个币种，如有多个币种则用逗号隔开</td>
</tr>
<tr>
<td style="text-align: left">toCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">兑换的主流币 <br>只选择一个币种，且不能和小币支付币种重复</td>
</tr>
<tr>
<td style="text-align: left">source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">资金来源<br><code>1</code>：交易账户<br><code>2</code>：资金账户<br>默认为<code>1</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillFromSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.5807127"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillToSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.17171580105126"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fromCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"toCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1661419684687"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillFromSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.997"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillToSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1683755161661844"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fromCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"toCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1661419684687"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前兑换进度/状态 <br><code>running</code>: 进行中 <br><code>filled</code>: 已完成 <br><code>failed</code>: 失败</td>
</tr>
<tr>
<td style="text-align: left">fromCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小币支付币种</td>
</tr>
<tr>
<td style="text-align: left">toCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">兑换的主流币</td>
</tr>
<tr>
<td style="text-align: left">fillFromSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小币偿还币种支付数量</td>
</tr>
<tr>
<td style="text-align: left">fillToSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">兑换的主流币成交数量</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易时间戳，Unix时间戳为毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-get-easy-convert-history">GET / 获取一键兑换主流币历史记录 </h3>
<p>查询一键兑换主流币过去7天内的历史记录与进度状态。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/trade/easy-convert-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/easy-convert-history
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取一键兑换主流币历史记录
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_easy_convert_history</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前(不包含)的内容，值为时间戳，Unix时间戳为毫秒数格式，如<code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后(不包含)的内容，值为时间戳，Unix时间戳为毫秒数格式，如<code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回的结果集数量，默认为100，最大为100</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillFromSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1761712511667539"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillToSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.7342205900000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fromCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"toCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"acct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1661313307979"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillFromSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1722106121112177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillToSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.9971018300000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fromCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"toCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"acct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1661313307979"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fromCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小币支付币种</td>
</tr>
<tr>
<td style="text-align: left">fillFromSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应的小币支付数量</td>
</tr>
<tr>
<td style="text-align: left">toCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">兑换到的主流币</td>
</tr>
<tr>
<td style="text-align: left">fillToSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">兑换到的主流币数量</td>
</tr>
<tr>
<td style="text-align: left">acct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">兑换到的主流币所在的账户<br><code>6</code>：资金账户 <br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前兑换进度/状态 <br><code>running</code>: 进行中 <br><code>filled</code>: 已完成 <br><code>failed</code>: 失败</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易时间戳，Unix时间戳为毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-get-one-click-repay-currency-list">GET / 获取一键还债币种列表 </h3>
<p>查询一键还债币种列表。负债币种包括全仓负债和逐仓负债。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/trade/one-click-repay-currency-list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/one-click-repay-currency-list
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询一键还债币种列表
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">get_oneclick_repay_list</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">debtType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">负债类型 <br><code>cross</code>: 全仓负债 <br><code>isolated</code>: 逐仓负债</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"debtData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"debtAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29.653478"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"debtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"debtAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237803.6828295906051002"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"debtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"debtType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repayData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"repayAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.4978335419825104"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"repayCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">debtData</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">负债币种信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; debtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; debtAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可负债币种数量<br>包括本金和利息</td>
</tr>
<tr>
<td style="text-align: left">debtType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债类型 <br><code>cross</code>: 全仓负债 <br><code>isolated</code>: 逐仓负债</td>
</tr>
<tr>
<td style="text-align: left">repayData</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">偿还币种信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; repayCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可偿还负债的币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; repayAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可偿还负债的币种可用资产数量</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-trade-one-click-repay">POST / 一键还债交易 </h3>
<p>交易一键偿还全仓债务。不支持逐仓负债的偿还。根据资金和交易账户的剩余可用余额为最大偿还数量。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/trade/one-click-repay</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/one-click-repay
body
<span class="o">{</span>
    <span class="s2">"debtCcy"</span>: <span class="o">[</span><span class="s2">"ETH"</span>,<span class="s2">"BTC"</span><span class="o">]</span>, //逗号分隔债务币
    <span class="s2">"repayCcy"</span>: <span class="s2">"USDT"</span> //用USDT偿还ETH和BTC
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 交易一键偿还小额全仓债务，使用USDT偿还ETH和BTC债务
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">oneclick_repay</span><span class="p">(</span>
    <span class="n">debtCcy</span><span class="o">=</span><span class="p">[</span><span class="s">"ETH"</span><span class="p">,</span> <span class="s">"BTC"</span><span class="p">],</span>
    <span class="n">repayCcy</span><span class="o">=</span><span class="s">"USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">debtCcy</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">负债币种 <br>单次最多同时选择5个币种，如有多个币种则用逗号隔开</td>
</tr>
<tr>
<td style="text-align: left">repayCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">偿还币种 <br>只选择一个币种，且不能和负债币种重复</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"debtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"fillDebtSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01023052"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillRepaySz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"repayCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646188520338"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"debtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"fillFromSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillToSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60,221.15910001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repayCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646188520338"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前还债进度/状态 <br><code>running</code>: 进行中 <br><code>filled</code>: 已完成 <br><code>failed</code>: 失败</td>
</tr>
<tr>
<td style="text-align: left">debtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债币种</td>
</tr>
<tr>
<td style="text-align: left">repayCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">偿还币种</td>
</tr>
<tr>
<td style="text-align: left">fillDebtSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债币种成交数量</td>
</tr>
<tr>
<td style="text-align: left">fillRepaySz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">偿还币种成交数量</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易时间戳，Unix时间戳为毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-get-one-click-repay-history">GET / 获取一键还债历史记录 </h3>
<p>查询一键还债近7天的历史记录与进度状态。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/trade/one-click-repay-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/one-click-repay-history
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取一键还债历史记录
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">oneclick_repay_history</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为时间戳，Unix时间戳为毫秒数格式，如<code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为时间戳，Unix时间戳为毫秒数格式，如<code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回的结果集数量，默认为100，最大为100</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"debtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillDebtSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6950.4865447900000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillRepaySz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.3067975995094930"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"repayCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1661256148746"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">debtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">负债币种</td>
</tr>
<tr>
<td style="text-align: left">fillDebtSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">对应的负债币种成交数量</td>
</tr>
<tr>
<td style="text-align: left">repayCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">偿还币种</td>
</tr>
<tr>
<td style="text-align: left">fillRepaySz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">偿还币种实际支付数量</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前还债进度/状态 <br><code>running</code>: 进行中 <br><code>filled</code>: 已完成 <br><code>failed</code>: 失败</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易时间戳，Unix时间戳为毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-mass-cancel-order">POST / 撤销 MMP 订单</h3>
<p>撤销同一交易品种下用户所有的 MMP 挂单<br>
仅适用于组合保证金账户模式下的期权订单，且有 MMP 权限。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/mass-cancel</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/mass-cancel
body
<span class="o">{</span>
    <span class="s2">"instType"</span>:<span class="s2">"OPTION"</span>,
    <span class="s2">"instFamily"</span>:<span class="s2">"BTC-USD"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易产品类型<br><code>OPTION</code>:期权</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">lockInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">锁定时长(毫秒)<br> 范围应为[0, 10 000]<br> 默认为 0. 如果想要立即解锁，您可以设置为 "0"<br> 下单时，如果在该锁定期间，会报错 54008，如果在 MMP 触发期间，会报错 51034</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">撤单结果<br><code>true</code>：全部撤单成功<br><code>false</code>：全部撤单失败</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-cancel-all-after">POST / 倒计时全部撤单</h3>
<p>在倒计时结束后，取消所有挂单。适用于所有撮合交易产品（不包括价差交易）。</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid-tag">限速规则：UserID + tag</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/cancel-all-after</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/cancel-all-after
<span class="o">{</span>
   <span class="s2">"timeOut"</span>:<span class="s2">"60"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API initialization
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 设置倒计时全部撤单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">cancel_all_after</span><span class="p">(</span>
    <span class="n">timeOut</span><span class="o">=</span><span class="s">"10"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timeOut</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">取消挂单的倒计时，单位为秒<br>取值范围为 0, [10, 120]<br>0 代表不使用该功能</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">CAA订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="s2">"1587971460"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1587971400"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发撤单的时间<br>triggerTime=0 代表未使用该功能</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">CAA订单标签</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">请求被接收到的时间</td>
</tr>
</tbody></table>

<aside class="notice">
建议用户每一秒调用接口一次。当倒计时全部撤单被触发时，交易引擎将为用户逐一取消其挂单，该操作可能持续数秒。该功能起到保护用户的作用，不应作为交易策略使用。
</aside>

<aside class="notice">
<br>
为使用标签维度倒计时全部撤单，首先，用户需使用现有下单接口的tag请求参数，为订单设置标签。调用CAA接口时，若不传入tag请求参数，则默认设置账户维度CAA，CAA触发时，撤销该子账户下的所有撮合交易产品挂单；若传入tag请求参数，则默认设置订单标签维度CAA，CAA触发时，带有此tag的撮合交易产品挂单将被撤销，带有其他tag或没有tag的订单将不受影响。
<br>
<br>
同一子账户下，用户最多能同时运行20个标签维度的CAA。系统仅计数活跃的标签维度CAA，已被触发或被用户主动撤销的将不被计入。超过限制时，用户将收到错误码51071。
</aside>
<h3 id="order-book-trading-trade-get-account-rate-limit">GET / 获取账户限速 </h3>
<p>获取账户限速相关信息<br></p>

<p>仅有新订单及修改订单请求会被计入此限制。对于包含多个订单的批量请求，每个订单将被单独计数。<br></p>

<p>更多细节，请见 <a href="https://www.okx.com/docs-v5/zh/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a></p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/account-rate-limit</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
<span class="c"># 获取账户限速相关信息</span>
GET /api/v5/trade/account-rate-limit

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>None</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"accRateLimit"</span><span class="p">:</span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"fillRatio"</span><span class="p">:</span><span class="s2">"0.1234"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"mainFillRatio"</span><span class="p">:</span><span class="s2">"0.1234"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"nextAccRateLimit"</span><span class="p">:</span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"123456789000"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>fillRatio</td>
<td>String</td>
<td>监测期内子账户的成交比率 <br>适用于交易费等级 &gt;= VIP 5的用户，其余用户返回"" <br>对于监测期内没有交易量的账户，返回"0"。对于监测期内有交易量，但没有订单操作数的用户，返回"9999"。</td>
</tr>
<tr>
<td>mainFillRatio</td>
<td>String</td>
<td>监测期内母账户合计成交比率 <br>适用于交易费等级 &gt;= VIP 5的用户，其余用户返回"" <br>对于监测期内没有交易量的账户，返回"0"</td>
</tr>
<tr>
<td>accRateLimit</td>
<td>String</td>
<td>当前子账户交易限速（每两秒）</td>
</tr>
<tr>
<td>nextAccRateLimit</td>
<td>String</td>
<td>预计下一周期子账户交易限速（每两秒）<br>适用于交易费等级 &gt;= VIP 5的用户，其余用户返回""</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>数据更新时间 <br>对于交易费等级&gt;= VIP 5的用户，数据将于每日16:00（UTC+8）生成 <br>对于交易费等级 &lt; VIP 5的用户，返回当前时间戳</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-post-order-precheck">POST / 订单预检查 </h3>
<p>用来预先查看订单下单前后的账户的对比信息，仅适用于<code>跨币种保证金模式</code>和<code>组合保证金模式</code>。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/order-precheck</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/order-precheck
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"tdMode"</span>:<span class="s2">"cash"</span>,
    <span class="s2">"clOrdId"</span>:<span class="s2">"b15"</span>,
    <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
    <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
    <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
    <span class="s2">"sz"</span>:<span class="s2">"2"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br>保证金模式：<code>isolated</code>：逐仓 ；<code>cross</code>：全仓 <br>非保证金模式：<code>cash</code>：非保证金<br><code>spot_isolated</code>：现货逐仓(仅适用于现货带单) ，现货带单时，<code>tdMode</code> 的值需要指定为<code>spot_isolated</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向<br><code>buy</code>：买，   <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">持仓方向<br>在开平仓模式下必填，且仅可选择 <code>long</code> 或 <code>short</code>。 仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code>、<code>post_only</code>、<code>fok</code>、<code>ioc</code>类型的订单</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">市价单委托数量<code>sz</code>的单位，仅适用于<code>币币</code>市价订单<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>买单默认<code>quote_ccy</code>， 卖单默认<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给<code>algoClOrdId</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价<br>对于条件止盈单，如果填写此参数，必须填写 止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈委托价<br>对于条件止盈单，如果填写此参数，必须填写 止盈触发价<br>对于限价止盈单，需填写此参数，不需要填写止盈触发价<br>委托价格为-1时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单<br> 默认为<code>condition</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写 止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写 止损触发价<br>委托价格为-1时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">数量。仅适用于“多笔止盈”的止盈订单，且对于“多笔止盈”的止盈订单必填</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adjEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.94347460746277"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"adjEqChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-226.05616481626"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availBalChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imrChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57.74709688430927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liabChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liabChgCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6764.8556232031115"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPxDiff"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-57693.044376796888536773622035980224609375"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPxDiffRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.8950500152315991"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatioChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmrChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posBalChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">adjEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前美金层面有效保证金</td>
</tr>
<tr>
<td style="text-align: left">adjEqChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，美金层面有效保证金的变动数量</td>
</tr>
<tr>
<td style="text-align: left">imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前美金层面占用保证金</td>
</tr>
<tr>
<td style="text-align: left">imrChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，美金层面占用保证金的变动数量</td>
</tr>
<tr>
<td style="text-align: left">mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前美金层面维持保证金</td>
</tr>
<tr>
<td style="text-align: left">mmrChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，美金层面维持保证金的变动数量</td>
</tr>
<tr>
<td style="text-align: left">mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前美金层面保证金率</td>
</tr>
<tr>
<td style="text-align: left">mgnRatioChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，美金层面保证金率的变动数量</td>
</tr>
<tr>
<td style="text-align: left">availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前币种可用余额，仅适用于关闭自动借币时</td>
</tr>
<tr>
<td style="text-align: left">availBalChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，币种可用余额的变动数量，仅适用于关闭自动借币时</td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前预估强平价</td>
</tr>
<tr>
<td style="text-align: left">liqPxDiff</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，预估强平价与标记价格的差距</td>
</tr>
<tr>
<td style="text-align: left">liqPxDiffRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，预估强平价与标记价格的差距比率</td>
</tr>
<tr>
<td style="text-align: left">posBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前杠杆逐仓仓位正资产，仅适用于逐仓杠杆</td>
</tr>
<tr>
<td style="text-align: left">posBalChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，杠杆逐仓仓位正资产的变动数量，仅适用于逐仓杠杆</td>
</tr>
<tr>
<td style="text-align: left">liab</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前负债<br> 如果是全仓，对应全仓负债，如果是逐仓，对应逐仓负债</td>
</tr>
<tr>
<td style="text-align: left">liabChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，当前负债的变动数量<br> 如果是全仓，对应全仓负债，如果是逐仓，对应逐仓负债</td>
</tr>
<tr>
<td style="text-align: left">liabChgCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单后，当前负债变动数量的单位<br>仅适用于全仓，开启自动借币时</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位正资产(<code>posBal</code>)的单位类型，仅适用于杠杆逐仓，用来确定<code>posBal</code>的单位 <br><code>1</code>:下单前后都是交易货币<br> <code>2</code>:下单前是交易货币，下单后是计价货币<br> <code>3</code>:下单前是计价货币，下单后是交易货币<br> <code>4</code>:下单前后都是计价货币</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-ws-order-channel">WS / 订单频道 </h3>
<p>获取订单信息，首次订阅不推送，只有当下单、撤单等事件触发时，推送数据<br>
该频道的并发连接受到如下规则限制：<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-connection-count-limit">WebSocket 连接限制</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"orders"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USD-200329"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"orders"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>orders</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200329"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">orders</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amendResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31527.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654084334977"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.02522168"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.02522168"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillFeeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillNotionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.50818374"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31527.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654084353263"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPxVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPxUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillMarkVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillFwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillMarkPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.50818374"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"452197707845865472"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31527.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxUsd"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVol"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxType"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stpMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242589207"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38892.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amendSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTpLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654084353264"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedAlgoOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓<code>币币杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格，对于期权，以币(如BTC, ETH)为单位</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格，以USD为单位 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权订单的隐含波动率 <br>仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权的价格类型 <br><code>px</code>：代表按价格下单，单位为币 (请求参数 px 的数值单位是BTC或ETH) <br><code>pxVol</code>：代表按pxVol下单 <br><code>pxUsd</code>：代表按照pxUsd下单，单位为USD (请求参数px 的数值单位是USD)</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">原始委托数量，<code>币币/币币杠杆</code>，以币为单位；<code>交割/永续/期权</code> ，以张为单位</td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托单预估美元价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillNotionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托单已成交的美元价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型 <br><code>market</code>：市价单  <br><code>limit</code>：限价单   <br><code>post_only</code>：只做maker单  <br><code>fok</code>：全部成交或立即取消单<br><code>ioc</code>：立即成交并取消剩余单 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单) <br><code>op_fok</code>：期权简选（全部成交或立即取消）</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向，<code>buy</code>    <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式<br>保证金模式     <code>isolated</code>：逐仓  <code>cross</code>：全仓    <br>非保证金模式  <code>cash</code>：现金</td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币  <code>quote_ccy</code>：计价货币</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交数量<br>对于<code>币币</code>和<code>杠杆</code>，单位为交易货币，如 BTC-USDT, 单位为 BTC；对于市价单，无论<code>tgtCcy</code>是<code>base_ccy</code>，还是<code>quote_ccy</code>，单位均为交易货币；<br>对于交割、永续以及期权，单位为张。</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交收益，适用于有成交的平仓订单。其他情况均为0。</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交时间</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔成交的手续费金额或者返佣金额：<br>手续费扣除 为 ‘负数’，如 -0.01 ； <br>手续费返佣 为 ‘正数’，如 0.01</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillFeeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔成交的手续费币种或者返佣币种。<br>如果fillFee小于0，为手续费币种；如果fillFee大于等于0，为返佣币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的期权价格，以USD为单位仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillMarkVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记波动率，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillFwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格，仅适用于期权，其他业务线返回空字符串""</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillMarkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格，仅适用于 <code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; execType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔成交的流动性方向    T：taker   M：maker</td>
</tr>
<tr>
<td style="text-align: left">&gt; accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计成交数量<br>对于<code>币币</code>和<code>杠杆</code>，单位为交易货币，如 BTC-USDT, 单位为 BTC；对于市价单，无论<code>tgtCcy</code>是<code>base_ccy</code>，还是<code>quote_ccy</code>，单位均为交易货币；<br>对于交割、永续以及期权，单位为张。</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillNotionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托单已成交的美元价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交均价，如果成交数量为0，该字段也为0</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态 <br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交 <br><code>filled</code>：完全成交<br><code>mmp_canceled</code>：做市商保护机制导致的自动撤单</td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，止盈委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价，止损委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">下单附带止盈止损信息</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">附带止盈止损的订单ID，改单时，可用来标识该笔附带止盈止损订单。下止盈止损委托单时，该值不会传给 algoId</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">张数。仅适用于“多笔止盈”的止盈订单</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">&gt; linkedAlgoOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止损订单信息，仅适用于包含限价止盈单的双向止盈止损订单，触发后生成的普通订单</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; algoId</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">策略订单唯一标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>自成交保护ID<br>如果自成交保护不适用则返回""</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">自成交保护模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易手续费币种 <br><code>币币/币币杠杆</code>：如果是买的话，收取的就是交易币；如果是卖的话，收取的就是计价币。<br><code>交割/永续/期权</code> 收取的就是保证金</td>
</tr>
<tr>
<td style="text-align: left">&gt; fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单交易累计的手续费与返佣<br>对于币币和杠杆，为订单交易累计的手续费，平台向用户收取的交易手续费，为负数。如： -0.01<br>对于交割、永续和期权，为订单交易累计的手续费和返佣</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣金币种 ，如果没有返佣金，该字段为“”</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣累计金额，仅适用于币币和杠杆，平台向达到指定lv交易等级的用户支付的挂单奖励（返佣），如果没有返佣金，该字段为“”</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益，适用于有成交的平仓订单，其他情况均为0 <br>对于合约全仓爆仓，将包含相应强平惩罚金</td>
</tr>
<tr>
<td style="text-align: left">&gt; source</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单来源<br><code>6</code>：计划委托策略触发后的生成的普通单<br><code>7</code>：止盈止损策略触发后的生成的普通单<br><code>13</code>：策略委托单触发后的生成的普通单<br><code>25</code>：移动止盈止损策略触发后的生成的普通单<br><code>34</code>: 追逐限价委托生成的普通单</td>
</tr>
<tr>
<td style="text-align: left">&gt; cancelSource</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单取消的来源<br>有效值及对应的含义是：<br><code>0</code>: 已撤单：系统撤单<br><code>1</code>: 用户主动撤单<br><code>2</code>: 已撤单：预减仓撤单，用户保证金不足导致挂单被撤回<br><code>3</code>: 已撤单：风控撤单，用户保证金不足有爆仓风险，导致挂单被撤回<br><code>4</code>: 已撤单：币种借币量达到平台硬顶，系统已撤回该订单<br><code>6</code>: 已撤单：触发 ADL 撤单，用户保证金率较低且有爆仓风险，导致挂单被撤回<br><code>7</code>: 已撤单：交割合约到期<br><code>9</code>: 已撤单：扣除资金费用后可用余额不足，系统已撤回该订单 <br><code>13</code>: 已撤单：FOK 委托订单未完全成交，导致挂单被完全撤回<br><code>14</code>: 已撤单：IOC 委托订单未完全成交，仅部分成交，导致部分挂单被撤回<br><code>15</code>: 已撤单：该订单委托价不在限价范围内<br><code>17</code>: 已撤单：平仓单被撤单，由于仓位已被市价全平<br><code>20</code>: 系统倒计时撤单<br><code>21</code>: 已撤单：相关仓位被完全平仓，系统已撤销该止盈止损订单<br><code>22</code>, <code>23</code>: 已撤单：只减仓订单仅允许减少仓位数量，系统已撤销该订单<br><code>27</code>: 成交滑点超过5%，触发成交差价保护导致系统撤单 <br><code>31</code>: 当前只挂单订单 (Post only) 将会吃掉挂单深度 <br><code>32</code>: 自成交保护 <br><code>33</code>: 当前 taker 订单匹配的订单数量超过最大限制<br><code>36</code>: 关联止损被触发，撤销限价止盈 <br><code>37</code>: 关联止损被撤销，撤销限价止盈 <br><code>38</code>: 您已撤销做市商保护 (MMP) 类型订单<br><code>39</code>: 因做市商保护 (MMP) 被触发，该类型订单已被撤销<br><code>40</code>: 初始下单价格与最新的买一或卖一价已达到最大追逐距离，您的订单已被自动取消</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendSource</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单修改的来源<br><code>1</code>: 用户主动改单，改单成功<br><code>2</code>: 用户主动改单，并且当前这笔订单被只减仓修改，改单成功<br><code>3</code>: 用户主动下单，并且当前这笔订单被只减仓修改，改单成功<br><code>4</code>: 用户当前已存在的挂单（非当前操作的订单），被只减仓修改，改单成功<br><code>5</code>：期权 px, pxVol 或 pxUsd 的跟随变动导致的改单，比如 iv=60，USD，px 锚定iv=60 时，USD, px 产生变动时的改单</td>
</tr>
<tr>
<td style="text-align: left">&gt; category</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单种类分类<br><code>normal</code>：普通委托订单种类 <br><code>twap</code>：TWAP订单种类<br><code>adl</code>：ADL订单种类<br><code>full_liquidation</code>：爆仓订单种类<br><code>partial_liquidation</code>：减仓订单种类<br><code>delivery</code>：交割<br><code>ddh</code>：对冲减仓类型订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; isTpLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否为限价止盈，true 或 false.</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">修改订单时使用的request ID，如果没有修改，该字段为""</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendResult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">修改订单的结果<br><code>-1</code>：失败<br><code>0</code>：成功<br><code>1</code>：自动撤单（修改请求返回成功但最终改单失败导致自动撤销）<br><code>2</code>: 自动改单成功，仅适用于期权pxUsd和pxVol订单的自动改单 <br>通过API修改订单时，如果<code>cxlOnFail</code>设置为<code>true</code>且修改返回结果为失败时，则返回 ""<br>通过API修改订单时，如果修改返回结果为成功但修改最终失败后，当<code>cxlOnFail</code>设置为<code>false</code>时返回 <code>-1</code>;当<code>cxlOnFail</code>设置为<code>true</code>时则返回<code>1</code><br>通过Web/APP修改订单时，如果修改失败后，则返回<code>-1</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID。策略订单触发，且策略单有<code>algoClOrdId</code>时有值，否则为"",</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID，策略订单触发时有值，否则为""</td>
</tr>
<tr>
<td style="text-align: left">&gt; lastPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">&gt; code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误码，默认为0</td>
</tr>
<tr>
<td style="text-align: left">&gt; msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误消息，默认为""</td>
</tr>
</tbody></table>

<aside class="notice"> 
<p> 
  对于市价委托，订单频道推送消息会出现状态为“完全成交”，但最新成交数量 (fillSz) 为 0 的情况。
</p> 
</aside> 

<aside class="notice"> 
<p> 
当期权行权时，对应的挂单将被直接删除, 因此订单频道不会有推送
</p> 
</aside> 
<h3 id="order-book-trading-trade-ws-fills-channel">WS / 成交频道 </h3>
<p>获取成交信息。该频道无首推，仅在订单簿成交相关事件触发时推送数据，tradeId &gt; 0。</p>

<p>该频道仅适用于交易等级VIP5及以上的用户。其他用户请使用<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-order-channel">WS / 订单频道</a>。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"channel"</span>: <span class="s2">"fills"</span>,
            <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"channel"</span>: <span class="s2">"fills"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作<br><code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名 <code>fills</code></td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>否</td>
<td>产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fills"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件<br> <code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>否</td>
<td>产品ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fills"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791111"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1705449605015"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"680800019749904384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"T"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt; fillSz</td>
<td>String</td>
<td>成交数量，若这笔成交有聚合，则成交数量为聚合后的数量</td>
</tr>
<tr>
<td>&gt; fillPx</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>订单方向，<code>buy</code> <code>sell</code></td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>成交时间</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>成交ID <br>若为taker订单且有聚合，则为聚合的多笔交易中最新一笔交易的成交ID</td>
</tr>
<tr>
<td>&gt; execType</td>
<td>String</td>
<td>流动性方向 <code>T</code>：taker <code>M</code>：maker</td>
</tr>
<tr>
<td>&gt; count</td>
<td>String</td>
<td>聚合的订单匹配数量</td>
</tr>
</tbody></table>

<aside class="notice"> 
- 该频道仅适用于交易等级VIP5及以上的用户，其他用户接入将收到错误码60029<br>
- 该频道只推送部分订单频道的信息，与大宗交易、价差速递相关的成交，强平、自动减仓等非订单簿事件不会通过该频道推送。用户应同时关注订单频道，对订单做最终确认<br>
- 该频道接收到成交推送时，账户余额、保证金、持仓等信息可能仍未发生变化<br>
- taker订单将根据不同成交价格进行聚合，有聚合时，count字段表示聚合的订单匹配数量，tradeId代表聚合的多笔交易中最新一笔交易的ID；maker订单不会聚合<br>
- 未来，该频道将施加连接数量限制，子账户维度，订阅成交频道的最大连接数为20个。我们建议用户始终低于限制使用该频道，以免限制上线后对策略造成影响
</aside> 
<h3 id="order-book-trading-trade-ws-place-order">WS / 下单 </h3>
<p>只有当您的账户有足够的资金才能下单。一旦下单，您的账户资金将在订单生命周期内被冻结。被冻结的资金以及数量取决于订单指定的类型和参数<br><br></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>

<aside class="notice">
同`下单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"order"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"tdMode"</span>: <span class="s2">"isolated"</span>,
        <span class="s2">"ordType"</span>: <span class="s2">"market"</span>,
        <span class="s2">"sz"</span>: <span class="s2">"100"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">支持的业务操作，如  <code>order</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br>保证金模式 <code>isolated</code>：逐仓  <code>cross</code>：全仓    <br>非保证金模式  <code>cash</code>：现金<br><code>spot_isolated</code>：现货逐仓(仅适用于现货带单) ，现货带单时，<code>tdMode</code> 的值需要指定为<code>spot_isolated</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">由用户设置的订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向，<code>buy</code>   <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓方向<br>在买卖模式下，默认 <code>net</code><br>在开平仓模式下必填，且仅可选择 <code>long</code> 或 <code>short</code>，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消 <br><code>ioc</code>：立即成交并取消剩余 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单)</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code>、<code>post_only</code>、<code>fok</code>、<code>ioc</code>、<code>mmp</code>、<code>mmp_and_post_only</code>类型的订单<br>期权下单时，px/pxUsd/pxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以USD价格进行期权下单 <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以隐含波动率进行期权下单，例如 1 代表 100% <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; banAmend</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否禁止币币市价改单，true 或 false，默认false <br>为true时，余额不足时，系统不会改单，下单会失败，仅适用于币币市价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式：<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币 <br>默认是<code>manual</code>：手动</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>自成交保护ID。来自同一个母账户配着同一个ID的订单不能自成交<br>用户自定义1&lt;=x&lt;=999999999的整数</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">自成交保护模式<br>默认为 cancel maker <br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both不支持FOK</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求有效截止时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">
tdMode<br>
交易模式，下单时需要指定<br>
<strong>现货模式：</strong><br>
- 币币和期权买方：cash<br>
<strong>现货和合约模式：</strong><br>
- 逐仓杠杆：isolated<br>
- 全仓杠杆：cross<br>
- 币币：cash<br>
- 全仓交割/永续/期权：cross<br>
- 逐仓交割/永续/期权：isolated<br>
<strong>跨币种保证金模式：</strong><br>
- 逐仓杠杆：isolated<br>
- 全仓币币：cross<br>
- 全仓交割/永续/期权：cross<br>
- 逐仓交割/永续/期权：isolated<br>
<strong>组合保证金模式：</strong><br>
- 逐仓杠杆：isolated<br>
- 全仓币币：cross<br>
- 全仓交割/永续/期权：cross<br>
- 逐仓交割/永续/期权：isolated<br>
</aside>

<aside class="notice">
clOrdId<br>
clOrdId是用户自定义的唯一ID用来识别订单。如果在请求参数中传入了，那它一定会在返回参数内，并且可以用于查询订单，撤销订单，修改订单等接口。
clOrdId不能与当前所有的挂单的clOrdId重复
</aside>

<aside class="notice">
posSide<br>
持仓方向，买卖模式下此参数非必填，如果填写仅可以选择net；在开平仓模式下必填，且仅可选择 long 或 short。<br>
开平仓模式下，side和posSide需要进行组合<br>
开多：买入开多（side 填写 buy；  posSide 填写 long ）<br>
开空：卖出开空（side 填写 sell； posSide 填写 short ）<br>
平多：卖出平多（side 填写 sell；posSide 填写 long ）<br>
平空：买入平空（side 填写 buy； posSide 填写 short ）<br>
组合保证金模式：交割和永续仅支持买卖模式
</aside>

<aside class="notice">
ordType<br>
订单类型，创建新订单时必须指定，您指定的订单类型将影响需要哪些订单参数和撮合系统如何执行您的订单，以下是有效的ordType：<br>
普通委托：<br>
limit：限价单，要求指定sz 和 px<br>
market：市价单，币币和币币杠杆，是市价委托吃单；交割合约和永续合约，是自动以最高买/最低卖价格委托，遵循限价机制；期权合约不支持市价委托；由于市价委托无法确定成交价格，为确保有足够的资产买入设定数量的交易币种，会多冻结5%的计价币资产<br>
高级委托：<br>
post_only：限价委托，在下单那一刻只做maker，如果该笔订单的任何部分会吃掉当前挂单深度，则该订单将被全部撤销。<br>
fok：限价委托，全部成交或立即取消，如果无法全部成交该笔订单，则该订单将被全部撤销。<br>
ioc：限价委托，立即成交并取消剩余，立即按照委托价格撮合成交，并取消该订单剩余未完成数量，不会在深度列表上展示委托数量。<br>
optimal_limit_ioc：市价委托，立即成交并取消剩余，仅适用于交割合约和永续合约。
</aside>

<aside class="notice">
sz<br>
交易数量，表示要购买或者出售的数量。<br>
当币币/币币杠杆以限价买入和卖出时，指交易货币数量。<br>
当币币杠杆以市价买入时，指计价货币的数量。<br>
当币币杠杆以市价卖出时，指交易货币的数量。<br>
对于币币市价单，单位由 tgtCcy 决定<br>
当交割、永续、期权买入和卖出时，指合约张数。
</aside>

<aside class="notice">
reduceOnly<br>
只减仓，下单时，此参数设置为 true 时，表示此笔订单具有减仓属性，只会减少持仓数量，不会增加新的持仓仓位<br>
对于同一杠杆产品，所有反方向挂单的币数加上当前只减仓下单数量，不能超过仓位资产；负债还完后，如果还有剩余的委托数量，不会反向开仓，而是会进行币币交易。<br>
对于同一交割/永续产品，当前只减仓下单张数，加上价格时间优先于当前只减仓下单的只减仓挂单张数总和，不能超过持仓数量<br>
仅适用于`现货和合约模式`和`跨币种保证金模式`<br>
仅适用于`币币杠杆`，以及买卖模式下的`交割/永续`<br>
注意：交割和永续合约在开平仓模式下，所有的平仓单都有只减仓逻辑，不受该字段传值的影响。
</aside>

<aside class="notice">
tgtCcy<br>
市价单委托数量`sz`的单位：仅适用于币币市价下单交易。<br>
交易货币：base_ccy<br>
计价货币：quote_ccy

<br>

您在使用交易货币买入或者计价货币卖出时，请知晓：
<br>
1.如果您输入的数量大于当前可买或者可卖的数量，系统将按照您的最大可买或者可卖数量帮您完成交易，如果您希望按照指定数量成交，那您可以尝试使用限价单，等待市场价格波动到锁定的余额可以买入或卖出您指定的数量。
<br>
2.如果您输入的数量不大于当前可买或者可卖的数量，那当市场价格波动过大时，锁定的余额可能没办法买入您输入的交易货币数量或卖出您输入的计价货币数量，为保证您的交易体验，我们基于【能买多少买多少】或者【能卖多少卖多少】的原则，更改下单的数量帮您完成交易。此外，我们将尽量多锁定一点余额来规避更改下单数量的情况。
<br>
2.1 交易币买入例子：
<br>
以市价下单 买入 10个LTC为例，用户可买为11个，此时 10 &lt; 11，挂单成功。当LTC-USDT的市价为200，用户被锁定余额为3,000 USDT，200*10 &lt; 3,000，最终成交10个LTC；
若市场波动过大，LTC-USDT的市价为400，此时400*10 &gt; 3,000，当用户被锁定的余额不够买入下单指定的交易货币数量时，系統使用用户被锁定的最大余额3,000 USDT下单买入，最终成交 3,000/400 = 7.5个 LTC。
<br>
2.2 计价币卖出例子：
<br>
以市价下单 卖出 1,000USDT为例，用户可卖为1,200USDT，1,000 &lt; 1,200，挂单成功。LTC-USDT的市价为200，用户被锁定的余额为6个LTC，最终成交5个LTC；
若市场波动过大，LTC-USDT的市价为100，100*6 &lt; 1,000，当用户被锁定的余额不够卖出下单指定的计价货币数量时，系統使用用户被锁定的最大余额6个LTC下单，最终成交 6 * 100 = 600 USDT。
</aside>

<aside class="notice">
px<br>
期权下单时，委托价格需为 tickSz 的整数倍。<br>
当不为整数倍时，取值规则以tickSz取 0.0005 为例：<br>
当委托价格对0.0005的余数大于0.00025或者委托价格小于0.0005时，向上取；<br>
当委托价格对0.0005的余数小于等于0.00025，且委托价格大于0.0005时，向下取。
</aside>

<aside class="notice">
强制自成交保护<br>
交易系统会以母账户维度实施强制自成交保护，同一母账户下所有账户，包括母账户本身和所有子账户，都无法进行自成交。订单的默认STP模式为`Cancel Maker`，用户亦可以通过下单接口的stpMode参数指定订单的STP模式。<br>
强制自成交保护不会导致延迟。<br>
有三种STP模式。STP模式始终基于taker订单中的配置。<br>
1.Cancel Maker：这是默认的STP模式，系统撤Maker订单以防止自成交。然后，taker订单会基于深度继续和下一个订单成交。<br>
2.Cancel Taker：撤Taker订单以防止自成交。如果用户的Maker订单不是深度里第一个订单，Taker订单会被部分成交，然后撤单。FOK订单会确保完全成交和自成交保护。<br>
3.Cancel Both：撤Taker和Maker订单以防止自成交。如果用户的Maker订单不是深度里第一个订单，Taker订单会被部分成交，然后Taker订单的剩余数量和第一个自我Maker订单被取消。此模式不支持FOK订单。<br>
</aside>
<h3 id="order-book-trading-trade-ws-place-multiple-orders">WS / 批量下单 </h3>
<p>批量进行下单操作，每次可批量交易不同类型的产品，最多可下单20个<br><br></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="300-2s">限速：300个/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4个/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>

<aside class="notice">
与其他限速按接口调用次数不同，该接口限速按订单的总个数限速。如果单次批量请求中只有一个元素，则算在单个`下单`限速中。
</aside>

<aside class="notice">
同`批量下单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1513"</span>,
    <span class="s2">"op"</span>: <span class="s2">"batch-orders"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"tdMode"</span>: <span class="s2">"isolated"</span>,
        <span class="s2">"ordType"</span>: <span class="s2">"market"</span>,
        <span class="s2">"sz"</span>: <span class="s2">"100"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USD-200925"</span>,
        <span class="s2">"tdMode"</span>: <span class="s2">"isolated"</span>,
        <span class="s2">"ordType"</span>: <span class="s2">"limit"</span>,
        <span class="s2">"sz"</span>: <span class="s2">"1"</span>
    <span class="o">}]</span>
<span class="o">}</span> 
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">支持的业务操作，如 <code>batch-orders</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易模式<br>保证金模式      <code>cross</code>：全仓  <code>isolated</code>：逐仓 <br>非保证金模式  <code>cash</code>：现金<br><code>spot_isolated</code>：现货逐仓(仅适用于现货带单) ，现货带单时，<code>tdMode</code> 的值需要指定为<code>spot_isolated</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户提供的订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向， <code>buy</code>  <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓方向 <br>在买卖模式下，默认 <code>net</code><br>在开平仓模式下必填，且仅可选择 <code>long</code> 或 <code>short</code>，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型 <br><code>market</code>：市价单 <br><code>limit</code>：限价单<br><code>post_only</code>：只做maker单 <br><code>fok</code>：全部成交或立即取消单 <br><code>ioc</code>：立即成交并取消剩余单 <br><code>optimal_limit_ioc</code>：市价委托立即成交并取消剩余（仅适用交割、永续）<br><code>mmp</code>：做市商保护(仅适用于组合保证金账户模式下的期权订单)<br><code>mmp_and_post_only</code>：做市商保护且只做maker单(仅适用于组合保证金账户模式下的期权订单)</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code>、<code>post_only</code>、<code>fok</code>、<code>ioc</code>、<code>mmp</code>、<code>mmp_and_post_only</code>类型的订单<br>期权下单时，px/pxUsd/pxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以USD价格进行期权下单 <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; pxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">以隐含波动率进行期权下单，例如 1 代表 100% <br>仅适用于期权 <br>期权下单时 px/pxUsd/pxVol 必填一个，且只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; banAmend</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否禁止币币市价改单，true 或 false，默认false <br>为true时，余额不足时，系统不会改单，下单会失败，仅适用于币币市价单</td>
</tr>
<tr>
<td style="text-align: left">&gt; quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式：<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币 <br>默认是<code>manual</code>：手动</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; stpId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>自成交保护ID。来自同一个母账户配着同一个ID的订单不能自成交<br>用户自定义1&lt;=x&lt;=999999999的整数</del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">&gt; stpMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">自成交保护模式<br>默认为 cancel maker <br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both不支持FOK</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求有效截止时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<blockquote>
<p>全部成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>部分成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insufficient margin"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>全部失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insufficient margin"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insufficient margin"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败或成功时的msg</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">
在组合保证金账户模式下，或者全部成功，或者全部失败。
</aside>

<aside class="notice">
clOrdId<br>
clOrdId是用户自定义的唯一ID用来识别订单。如果在请求参数中传入了，那它一定会在返回参数内，并且可以用于查询订单，撤销订单，修改订单等接口。
clOrdId不能与当前所有挂单和当前请求中的clOrdId重复。
</aside>
<h3 id="order-book-trading-trade-ws-cancel-order">WS / 撤单 </h3>
<p>撤销当前未完成订单</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4>
<aside class="notice">
同`撤单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1514"</span>,
    <span class="s2">"op"</span>: <span class="s2">"cancel-order"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>: <span class="s2">"2510789768709120"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">消息的唯一标识<br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">支持的业务操作，如 <code>cancel-order</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">订单ID<br>ordId和clOrdId必须传一个，若传两个，以 ordId 为主</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">用户提供的订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1514"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1514"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1514"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice">
撤单返回sCode等于0不能严格认为该订单已经被撤销，只表示您的撤单请求被系统服务器所接受，撤单结果以订单频道推送的状态或者查询订单状态为准<br>
</aside>
<h3 id="order-book-trading-trade-ws-cancel-multiple-orders">WS / 批量撤单 </h3>
<p>批量进行撤单操作，每次可批量撤销不同类型的产品，最多撤销20个</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="300-2s">限速：300个/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4>
<aside class="notice">
与其他限速按接口调用次数不同，该接口限速按订单的总个数限速。如果单次批量请求中只有一个元素，则算在单个`撤单`限速中。
</aside>

<aside class="notice">
同`批量撤单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1515"</span>,
    <span class="s2">"op"</span>: <span class="s2">"batch-cancel-orders"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>: <span class="s2">"2517748157541376"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"instId"</span>: <span class="s2">"LTC-USDT"</span>,
        <span class="s2">"ordId"</span>: <span class="s2">"2517748155771904"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">消息的唯一标识<br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">支持的业务操作，如  <code>batch-cancel-orders</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">订单ID<br>ordId和clOrdId必须传一个，若传两个，以ordId 为主</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">用户提供的订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>全部成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1515"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-cancel-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517748157541376"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517748155771904"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>部分成功的返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1515"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-cancel-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517748157541376"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517748155771904"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>全部失败的返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1515"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-cancel-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517748157541376"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2517748155771904"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1515"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-cancel-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-ws-amend-order">WS / 改单 </h3>
<p>修改当前未成交的订单</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="60-2s">限速：60次/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>

<aside class="notice">
同`改单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"amend-order"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>: <span class="s2">"2510789768709120"</span>,
        <span class="s2">"newSz"</span>: <span class="s2">"2"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">支持的业务操作，如 <code>amend-order</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cxlOnFail</td>
<td style="text-align: left">Boolean</td>
<td>否</td>
<td style="text-align: left">当订单修改失败时，该订单是否需要自动撤销。默认为<code>false</code><br><code>false</code>：不自动撤单<br><code>true</code>：自动撤单</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">订单ID<br>ordId和clOrdId必须传一个，若传两个，以 ordId 为主</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">用户提供的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">用户提供的reqId<br>如果提供，那在返回参数中返回reqId，方便找到相应的修改请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSz</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">请求修改的新数量，必须大于0。<code>newSz</code>和<code>newPx</code>不可同时为空。对于部分成交订单，该数量应包含已成交数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newPx</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">修改后的新价格<br>修改的新价格期权改单时，newPx/newPxUsd/newPxVol 只能填一个，且必须与下单参数保持一致，如下单用px，改单时需使用newPx</td>
</tr>
<tr>
<td style="text-align: left">&gt; newPxUsd</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">以USD价格进行期权改单 <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; newPxVol</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">以隐含波动率进行期权改单，例如 1 代表 100% <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">请求有效截止时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amend-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amend-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amend-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户提供的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户提供的reqId<br>如果用户在请求中提供reqId，则返回相应reqId</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>

<aside class="notice"> 
  <p> 
    newSz : 当修改已经部分成交的订单时，新的委托数量必须大于等于已成交数量
  </p> 
</aside>

<aside class="notice">
  <p>
修改订单返回sCode等于0不能严格认为该订单已经被修改，只表示您的修改订单请求被系统服务器所接受，改单结果以订单频道推送的状态或者查询订单状态为准<br>
  </p>
</aside>
<h3 id="order-book-trading-trade-ws-amend-multiple-orders">WS / 批量改单 </h3>
<p>批量进行改单操作，每次可批量修改不同类型的产品，最多改20个</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="300-2s">限速：300个/2s</h4><h4 id="4-2s">跟单交易带单产品的限速：4个/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4>
<p>该接口限速同时受到 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-sub-account-rate-limit">子账户限速</a> 及 <a href="https://www.okx.com/docs-v5/log_zh/#upcoming-changes-fill-ratio-based-sub-account-rate-limit">基于成交比率的子账户限速</a> 限速规则的影响。</p>

<aside class="notice">
与其他限速按接口调用次数不同，该接口限速按订单的总个数限速。如果单次批量请求中只有一个元素，则算在单个`修改订单`限速中。
</aside>

<aside class="notice">
同`批量改单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1513"</span>,
    <span class="s2">"op"</span>: <span class="s2">"batch-amend-orders"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>: <span class="s2">"12345689"</span>,
        <span class="s2">"newSz"</span>: <span class="s2">"2"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
        <span class="s2">"ordId"</span>: <span class="s2">"12344"</span>,
        <span class="s2">"newSz"</span>: <span class="s2">"2"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">支持的业务操作，如 <code>batch-amend-orders</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cxlOnFail</td>
<td style="text-align: left">Boolean</td>
<td>否</td>
<td style="text-align: left">当订单修改失败时，该订单是否需要自动撤销。默认为<code>false</code><br><code>false</code>：不自动撤单<br><code>true</code>：自动撤单</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">订单ID<br>ordId 和 clOrdId 必须传一个，若传两个，以order id 为主</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">用户提供的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">用户提供的请求ID<br>如果提供，那在返回参数中返回reqId，方便找到相应的修改请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSz</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">修改后的新数量，必须大于0。<code>newSz</code>和<code>newPx</code>不可同时为空。对于部分成交订单，该数量应包含已成交数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt; newPx</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">修改后的新价格<br>修改的新价格期权改单时，newPx/newPxUsd/newPxVol 只能填一个，且必须与下单参数保持一致，如下单用px，改单时需使用newPx</td>
</tr>
<tr>
<td style="text-align: left">&gt; newPxUsd</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">以USD价格进行期权改单 <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; newPxVol</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">以隐含波动率进行期权改单，例如 1 代表 100% <br>仅适用于期权，期权改单时，newPx/newPxUsd/newPxVol 只能填一个</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">请求有效截止时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<blockquote>
<p>全部成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-amend-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>全部失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-amend-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>部分成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-amend-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1513"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-amend-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统完成订单请求处理的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户提供的请求ID<br>如果用户在请求中提供reqId，则返回相应reqId</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关接收请求时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">WebSocket 网关发送响应时的时间戳，Unix时间戳的微秒数格式，如 <code>1597026383085123</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-trade-ws-mass-cancel-order">WS / 撤销 MMP 订单 </h3>
<p>撤销同一交易品种下用户所有的 MMP 挂单<br>
仅适用于组合保证金账户模式下的期权订单，且有 MMP 权限。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/private (需要登录)</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4>
<aside class="notice">
同`撤销 MMP 订单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"mass-cancel"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"instType"</span>:<span class="s2">"OPTION"</span>,
        <span class="s2">"instFamily"</span>:<span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">支持的业务操作，如  <code>mass-cancel</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易产品类型<br><code>OPTION</code>:期权</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; lockInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">锁定时长(毫秒)<br> 范围应为[0, 10 000]<br> 默认为 0. 如果想要立即解锁，您可以设置为 "0"<br> 下单时，如果在该锁定期间，会报错 54008，如果在 MMP 触发期间，会报错 51034</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mass-cancel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mass-cancel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">撤单结果<br><code>true</code>：全部撤单成功<br><code>false</code>：全部撤单失败</td>
</tr>
</tbody></table>
<h2 id="order-book-trading-algo-trading">策略交易 </h2><h3 id="order-book-trading-algo-trading-post-place-algo-order">POST / 策略委托下单 </h3>
<p>提供单向止盈止损委托、双向止盈止损委托、追逐限价委托、计划委托、时间加权委托、移动止盈止损委托</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="1-2s">跟单交易带单产品的限速：1次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 止盈止损策略下单</span>
POST /api/v5/trade/order-algo
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"tdMode"</span>:<span class="s2">"cross"</span>,
    <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
    <span class="s2">"ordType"</span>:<span class="s2">"conditional"</span>,
    <span class="s2">"sz"</span>:<span class="s2">"2"</span>,
    <span class="s2">"tpTriggerPx"</span>:<span class="s2">"15"</span>,
    <span class="s2">"tpOrdPx"</span>:<span class="s2">"18"</span>
<span class="o">}</span>

<span class="c"># 计划委托策略下单</span>
POST /api/v5/trade/order-algo
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
    <span class="s2">"tdMode"</span>: <span class="s2">"cross"</span>,
    <span class="s2">"posSide"</span>: <span class="s2">"net"</span>,
    <span class="s2">"sz"</span>: <span class="s2">"1"</span>,
    <span class="s2">"ordType"</span>: <span class="s2">"trigger"</span>,
    <span class="s2">"triggerPx"</span>: <span class="s2">"25920"</span>,
    <span class="s2">"triggerPxType"</span>: <span class="s2">"last"</span>,
    <span class="s2">"orderPx"</span>: <span class="s2">"-1"</span>,
    <span class="s2">"attachAlgoOrds"</span>: <span class="o">[{</span>
        <span class="s2">"attachAlgoClOrdId"</span>: <span class="s2">""</span>,
        <span class="s2">"slTriggerPx"</span>: <span class="s2">"100"</span>,
        <span class="s2">"slOrdPx"</span>: <span class="s2">"600"</span>,
        <span class="s2">"tpTriggerPx"</span>: <span class="s2">"25921"</span>,
        <span class="s2">"tpOrdPx"</span>: <span class="s2">"2001"</span>
    <span class="o">}]</span>
<span class="o">}</span>

<span class="c"># 移动止盈止损策略下单</span>
POST /api/v5/trade/order-algo
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"tdMode"</span>: <span class="s2">"cross"</span>,
    <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
    <span class="s2">"ordType"</span>: <span class="s2">"move_order_stop"</span>,
    <span class="s2">"sz"</span>: <span class="s2">"10"</span>,
    <span class="s2">"posSide"</span>: <span class="s2">"net"</span>,
    <span class="s2">"callbackRatio"</span>: <span class="s2">"0.05"</span>,
    <span class="s2">"reduceOnly"</span>: <span class="nb">true</span>
<span class="o">}</span>

<span class="c"># 时间加权策略下单</span>
POST /api/v5/trade/order-algo
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"tdMode"</span>: <span class="s2">"cross"</span>,
    <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
    <span class="s2">"ordType"</span>: <span class="s2">"twap"</span>,
    <span class="s2">"sz"</span>: <span class="s2">"10"</span>,
    <span class="s2">"posSide"</span>: <span class="s2">"net"</span>,
    <span class="s2">"szLimit"</span>: <span class="s2">"10"</span>,
    <span class="s2">"pxLimit"</span>: <span class="s2">"100"</span>,
    <span class="s2">"timeInterval"</span>: <span class="s2">"10"</span>,
    <span class="s2">"pxSpread"</span>: <span class="s2">"10"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 单向止盈止损
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">place_algo_order</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">tdMode</span><span class="o">=</span><span class="s">"cross"</span><span class="p">,</span>
    <span class="n">side</span><span class="o">=</span><span class="s">"buy"</span><span class="p">,</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"conditional"</span><span class="p">,</span>
    <span class="n">sz</span><span class="o">=</span><span class="s">"2"</span><span class="p">,</span>
    <span class="n">tpTriggerPx</span><span class="o">=</span><span class="s">"15"</span><span class="p">,</span>
    <span class="n">tpOrdPx</span><span class="o">=</span><span class="s">"18"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br>保证金模式 <code>isolated</code>：逐仓，<code>cross：</code>全仓<br>非保证金模式 <code>cash</code>：非保证金<br><code>spot_isolated</code>：现货逐仓(仅适用于现货带单)</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种<br>仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向<br><code>buy</code>：买<br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">持仓方向<br>在开平仓模式下必填，且仅可选择 <code>long</code> 或 <code>short</code></td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型<br><code>conditional</code>：单向止盈止损<br><code>oco</code>：双向止盈止损<br><br><code>chase</code>: 追逐限价委托，仅适用于交割和永续<br><code>trigger</code>：计划委托<br><code>move_order_stop</code>：移动止盈止损<br><code>twap</code>：时间加权委托</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托数量<br><code>sz</code>和<code>closeFraction</code>必填且只能填其一</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">委托数量的类型<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>单向止盈止损市价买单<br>默认买为<code>计价货币</code>，卖为<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义策略订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">closeFraction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">策略委托触发时，平仓的百分比。1 代表100%<br>现在系统只支持全部平仓，唯一接受参数为<code>1</code><br>对于同一个仓位，仅支持一笔全部平仓的止盈止损挂单<br><br>仅适用于<code>交割</code>或<code>永续</code><br>当<code>posSide</code> = <code>net</code>时，<code>reduceOnly</code>必须为<code>true</code><br>仅适用于止盈止损 <code>ordType</code> = <code>conditional</code> 或 <code>oco</code><br>仅适用于止盈止损市价订单<br>不支持组合保证金模式<br><code>sz</code>和<code>closeFraction</code>必填且只能填其一</td>
</tr>
</tbody></table>

<p><b>止盈止损</b></p>

<aside class="notice">
用户可预先设置触发价和委托价，等市场价到达触发价时，系统会按委托价自动下单。<br>单向止盈止损可设置单边的止盈或止损；双向止盈止损可设置双边，一边触发后另一边失效。<br>该委托不会预先占用仓位或保证金。
</aside>

<p>了解更多 <a href="https://www.okx.com/cn/help/11015447687437">止盈止损</a></p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code> <br>委托价格为-1时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">tpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈订单类型<br><code>condition</code>: 条件单<br><code>limit</code>: 限价单<br> 默认为<code>condition</code></td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code> <br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">cxlOnClosePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">决定用户所下的止盈止损订单是否与该交易产品对应的仓位关联。若关联，仓位被全平时，该止盈止损订单会被同时撤销；若不关联，仓位被撤销时，该止盈止损订单不受影响。 <br><br>有效值： <br><code>true</code>：下单与仓位关联的止盈止损订单 <br><code>false</code>：下单与仓位不关联的止盈止损订单 <br><br>默认值为<code>false</code>。若传入<code>true</code>，用户必须同时传入 reduceOnly = true，说明当下单与仓位关联的止盈止损订单时，必须为只减仓。 <br><br>适用于<code>现货和合约模式</code>、<code>跨币种保证金模式</code>。</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币<br>默认是<code>manual</code>：手动</del>（已弃用）</td>
</tr>
</tbody></table>

<aside class="notice">
止盈止损<br>
当用户进行单向止盈止损委托（ordType=conditional）时，如果用户同时传了止盈止损四个参数，只进行止损的功能校验，忽略止盈的业务逻辑校验。
</aside>

<p><b>追逐限价委托</b></p>

<aside class="notice">
追逐限价委托会立即下 Post Only 订单（只做maker单）并跟随深度变动进行改单。<br>
追逐限价委托和对应的 Post Only 订单不支持改单。
</aside>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">chaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">追逐类型。<br><code>distance</code>: 买一/卖一价的距离，默认值。<br><code>ratio</code>: 比例。</td>
</tr>
<tr>
<td style="text-align: left">chaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">追逐值。<br>当<code>chaseType</code>为<code>distance</code>时，是到买一/卖一价的距离。<br>对于 USDT 本位合约，单位为 USDT；<br>对于 USDC 合约，单位为 USDC；<br>对于币本位合约，单位为 USD 。<br>当<code>chaseType</code>为<code>ratio</code>时，为比率，0.1 代表 10%。<br> 默认值为 0。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">最大追逐值的类型。<br><code>distance</code>: 买一/卖一价的距离<br><code>ratio</code>: 比例。0.1 代表 10%。<br><br> maxChaseTyep 和 maxChaseVal 需要同时填写或者不填写。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">最大追逐值。<br>当<code>chaseType</code>为<code>distance</code>时，是到买一/卖一价的的最大距离<br>当<code>chaseType</code>为<code>ratio</code>时，指的比率，0.1 代表 10%。</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>币币杠杆</code>，以及买卖模式下的<code>交割/永续</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
</tbody></table>

<p><b>计划委托</b></p>

<aside class="notice">
当市场价格到达触发价格时，系统将按预先设置的委托价格和数量自动下单。<br>该委托不会预先占用仓位或保证金。<br>
仅适用于币币、交割和永续。
</aside>

<p>了解更多 <a href="https://www.okx.com/cn/help/11015447687437">计划委托</a></p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">计划委托触发价格</td>
</tr>
<tr>
<td style="text-align: left">orderPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托价格 <br>委托价格为<code>-1</code>时，执行市价委托</td>
</tr>
<tr>
<td style="text-align: left">triggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">计划委托触发价格类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币<br>默认是<code>manual</code></del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">附带止盈止损信息<br>适用于<code>现货和合约模式/跨币种保证金模式/组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给algoClOrdId。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code><br>委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code><br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
</tbody></table>

<p><b>移动止盈止损</b></p>

<aside class="notice">
移动止盈止损是一种跟踪市场价格的止盈止损，它的触发价格会跟随市场波动而变化，触发成功后会下市价单。<br>
实际触发价格的计算：卖出或开空时，实际触发价格 = 下单成功后最高价-回调幅度 (价距)，或下单成功后最高价 *(1-回调幅度 %) (比例)；买入或开多，实际触发价格 = 下单成功后最低价 + 回调幅度，或下单成功后最低价 *(1+ 回调幅度 %)。同时，您可以利用激活价格来设置委托被激活的价格。
</aside>

<p>了解更多 <a href="https://www.okx.com/cn/help/11015447687437">移动止盈止损</a></p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">callbackRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">回调幅度的比例，如 "0.05"代表"5%"<br><code>callbackRatio</code>和<code>callbackSpread</code>只能传入一个</td>
</tr>
<tr>
<td style="text-align: left">callbackSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">回调幅度的价距</td>
</tr>
<tr>
<td style="text-align: left">activePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">激活价格<br>激活价格是移动止盈止损的激活条件，当市场最新成交价达到或超过激活价格，委托被激活。激活后系统开始计算止盈止损的实际触发价格。如果不填写激活价格，即下单后就被激活。</td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>一键借币类型，仅适用于杠杆逐仓的一键借币模式：<br><code>manual</code>：手动<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币<br>默认是<code>manual</code></del>（已弃用）</td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>该参数仅在 <code>交割/永续</code> 的买卖模式下有效，开平模式忽略此参数</td>
</tr>
</tbody></table>

<p><b>时间加权</b></p>

<aside class="notice">
时间加权是一种大额订单拆分后分时吃单的策略。<br>
用户在进行大额交易时，为避免对市场造成过大冲击，需要将大单委托自动拆为多笔委托。
</aside>

<p>了解更多 <a href="https://www.okx.com/cn/help/xiii-time-weighted-average-price-twap">时间加权委托</a></p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">pxVar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">吃单价优于盘口的比例，取值范围在 [0.0001,0.01] 之间，如 "0.01"代表"1%"<br>以买入为例，市价低于限制价时，策略开始用买一价向上取一定比例的委托价来委托小额买单。当前这个参数就用来确定向上的比例。<br><code>pxVar</code>和<code>pxSpread</code>只能传入一个</td>
</tr>
<tr>
<td style="text-align: left">pxSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">吃单单价优于盘口的价距，取值范围不小于0（无上限）<br>以买入为例，市价低于限制价时，策略开始用买一价向上取一定价距的委托价来委托小额买单。当前这个参数就用来确定向上的价距。</td>
</tr>
<tr>
<td style="text-align: left">szLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">单笔数量<br>以买入为例，市价低于 “限制价” 时，策略开始用买一价向上取一定价距 / 比例的委托价来委托 “一定数量” 的买单。当前这个参数用来确定其中的 “一定数量”。</td>
</tr>
<tr>
<td style="text-align: left">pxLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">吃单限制价，取值范围不小于0（无上限）<br>以买入为例，市价低于 “限制价” 时，策略开始用买一价向上取一定价距 / 比例的委托价来委托小额买单。当前这个参数就是其中的 “限制价”。</td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">下单间隔，单位为秒。<br>以买入为例，市价低于 “限制价” 时，策略开始按 “时间周期” 用买一价向上取一定价距 / 比例的委托价来委托小额买单。当前这个参数就是其中的 “时间周期”。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>客户自定义订单ID</del>（已废弃）</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-post-cancel-algo-order">POST / 撤销策略委托订单 </h3>
<p>撤销策略委托订单，每次最多可以撤销10个策略委托单</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/cancel-algos</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/cancel-algos
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"590919993110396111"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"590920138287841222"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>
<span class="o">]</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 支持止盈止损，计划委托 类型的策略撤单
</span><span class="n">algo_orders</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"algoId"</span><span class="p">:</span> <span class="s">"590919993110396111"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"algoId"</span><span class="p">:</span> <span class="s">"590920138287841222"</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">cancel_algo_order</span><span class="p">(</span><span class="n">algo_orders</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID 如 <code>BTC-USDT</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1836489397437468672"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>客户自定义订单ID</del>（已废弃）</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>客户自定义策略订单ID</del>（已废弃）</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>订单标签</del>（已废弃）</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-post-amend-algo-order">POST / 修改策略委托订单 </h3>
<p>修改策略委托订单（仅支持止盈止损和计划委托订单，不包含、冰山委托、时间加权、移动止盈止损等订单）<br></p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-instrument-id">限速规则：UserID + Instrument ID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/amend-algos</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/amend-algos
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"2510789768709120"</span>,
    <span class="s2">"newSz"</span>:<span class="s2">"2"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">策略委托单ID<br><code>algoId</code>和<code>algoClOrdId</code>必须传一个，若传两个，以<code>algoId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">客户自定义策略订单ID<br><code>algoId</code>和<code>algoClOrdId</code>必须传一个，若传两个，以<code>algoId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">cxlOnFail</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">当订单修改失败时，该订单是否需要自动撤销。默认为<code>false</code><br><code>false</code>：不自动撤单<br><code>true</code>：自动撤单</td>
</tr>
<tr>
<td style="text-align: left">reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义修改事件ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间</td>
</tr>
<tr>
<td style="text-align: left">newSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">修改的新数量，必须大于0。</td>
</tr>
</tbody></table>

<p><b>止盈止损</b></p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">newTpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价<br>如果止盈触发价或者委托价为0，那代表删除止盈</td>
</tr>
<tr>
<td style="text-align: left">newTpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈委托价<br>委托价格为-1时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">newSlTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价<br>如果止损触发价或者委托价为0，那代表删除止损</td>
</tr>
<tr>
<td style="text-align: left">newSlOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损委托价<br>委托价格为-1时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">newTpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">newSlTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
</tbody></table>

<p><b>计划委托</b></p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">newTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">修改后的触发价格</td>
</tr>
<tr>
<td style="text-align: left">newOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">修改后的委托价格 <br>委托价格为<code>-1</code>时，执行市价委托</td>
</tr>
<tr>
<td style="text-align: left">newTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">修改后的计划委托触发价格类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">修改附带止盈止损信息<br>适用于<code>现货和合约模式/跨币种保证金模式/组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">修改后的止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code><br>委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为<code>last</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code><br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="s2">"algo_01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reqId"</span><span class="p">:</span><span class="s2">"po103ux"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义修改事件ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-post-cancel-advance-algo-order">POST / 撤销高级策略委托订单 </h3>
<p>该接口即将下线，建议使用 <a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-cancel-algo-order">撤销策略委托订单</a><br>
撤销、时间加权、移动止盈止损委托订单，每次最多可以撤销10个策略委托单</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-instrument-id">限速规则（期权以外）：UserID + Instrument ID</h4><h4 id="userid-instrument-family">限速规则（只限期权）：UserID + Instrument Family</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/trade/cancel-advance-algos</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/trade/cancel-advance-algos
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"590920768125665111"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"590920799650058222"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
    <span class="o">}</span>
<span class="o">]</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 支持 冰山委托，时间加权委托，移动止盈止损 类型的策略撤单
</span><span class="n">algo_orders_advance</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"algoId"</span><span class="p">:</span> <span class="s">"590920768125665111"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT"</span><span class="p">,</span> <span class="s">"algoId"</span><span class="p">:</span> <span class="s">"590920799650058222"</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">cancel_advance_algos</span><span class="p">(</span><span class="n">algo_orders_advance</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID 如 <code>BTC-USDT</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-get-algo-order-details">GET / 获取策略委托单信息 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/order-algo?algoId<span class="o">=</span>1753184812254216192
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">策略委托单ID<br><code>algoId</code>和<code>algoClOrdId</code>必须传一个，若传两个，以<code>algoId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">客户自定义策略订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"activePx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1753184812254216192"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amendPxOnTriggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724751378980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackSpread"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chaseVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTradeBorrowMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62916.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"maxChaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxChaseVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"moveTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"ordPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conditional"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxSpread"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVar"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724751378980"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔订单ID，即将废弃。</td>
</tr>
<tr>
<td style="text-align: left">ordIdList</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订单ID列表，当止盈止损存在市价拆单时，会有多个。</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">closeFraction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时，平仓的百分比。1 代表100%</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>live</code>：待生效<br><code>pause</code>：暂停生效 <br><code>partially_effective</code>:部分生效<br><code>effective</code>：已生效<br><code>canceled</code>：已撤销 <br><code>order_failed</code>：委托失败 <br><code>partially_failed</code>：部分委托失败</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托触发价格</td>
</tr>
<tr>
<td style="text-align: left">triggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托触发价格类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">ordPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的委托价格</td>
</tr>
<tr>
<td style="text-align: left">actualSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托量</td>
</tr>
<tr>
<td style="text-align: left">actualPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托价</td>
</tr>
<tr>
<td style="text-align: left">actualSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际触发方向<br><code>tp</code>：止盈<br><code>sl</code>：止损<br>仅适用于<code>单向止盈止损委托</code>和<code>双向止盈止损委托</code></td>
</tr>
<tr>
<td style="text-align: left">triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">pxVar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格比例<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">pxSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价距<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">szLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔数量<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">pxLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单限制价<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单间隔<br>仅适用于<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">callbackRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的比例<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">callbackSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的价距<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">activePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损激活价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">moveTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损触发价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓<br><code>true</code>或<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单时的最新成交价</td>
</tr>
<tr>
<td style="text-align: left">failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代表策略触发失败的原因，已撤销和已生效时为""，委托失败时有值，如 51008；<br>仅适用于单向止盈止损委托、双向止盈止损委托、移动止盈止损委托、计划委托。</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损<br>仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">附带止盈止损信息<br>适用于<code>现货和合约模式/跨币种保证金模式/组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给algoClOrdId。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code><br>委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code><br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">linkedOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止盈订单信息，仅适用于止损单，且该止损订单来自包含限价止盈单的双向止盈止损订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">isTradeBorrowMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否自动借币<br> true：自动借币<br> false：不自动借币<br>仅适用于计划委托、移动止盈止损和 时间加权策略</td>
</tr>
<tr>
<td style="text-align: left">chaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">chaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值的类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-get-algo-order-list">GET / 获取未完成策略委托单列表 </h3>
<p>获取当前账户下未触发的策略委托单列表</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/orders-algo-pending</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/orders-algo-pending?ordType<span class="o">=</span>conditional

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询所有未触发的单向止盈止损策略订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">order_algos_list</span><span class="p">(</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"conditional"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>MARGIN</code>：杠杆</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型<br><code>conditional</code>：单向止盈止损<br><code>oco</code>：双向止盈止损 <br><code>chase</code>: 追逐限价委托，仅适用于交割和永续<br><code>trigger</code>：计划委托<br><code>move_order_stop</code>：移动止盈止损<br><code>twap</code>：时间加权委托<br>支持 <code>conditional</code> 和 <code>oco</code> 同时查询，半角逗号分隔，对于其他类型，一次请求仅支持查询一个</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义策略订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"activePx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1753184812254216192"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amendPxOnTriggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724751378980"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackSpread"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chaseVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTradeBorrowMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62916.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"maxChaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxChaseVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"moveTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"ordPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conditional"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxSpread"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVar"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1724751378980"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔订单ID，即将废弃。</td>
</tr>
<tr>
<td style="text-align: left">ordIdList</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订单ID列表，当止盈止损存在市价拆单时，会有多个。</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">closeFraction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时，平仓的百分比。1 代表100%</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>：交易货币<br><code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>live</code>：待生效<br><code>pause</code>：暂停生效</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值<br>仅适用于 <code>币币杠杆</code>/<code>交割</code>/<code>永续</code></td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托触发价格</td>
</tr>
<tr>
<td style="text-align: left">triggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">ordPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的委托价格</td>
</tr>
<tr>
<td style="text-align: left">actualSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托量</td>
</tr>
<tr>
<td style="text-align: left">actualPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托价</td>
</tr>
<tr>
<td style="text-align: left">actualSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际触发方向<br><code>tp</code>：止盈<br><code>sl</code>：止损<br>仅适用于<code>单向止盈止损委托</code>和<code>双向止盈止损委托</code></td>
</tr>
<tr>
<td style="text-align: left">triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">pxVar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格比例<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">pxSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价距<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">szLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔数量<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">pxLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单限制价<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单间隔<br>仅适用于<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">callbackRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的比例<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">callbackSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的价距<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">activePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损激活价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">moveTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损触发价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓<br><code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动<br><code>auto_borrow</code>：自动借币<br><code>auto_repay</code>：自动还币</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单时的最新成交价</td>
</tr>
<tr>
<td style="text-align: left">failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代表策略触发失败的原因，委托失败时有值，如 51008，对于该接口一直为""。</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值<br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">附带止盈止损信息<br>适用于<code>现货和合约模式/跨币种保证金模式/组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给algoClOrdId。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code><br>委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code><br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">linkedOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止盈订单信息，仅适用于止损单，且该止损订单来自包含限价止盈单的双向止盈止损订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">isTradeBorrowMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否自动借币<br> true：自动借币<br> false：不自动借币<br>仅适用于计划委托、移动止盈止损和 时间加权策略</td>
</tr>
<tr>
<td style="text-align: left">chaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">chaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值的类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-get-algo-order-history">GET / 获取历史策略委托单列表 </h3>
<p>获取最近3个月当前账户下所有策略委托单列表</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/trade/orders-algo-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/trade/orders-algo-history?ordType<span class="o">=</span>conditional&amp;state<span class="o">=</span>effective
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询 单向止盈止损 历史订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">order_algos_history</span><span class="p">(</span>
    <span class="n">state</span><span class="o">=</span><span class="s">"effective"</span><span class="p">,</span>
    <span class="n">ordType</span><span class="o">=</span><span class="s">"conditional"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型<br><code>conditional</code>：单向止盈止损<br><code>oco</code>：双向止盈止损<br><code>chase</code>: 追逐限价委托，仅适用于交割和永续<br><code>trigger</code>：计划委托<br><code>move_order_stop</code>：移动止盈止损<br><code>twap</code>：时间加权委托<br>支持 <code>conditional</code> 和 <code>oco</code> 同时查询，半角逗号分隔，对于其他类型，一次请求仅支持查询一个</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">订单状态<br><code>effective</code>：已生效<br><code>canceled</code>：已经撤销<br><code>order_failed</code>：委托失败<br><code>state</code>和<code>algoId</code>必填且只能填其一</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>MARGIN</code>：杠杆</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"activePx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tp"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1880721064716505088"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amendPxOnTriggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1728552255493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackSpread"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chaseVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTradeBorrowMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60777.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"linkedOrd"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"maxChaseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxChaseVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"moveTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1884789786215137280"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"1884789786215137280"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"ordPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oco"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxSpread"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVar"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"effective"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1728673513447"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1728673513447"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的全仓杠杆订单</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔订单ID，即将废弃。</td>
</tr>
<tr>
<td style="text-align: left">ordIdList</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订单ID列表，当止盈止损存在市价拆单时，会有多个。</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">closeFraction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时，平仓的百分比。1 代表100%</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式</td>
</tr>
<tr>
<td style="text-align: left">tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>effective</code>：已生效<br><code>canceled</code>：已撤销 <br><code>order_failed</code>：委托失败 <br><code>partially_failed</code>：部分委托失败</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值<br>仅适用于 <code>币币杠杆</code>/<code>交割</code>/永续`</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价</td>
</tr>
<tr>
<td style="text-align: left">triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托触发价格</td>
</tr>
<tr>
<td style="text-align: left">triggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托委托价格类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">ordPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托委托价格</td>
</tr>
<tr>
<td style="text-align: left">actualSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托量</td>
</tr>
<tr>
<td style="text-align: left">actualPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托价</td>
</tr>
<tr>
<td style="text-align: left">actualSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际触发方向<br><code>tp</code>：止盈<br><code>sl</code>：止损<br>仅适用于<code>单向止盈止损委托</code>和<code>双向止盈止损委托</code></td>
</tr>
<tr>
<td style="text-align: left">triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">pxVar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格比例<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">pxSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价距<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">szLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔数量<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">pxLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单限制价<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单间隔<br>仅适用于<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">callbackRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的比例<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">callbackSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的价距<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">activePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损激活价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">moveTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损触发价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓<br><code>true</code>或<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">quickMgnType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">一键借币类型，仅适用于杠杆逐仓的一键借币模式<br><code>manual</code>：手动，<code>auto_borrow</code>：自动借币，<code>auto_repay</code>：自动还币</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单时的最新成交价</td>
</tr>
<tr>
<td style="text-align: left">failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代表策略触发失败的原因，已撤销和已生效时为""，委托失败时有值，如 51008；<br>仅适用于单向止盈止损委托、双向止盈止损委托、移动止盈止损委托、计划委托。</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">附带止盈止损信息<br>适用于<code>现货和合约模式/跨币种保证金模式/组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给algoClOrdId。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code><br>委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code><br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">linkedOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止盈订单信息，仅适用于止损单，且该止损订单来自包含限价止盈单的双向止盈止损订单</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">isTradeBorrowMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否自动借币<br> true：自动借币<br> false：不自动借币<br>仅适用于计划委托、移动止盈止损和 时间加权策略</td>
</tr>
<tr>
<td style="text-align: left">chaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">chaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值的类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">maxChaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-ws-algo-orders-channel">WS / 策略委托订单频道 </h3>
<p>获取策略委托订单，首次订阅不推送，只有当下单、撤单等事件触发时，推送数据</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"orders-algo"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USD-200329"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"orders-algo"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>orders-algo</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders-algo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200329"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders-algo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">orders-algo</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders-algo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200329"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"actualPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"actualSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"actualSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"581878926302093312"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"attachAlgoOrds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"amendResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1685002746818"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1708679675245"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closeFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"failCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26174.8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"ordPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conditional"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quickMgnType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tpTriggerPxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"last"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amendPxOnTriggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"linkedOrd"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"98192973880283"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"isTradeBorrowMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅<code>现货和合约模式</code>下的全仓币币杠杆需要选择保证金币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新一笔订单ID，与策略委托订单关联的订单ID，即将废弃。</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordIdList</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订单ID列表，当止盈止损存在市价拆单时，会有多个。</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量，<code>币币/币币杠杆</code> 以币为单位；<code>交割/永续/期权</code> 以张为单位</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型<br><code>conditional</code>：单向止盈止损 <br><code>oco</code>：双向止盈止损<br><code>trigger</code>：计划委托</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向，<code>buy</code>  <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式<br>保证金模式      <code>cross</code>：全仓  <code>isolated</code>：逐仓 <br>非保证金模式  <code>cash</code>：现金</td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>：交易货币<br><code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态 <br><code>live</code>：待生效<br><code>effective</code>：已生效<br><code>canceled</code>：已撤销<br><code>order_failed</code>：委托失败<br><code>partially_failed</code>：部分委托失败<br><code>partially_effective</code>: 部分生效</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的触发价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的委托价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单时的最新成交价</td>
</tr>
<tr>
<td style="text-align: left">&gt; actualSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托量</td>
</tr>
<tr>
<td style="text-align: left">&gt; actualPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托单预估美元价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; actualSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际触发方向<br><code>sl</code>：止损<br><code>tp</code>：止盈<br>仅适用于<code>单向止盈止损委托</code>和<code>双向止盈止损委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代表策略触发失败的原因，已撤销和已生效时为""，委托失败时有值，如 51008；<br>仅适用于单向止盈止损委托、双向止盈止损委托、移动止盈止损委托、计划委托。</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">修改订单时使用的request ID，如果没有修改，该字段为""</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendResult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">修改订单的结果<br><code>-1</code>：失败<br><code>0</code>：成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否启用开仓价止损，仅适用于分批止盈的止损订单<br><code>0</code>：不开启，默认值 <br><code>1</code>：开启</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoOrds</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">附带止盈止损信息<br>适用于<code>现货和合约模式/跨币种保证金模式/组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单附带止盈止损时，客户自定义的策略订单ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>订单完全成交，下止盈止损委托单时，该值会传给algoClOrdId。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价，如果填写此参数，必须填写<code>止盈委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，如果填写此参数，必须填写<code>止盈触发价</code><br>委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价，如果填写此参数，必须填写<code>止损委托价</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价，如果填写此参数，必须填写<code>止损触发价</code><br>委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; linkedOrd</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">止盈订单信息，仅适用于止损单，且该止损订单来自包含限价止盈单的双向止盈止损订单</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单 ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">&gt; isTradeBorrowMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否自动借币<br> true：自动借币<br> false：不自动借币<br>仅适用于计划委托、移动止盈止损和 时间加权策略</td>
</tr>
<tr>
<td style="text-align: left">&gt; chaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; chaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxChaseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值的类型。仅适用于<code>追逐限价委托</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxChaseVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大追逐值。仅适用于<code>追逐限价委托</code>。</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-algo-trading-ws-advance-algo-orders-channel">WS / 高级策略委托订单频道 </h3>
<p>获取高级策略委托订单（冰山、时间加权、移动止盈止损），首次订阅推送，当下单、撤单等事件触发时，推送数据</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"algo-advance"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"SPOT"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"algo-advance"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"SPOT"</span>,
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>algo-advance</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo-advance"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo-advance"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">algo-advance</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"algo-advance"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"actualPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSide"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualSz"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"355056228680335360"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1630924001545"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"count"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="s2">"iceberg"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pTime"</span><span class="p">:</span><span class="s2">"1630924295204"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxLimit"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxSpread"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pxVar"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"pause"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szLimit"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adadadadad"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackRatio"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackSpread"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"activePx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"moveTriggerPx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"failCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isTradeBorrowMode"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅<code>现货和合约模式</code>下的全仓币币杠杆需要选择保证金币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID，与策略委托订单关联的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量，<code>币币/币币杠杆</code> 以币为单位；<code>交割/永续/期权</code> 以张为单位</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单类型<br><code>iceberg</code>：冰山委托<br><code>twap</code>：时间加权委托<br><code>move_order_stop</code>：移动止盈止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向，<code>buy</code>  <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式<br>保证金模式      <code>cross</code>：全仓  <code>isolated</code>：逐仓 <br>非保证金模式  <code>cash</code>：现金</td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币币市价单委托数量<code>sz</code>的单位<br><code>base_ccy</code>: 交易货币 ；<code>quote_ccy</code>：计价货币<br>仅适用于<code>币币</code>市价订单<br>默认买单为<code>quote_ccy</code>，卖单为<code>base_ccy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数，0.01到125之间的数值，仅适用于 <code>币币杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>live</code>：待生效<br><code>effective</code>：已生效<br><code>partially_effective</code>：部分生效<br><code>canceled</code>：已撤销<br><code>order_failed</code>：委托失败<br><code>pause</code>: 暂停生效</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，委托价格为<code>-1</code>时，执行市价止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价委托价格为<code>-1</code>时，执行市价止损</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的触发价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托单的委托价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; actualSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委托量</td>
</tr>
<tr>
<td style="text-align: left">&gt; actualPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际委价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托单预估美元价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; actualSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际触发方向，<code>sl</code>：止损  <code>tp</code>：止盈</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略委托触发时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pxVar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格比例<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pxSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价距<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; szLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔数量<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pxLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单限制价<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单间隔<br>仅适用于<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; count</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单计数<br>仅适用于<code>冰山委托</code>和<code>时间加权委托</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; callbackRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的比例<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; callbackSpread</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回调幅度的价距<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; activePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损激活价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; failCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代表策略触发失败的原因，已撤销和已生效时为""，委托失败时有值，如 51008；<br>仅适用于单向止盈止损委托、双向止盈止损委托、移动止盈止损委托、计划委托。</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; moveTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">移动止盈止损触发价格<br>仅适用于<code>移动止盈止损</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reduceOnly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单信息的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; isTradeBorrowMode</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否自动借币<br> true：自动借币<br> false：不自动借币<br>仅适用于计划委托、移动止盈止损和 时间加权策略</td>
</tr>
</tbody></table>
<h2 id="order-book-trading-grid-trading">网格交易 </h2>
<p>网格是一种在指定价格区间自动进行低买高卖的交易策略。用户设定参数后，系统分割小网格自动挂单，随着市场波动，策略低买高卖赚取波段收益。<br>
<code>网格交易</code>功能模块下的API接口需要身份验证。</p>
<h3 id="order-book-trading-grid-trading-post-place-grid-algo-order">POST / 网格策略委托下单 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-instrument-id">限速规则：UserID + Instrument ID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 现货网格下单</span>
POST /api/v5/tradingBot/grid/order-algo
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>,
    <span class="s2">"algoOrdType"</span>: <span class="s2">"grid"</span>,
    <span class="s2">"maxPx"</span>: <span class="s2">"5000"</span>,
    <span class="s2">"minPx"</span>: <span class="s2">"400"</span>,
    <span class="s2">"gridNum"</span>: <span class="s2">"10"</span>,
    <span class="s2">"runType"</span>: <span class="s2">"1"</span>,
    <span class="s2">"quoteSz"</span>: <span class="s2">"25"</span>,
    <span class="s2">"triggerParams"</span>:[
      <span class="o">{</span>
         <span class="s2">"triggerAction"</span>:<span class="s2">"stop"</span>,
         <span class="s2">"triggerStrategy"</span>:<span class="s2">"price"</span>,  
         <span class="s2">"triggerPx"</span>:<span class="s2">"1000"</span>
      <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

<span class="c"># 合约网格下单</span>
POST /api/v5/tradingBot/grid/order-algo
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"algoOrdType"</span>: <span class="s2">"contract_grid"</span>,
    <span class="s2">"maxPx"</span>: <span class="s2">"5000"</span>,
    <span class="s2">"minPx"</span>: <span class="s2">"400"</span>,
    <span class="s2">"gridNum"</span>: <span class="s2">"10"</span>,
    <span class="s2">"runType"</span>: <span class="s2">"1"</span>,
    <span class="s2">"sz"</span>: <span class="s2">"200"</span>, 
    <span class="s2">"direction"</span>: <span class="s2">"long"</span>,
    <span class="s2">"lever"</span>: <span class="s2">"2"</span>,
    <span class="s2">"triggerParams"</span>:[
      <span class="o">{</span>
         <span class="s2">"triggerAction"</span>:<span class="s2">"start"</span>, 
         <span class="s2">"triggerStrategy"</span>:<span class="s2">"rsi"</span>, 
         <span class="s2">"timeframe"</span>:<span class="s2">"30m"</span>,
         <span class="s2">"thold"</span>:<span class="s2">"10"</span>,
         <span class="s2">"triggerCond"</span>:<span class="s2">"cross"</span>,
         <span class="s2">"timePeriod"</span>:<span class="s2">"14"</span>
      <span class="o">}</span>,
      <span class="o">{</span>
         <span class="s2">"triggerAction"</span>:<span class="s2">"stop"</span>,
         <span class="s2">"triggerStrategy"</span>:<span class="s2">"price"</span>,
         <span class="s2">"triggerPx"</span>:<span class="s2">"1000"</span>,
         <span class="s2">"stopType"</span>:<span class="s2">"2"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比<br>默认为等差</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价<br>适用于<code>现货网格</code>/<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价<br>适用于<code>现货网格</code>/<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义策略ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">带单员分润比例，仅支持固定比例分润<br><code>0</code>,<code>0.1</code>,<code>0.2</code>,<code>0.3</code></td>
</tr>
<tr>
<td style="text-align: left">triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">信号触发参数<br>适用于<code>现货网格</code>/<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发<br>默认为<code>instant</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; delaySeconds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">延迟触发时间，单位为秒，默认为<code>0</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">周期<br><code>14</code><br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略停止类型<br>现货 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
</tbody></table>

<p>现货网格</p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">计价币投入数量<br><code>quoteSz</code>和<code>baseSz</code>至少指定一个</td>
</tr>
<tr>
<td style="text-align: left">baseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易币投入数量<br><code>quoteSz</code>和<code>baseSz</code>至少指定一个</td>
</tr>
</tbody></table>

<p>合约网格</p>

<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投入保证金,单位为<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">basePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否开底仓<br>默认为<code>false</code><br>中性合约网格忽略该参数</td>
</tr>
<tr>
<td style="text-align: left">tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈比率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损比率，0.1 代表 10%</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447053782921515008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-amend-grid-algo-order">POST / 修改网格策略订单 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/amend-order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/amend-order-algo
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"slTriggerPx"</span>:<span class="s2">"1200"</span>,
    <span class="s2">"tpTriggerPx"</span>:<span class="s2">""</span>
<span class="o">}</span>

POST /api/v5/tradingBot/grid/amend-order-algo
body 
<span class="o">{</span>
   <span class="s2">"algoId"</span>:<span class="s2">"578963447615062016"</span>,
   <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
   <span class="s2">"triggerParams"</span>:[
       <span class="o">{</span>
           <span class="s2">"triggerAction"</span>:<span class="s2">"stop"</span>,  
           <span class="s2">"triggerStrategy"</span>:<span class="s2">"price"</span>,   
           <span class="s2">"triggerPx"</span>:<span class="s2">"1000"</span>
       <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

POST /api/v5/tradingBot/grid/amend-order-algo
body 
<span class="o">{</span>
   <span class="s2">"algoId"</span>:<span class="s2">"578963447615062016"</span>,
   <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
   <span class="s2">"triggerParams"</span>:[
       <span class="o">{</span>
           <span class="s2">"triggerAction"</span>:<span class="s2">"stop"</span>,  
           <span class="s2">"triggerStrategy"</span>:<span class="s2">"instant"</span>,   
           <span class="s2">"stopType"</span>:<span class="s2">"1"</span>
       <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">新的止损触发价<br>当值为""则代表取消止损触发价<br><code>slTriggerPx</code>、<code>tpTriggerPx</code>至少要传一个值</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">新的止盈触发价<br>当值为""则代表取消止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">信号触发参数</td>
</tr>
<tr>
<td style="text-align: left">tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈比率，0.1 代表 10%，仅适用于合约网格<br>当值为""则代表取消止盈比率</td>
</tr>
<tr>
<td style="text-align: left">slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损比率，0.1 代表 10%，仅适用于合约网格<br>当值为""则代表取消止损比率</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略停止类型<br>现货 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-stop-grid-algo-order">POST / 网格策略停止 </h3>
<p>每次最多可以撤销10个网格策略。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/stop-order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/stop-order-algo
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>,
        <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
        <span class="s2">"stopType"</span>:<span class="s2">"1"</span>,
        <span class="s2">"algoOrdType"</span>:<span class="s2">"grid"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">网格策略停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：市价全平 <code>2</code>：停止不平仓</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-close-position-for-contract-grid">POST / 合约网格平仓 </h3>
<p>只有处于已停止未平仓状态合约网格可使用该接口</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/close-position</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/close-position
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>,
    <span class="s2">"mktClose"</span>:true
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">mktClose</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是否市价全平<br><code>true</code>：市价全平，<code>false</code>：部分平仓</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">平仓数量,单位为张<br>部分平仓时必传</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">平仓价格 <br>部分平仓时必传</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓单ID<br>市价全平时，该字段为""</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-cancel-close-position-order-for-contract-grid">POST / 撤销合约网格平仓单 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/cancel-close-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/cancel-close-order
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>,
    <span class="s2">"ordId"</span>:<span class="s2">"570627699870375936"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">平仓单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"570627699870375936"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-instant-trigger-grid-algo-order">POST / 网格策略立即触发 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid-instrument-id">限速规则：UserID + Instrument ID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/order-instant-trigger</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/order-instant-trigger
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"561564133246894080"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"561564133246894080"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-grid-algo-order-list">GET / 获取未完成网格策略委托单列表 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/orders-algo-pending</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/orders-algo-pending?algoOrdType<span class="o">=</span>grid
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：杠杆<br><code>FUTURES</code>：交割合约<br><code>SWAP</code>：永续合约</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"activeOrdNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actualLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56802********64032"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"arbitrageNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"basePos"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681700496249"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"floatProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateTrans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"runType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerParams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682062564350"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>starting</code>：启动中<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>pending_signal</code>：等待触发<br><code>no_close_position</code>：已停止未平仓（仅适用于合约网格）</td>
</tr>
<tr>
<td style="text-align: left">rebateTrans</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">返佣划转信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣币种</td>
</tr>
<tr>
<td style="text-align: left">triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">信号触发参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; delaySeconds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">延迟触发时间，单位为秒</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction实际触发时间，Unix时间戳的毫秒数格式, 如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction的实际触发类型<br><code>manual</code>：手动触发<br><code>auto</code>: 自动触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期<br><code>14</code><br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止类型<br>现货 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">arbitrageNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格套利次数</td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">investment</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入金额<br>现货网格如果投入了交易币则折算为计价币</td>
</tr>
<tr>
<td style="text-align: left">gridProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格利润</td>
</tr>
<tr>
<td style="text-align: left">floatProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止<br><code>2</code>：止盈停止<br><code>3</code>：止损停止<br><code>4</code>：风控停止<br><code>5</code>：交割停止<br><code>6</code>: 信号停止</td>
</tr>
<tr>
<td style="text-align: left">stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略实际停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓</td>
</tr>
<tr>
<td style="text-align: left">quoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价币投入数量<br>适用于`现货网格</td>
</tr>
<tr>
<td style="text-align: left">baseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易币投入数量<br>适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">basePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否开底仓<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入保证金，单位为<code>USDT</code><br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">actualLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际杠杆倍数<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价格<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code><br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">ordFrozen</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单占用<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">availEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例<br>取值范围[0,0.3]<br>如果是普通订单（既不是带单也不是跟单），该字段返回""</td>
</tr>
<tr>
<td style="text-align: left">copyType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润订单类型<br><code>0</code>：普通订单<br><code>1</code>：普通跟单<br><code>2</code>：分润跟单<br><code>3</code>：带单</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，仅适用于合约网格，其他网格策略为""</td>
</tr>
<tr>
<td style="text-align: left">fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用，仅适用于合约网格，其他网格策略为""</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-grid-algo-order-history">GET / 获取历史网格策略委托单列表 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/orders-algo-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/orders-algo-history?algoOrdType<span class="o">=</span>grid
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：杠杆<br><code>FUTURES</code>：交割合约<br><code>SWAP</code>：永续合约</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"actualLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"565849588675117056"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"arbitrageNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"basePos"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681181054927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"floatProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateTrans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"runType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stopped"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerParams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681181186484"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681181186496"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">rebateTrans</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">返佣划转信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣币种</td>
</tr>
<tr>
<td style="text-align: left">triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">信号触发参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; delaySeconds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">延迟触发时间，单位为秒</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction实际触发时间，Unix时间戳的毫秒数格式, 如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction的实际触发类型<br><code>manual</code>：手动触发<br><code>auto</code>: 自动触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期<br><code>14</code><br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止类型<br>现货 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">arbitrageNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格套利次数</td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">investment</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入金额<br>现货网格如果投入了交易币则折算为计价币</td>
</tr>
<tr>
<td style="text-align: left">gridProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格利润</td>
</tr>
<tr>
<td style="text-align: left">floatProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止<br><code>2</code>：止盈停止<br><code>3</code>：止损停止<br><code>4</code>：风控停止<br><code>5</code>：交割停止<br><code>6</code>: 信号停止</td>
</tr>
<tr>
<td style="text-align: left">stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略实际停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓</td>
</tr>
<tr>
<td style="text-align: left">quoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价币投入数量<br>适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">baseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易币投入数量<br>适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">basePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否开底仓<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入保证金，单位为<code>USDT</code><br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">actualLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际杠杆倍数<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价格<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code><br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">ordFrozen</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单占用<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">availEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例<br>取值范围[0,0.3]<br>如果是普通订单（既不是带单也不是跟单），该字段返回""</td>
</tr>
<tr>
<td style="text-align: left">copyType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润订单类型<br><code>0</code>：普通订单<br><code>1</code>：普通跟单<br><code>2</code>：分润跟单<br><code>3</code>：带单</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，仅适用于合约网格，其他网格策略为""</td>
</tr>
<tr>
<td style="text-align: left">fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用，仅适用于合约网格，其他网格策略为""</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-grid-algo-order-details">GET / 获取网格策略委托订单详情 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/orders-algo-details</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/orders-algo-details?algoId<span class="o">=</span>448965992920907776&amp;algoOrdType<span class="o">=</span>grid
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"actualLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"activeOrdNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"annualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"arbitrageNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"basePos"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681181054927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curBaseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curQuoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"floatProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"perMaxProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.14570215"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"perMinProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0991200440528634356837"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateTrans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"runType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"runPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30089.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"singleAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00101214"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stopped"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAnnualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerParams"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681181186484"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681181186496"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>starting</code>：启动中<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>no_close_position</code>：已停止未平仓（仅适用于合约网格）<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">rebateTrans</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">返佣划转信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣币种</td>
</tr>
<tr>
<td style="text-align: left">triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">信号触发参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; delaySeconds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">延迟触发时间，单位为秒</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction实际触发时间，Unix时间戳的毫秒数格式, 如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction的实际触发类型<br><code>manual</code>：手动触发<br><code>auto</code>: 自动触发</td>
</tr>
<tr>
<td style="text-align: left">&gt; timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期<br><code>14</code><br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止类型<br>现货 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">tradeNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单成交次数</td>
</tr>
<tr>
<td style="text-align: left">arbitrageNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格套利次数</td>
</tr>
<tr>
<td style="text-align: left">singleAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格买卖量</td>
</tr>
<tr>
<td style="text-align: left">perMinProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预期单网格最低利润率</td>
</tr>
<tr>
<td style="text-align: left">perMaxProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预期单网格最高利润率</td>
</tr>
<tr>
<td style="text-align: left">runPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">启动时价格</td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">investment</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入金额<br>现货网格如果投入了交易币则折算为计价币</td>
</tr>
<tr>
<td style="text-align: left">gridProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格利润</td>
</tr>
<tr>
<td style="text-align: left">floatProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">totalAnnualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">annualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格年化</td>
</tr>
<tr>
<td style="text-align: left">cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止<br><code>2</code>：止盈停止<br><code>3</code>：止损停止<br><code>4</code>：风控停止<br><code>5</code>：交割停止<br><code>6</code>: 信号停止</td>
</tr>
<tr>
<td style="text-align: left">stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：市价全平，<code>2</code>：停止不平仓</td>
</tr>
<tr>
<td style="text-align: left">activeOrdNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单挂单数量</td>
</tr>
<tr>
<td style="text-align: left">quoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价币投入数量<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">baseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易币投入数量<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">curQuoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前持有的计价币资产<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">curBaseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前持有的交易币资产<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">profit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前可提取利润,单位是计价币<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">stopResult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止结果<br><code>0</code>：默认，<code>1</code>：市价卖币成功 <code>-1</code>：市价卖币失败<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">basePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否开底仓<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入保证金，单位为<code>USDT</code><br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">actualLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际杠杆倍数<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价格<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code><br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">ordFrozen</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单占用<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">availEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">eq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略账户总权益<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例<br>取值范围[0,0.3]<br>如果是普通订单（既不是带单也不是跟单），该字段返回""</td>
</tr>
<tr>
<td style="text-align: left">copyType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润订单类型<br><code>0</code>：普通订单<br><code>1</code>：普通跟单<br><code>2</code>：分润跟单<br><code>3</code>：带单</td>
</tr>
<tr>
<td style="text-align: left">tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈比率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损比率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，仅适用于合约网格，其他网格策略为""</td>
</tr>
<tr>
<td style="text-align: left">fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用，仅适用于合约网格，其他网格策略为""</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-grid-algo-sub-orders">GET / 获取网格策略委托子订单信息 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/sub-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/sub-orders?algoId<span class="o">=</span>123456&amp;type<span class="o">=</span>live&amp;algoOrdType<span class="o">=</span>grid
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">子订单状态<br><code>live</code>：未成交<br><code>filled</code>：已成交</td>
</tr>
<tr>
<td style="text-align: left">groupId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">组ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653347949771"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449109084439187456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30404.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">    
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00059213"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653347949831"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">groupId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">组ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单交易模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓<br><code>cash</code>：非保证金</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种<br>仅适用于<code>现货和合约模式</code>模式下的<code>全仓杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单<br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托数量</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单状态<br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交<br><code>filled</code>：完全成交<br><code>cancelling</code>：撤单中</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单订单方向<br><code>buy</code>：买<br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托价格</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费数量</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费币种</td>
</tr>
<tr>
<td style="text-align: left">rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单返佣数量</td>
</tr>
<tr>
<td style="text-align: left">rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单返佣币种</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单平均成交价格</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单持仓方向<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单收益</td>
</tr>
<tr>
<td style="text-align: left">ctVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值<br>仅支持<code>FUTURES/SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-grid-algo-order-positions">GET / 获取网格策略委托持仓 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/positions</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/positions?algoId<span class="o">=</span>448965992920907776&amp;algoOrdType<span class="o">=</span>contract_grid
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29215.0142857142857149"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653400065917"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2045.386"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29206.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"661.1684795867162"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29213.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"217.19370606167573"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.907720000000005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10216.70307"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653400066938"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.674999999999818"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0008190504784478"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">初始保证金</td>
</tr>
<tr>
<td style="text-align: left">mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维持保证金</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益</td>
</tr>
<tr>
<td style="text-align: left">uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位美金价值</td>
</tr>
<tr>
<td style="text-align: left">adl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号区<br>分为5档，从1到5，数字越小代表adl强度越弱</td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-spot-grid-withdraw-income">POST / 现货网格提取利润 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/withdraw-income</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/withdraw-income
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profit"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">profit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提取的利润</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-compute-margin-balance">POST / 调整保证金计算 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/compute-margin-balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/compute-margin-balance
body <span class="o">{</span>
   <span class="s2">"algoId"</span>:<span class="s2">"123456"</span>,
   <span class="s2">"type"</span>:<span class="s2">"add"</span>,
   <span class="s2">"amt"</span>:<span class="s2">"10"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">调整保证金类型<br><code>add</code>：增加，<code>reduce</code>：减少</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">调整保证金数量<br></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3877200981166066"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.8309562403342999"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最多可调整的保证金数量</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">调整保证金后的杠杠倍数</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-adjust-margin-balance">POST / 调整保证金 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/margin-balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/margin-balance
body <span class="o">{</span>
   <span class="s2">"algoId"</span>:<span class="s2">"123456"</span>,
   <span class="s2">"type"</span>:<span class="s2">"add"</span>,
   <span class="s2">"amt"</span>:<span class="s2">"10"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">调整保证金类型<br><code>add</code>：增加，<code>reduce</code>：减少</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">调整保证金数量<br><code>amt</code>和<code>percent</code>必须传一个</td>
</tr>
<tr>
<td style="text-align: left">percent</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">调整保证金百分比</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-add-investment">POST / 加仓 </h3>
<p>该接口用于加仓，仅适用于合约网格。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/adjust-investment</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/adjust-investment
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"12"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">加仓数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"448965992920907776"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-grid-ai-parameter-public">GET / 网格策略智能回测（公共） </h3>
<p>公共接口无须鉴权</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/ai-param</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/ai-param?instId<span class="o">=</span>BTC-USDT&amp;algoOrdType<span class="o">=</span>grid
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性<br>合约网格必填</td>
</tr>
<tr>
<td style="text-align: left">duration</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">回测周期<br><code>7D</code>：7天，<code>30D</code>：30天，<code>180D</code>：180天<br>默认<code>现货网格</code>为<code>7D</code><br>合约网格只支持<code>7D</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"annualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5849"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7D"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gridNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21373.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minInvestment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.89557758"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15544.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"perGridProfitRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.566226200302574"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"perMaxProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0733865364573281"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"perMinProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0561101403446263"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"runType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sourceCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">duration</td>
<td style="text-align: left">String</td>
<td style="text-align: left">回测周期<br><code>7D</code>：7天，<code>30D</code>：30天，<code>180D</code>：180天</td>
</tr>
<tr>
<td style="text-align: left">gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">perMaxProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格最高利润率</td>
</tr>
<tr>
<td style="text-align: left">perMinProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格最低利润率</td>
</tr>
<tr>
<td style="text-align: left">perGridProfitRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格利润率</td>
</tr>
<tr>
<td style="text-align: left">annualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格年化收益率</td>
</tr>
<tr>
<td style="text-align: left">minInvestment</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小投资数量</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资币种</td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约网格类型<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">sourceCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">来源币种</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-post-compute-min-investment-public">POST / 计算最小投资数量（公共） </h3>
<p>公共接口无须鉴权</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/grid/min-investment</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/grid/min-investment
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"ETH-USDT"</span>,
    <span class="s2">"algoOrdType"</span>:<span class="s2">"grid"</span>,
    <span class="s2">"gridNum"</span>: <span class="s2">"50"</span>,
    <span class="s2">"maxPx"</span>:<span class="s2">"5000"</span>,
    <span class="s2">"minPx"</span>:<span class="s2">"3000"</span>,
    <span class="s2">"runType"</span>:<span class="s2">"1"</span>,
    <span class="s2">"investmentData"</span>:[
        <span class="o">{</span>
            <span class="s2">"amt"</span>:<span class="s2">"0.01"</span>,
            <span class="s2">"ccy"</span>:<span class="s2">"ETH"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"amt"</span>:<span class="s2">"100"</span>,
            <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性<br>适用于合约网格</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">杠杆倍数<br>适用于合约网格</td>
</tr>
<tr>
<td style="text-align: left">basePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否开底仓<br>默认为<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">investmentType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">投资类型, 仅适用于现货网格<br> <code>quote</code>: 计价货币<br><code>base</code>: 交易货币<br><code>dual</code>: 计价货币和交易货币</td>
</tr>
<tr>
<td style="text-align: left">triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">触发策略, <br> <code>instant</code>: 立即触发 <br><code>price</code>: 价格触发<br><code>rsi</code>: rsi 触发</td>
</tr>
<tr>
<td style="text-align: left">investmentData</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">投资信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资币种</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
           </span><span class="nl">"minInvestmentData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">  
               </span><span class="p">{</span><span class="w">
                   </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
                   </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">
                   </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                   </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="w">
               </span><span class="p">}</span><span class="w">
           </span><span class="p">],</span><span class="w">
           </span><span class="nl">"singleAmt"</span><span class="p">:</span><span class="s2">"10"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">minInvestmentData</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">最小投入信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小投入数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小投入币种</td>
</tr>
<tr>
<td style="text-align: left">singleAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格买卖量<br>现货网格单位为计价币<br>合约网格单位为张</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-rsi-back-testing-public">GET / RSI回测（公共） </h3>
<p>公共接口无须鉴权</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/public/rsi-back-testing</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/public/rsi-back-testing?instId<span class="o">=</span>BTC-USDT&amp;thold<span class="o">=</span>30&amp;timeframe<span class="o">=</span>3m&amp;timePeriod<span class="o">=</span>14
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code><br>适用于<code>币币</code></td>
</tr>
<tr>
<td style="text-align: left">timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)</td>
</tr>
<tr>
<td style="text-align: left">thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数</td>
</tr>
<tr>
<td style="text-align: left">timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">周期<br><code>14</code></td>
</tr>
<tr>
<td style="text-align: left">triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>默认是<code>cross_down</code></td>
</tr>
<tr>
<td style="text-align: left">duration</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">回测周期<br><code>1M</code>：1个月<br>默认<code>1M</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"triggerNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"164"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">triggerNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发次数</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-get-max-grid-quantity-public">GET / 最大网格数量（公共） </h3>
<p>公共接口无须鉴权<br></p>

<p>可通过该接口获取最大网格数量，最小网格数量总是 2。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/grid/grid-quantity</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/grid/grid-quantity?instId<span class="o">=</span>BTC-USDT-SWAP&amp;runType<span class="o">=</span>1&amp;algoOrdType<span class="o">=</span>contract_grid&amp;maxPx<span class="o">=</span>70000&amp;minPx<span class="o">=</span>50000&amp;lever<span class="o">=</span>5
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">网格类型<br><code>1</code>: 等差<br> <code>2</code>: 等比</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">杠杆倍数, 合约网格时必填</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"maxGridQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"285"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxGridQty</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大网格数量</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-ws-spot-grid-algo-orders-channel">WS / 现货网格策略委托订单频道 </h3>
<p>支持现货网格策略订单的定时推送和事件推送</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"grid-orders-spot"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"ANY"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>grid-orders-spot</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-orders-spot"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">grid-orders-spot</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-orders-spot"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4470****9584"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"568028283477164032"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"activeOrdNum"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"annualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"arbitrageNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1681700496249"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"curBaseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"curQuoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"floatProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gridNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gridProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"investment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682416738467"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"perMaxProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.14570215"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"perMinProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0991200440528634356837"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rebateTrans"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"runPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30031.7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"runType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerParams"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"singleAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00101214"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stopResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalAnnualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682406665527"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"copyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>starting</code>：启动中<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateTrans</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">返佣划转信息</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">信号触发参数</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; delaySeconds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">延迟触发时间，单位为秒</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction实际触发时间，Unix时间戳的毫秒数格式, 如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction的实际触发类型<br><code>manual</code>：手动触发<br><code>auto</code>: 自动触发</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线种类<br><code>3M</code>, <code>5M</code>, <code>15M</code>, <code>30M</code> (<code>M</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期<br><code>14</code><br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止类型<br>现货 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单成交次数</td>
</tr>
<tr>
<td style="text-align: left">&gt; arbitrageNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格套利次数</td>
</tr>
<tr>
<td style="text-align: left">&gt; singleAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格买卖量</td>
</tr>
<tr>
<td style="text-align: left">&gt; perMinProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预期单网格最低利润率</td>
</tr>
<tr>
<td style="text-align: left">&gt; perMaxProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预期单网格最高利润率</td>
</tr>
<tr>
<td style="text-align: left">&gt; runPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">启动时价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">&gt; investment</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入金额<br>现货网格如果投入了交易币则折算为计价币</td>
</tr>
<tr>
<td style="text-align: left">&gt; gridProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格利润</td>
</tr>
<tr>
<td style="text-align: left">&gt; floatProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalAnnualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">&gt; annualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格年化</td>
</tr>
<tr>
<td style="text-align: left">&gt; cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止<br><code>2</code>：止盈停止<br><code>3</code>：止损停止<br><code>4</code>：风控停止<br><code>5</code>：交割停止<br><code>6</code>: 信号停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：市价全平，<code>2</code>：停止不平仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价币投入数量<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; baseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易币投入数量<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; curQuoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前持有的计价币资产<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; curBaseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前持有的交易币资产<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; profit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前可提取利润,单位是计价币<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; stopResult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货网格策略停止结果<br><code>0</code>：默认，<code>1</code>：市价卖币成功 <code>-1</code>：市价卖币失败<br>仅适用于<code>现货网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; activeOrdNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单挂单数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例<br>取值范围[0,0.3]<br>如果是普通订单（既不是带单也不是跟单），该字段返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; copyType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润订单类型<br><code>0</code>：普通订单<br><code>1</code>：普通跟单<br><code>2</code>：分润跟单<br><code>3</code>：带单</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-ws-contract-grid-algo-orders-channel">WS / 合约网格策略委托订单频道 </h3>
<p>支持合约网格策略订单的定时推送和事件推送</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"grid-orders-contract"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"ANY"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>grid-orders-contract</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续<br><code>FUTURE</code>：交割<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-orders-contract"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">grid-orders-contract</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-orders-contract"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4470****9584"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"actualLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.3481494635276649"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"activeOrdNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"571039869070475264"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract_grid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"annualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"arbitrageNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52.3015392887089673"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"basePos"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682418514204"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"108.7945652387089673"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"floatProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.7945652387089673"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gridNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gridProfit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"investment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16370.482143120824"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36437.3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26931.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.38638"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682492574068"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"perMaxProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1687494513302446"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"perMinProfitRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1263869357706788"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0879456523870897"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rebateTrans"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"runPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27306.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"runType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"singleAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalAnnualizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38.52019574554529"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.7945652387089673"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerParams"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682418561497"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"triggerAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delaySeconds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerStrategy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instant"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1682492552257"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"copyType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tpRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>contract_grid</code>：合约网格</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>starting</code>：启动中<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>no_close_position</code>：已停止未平仓（仅适用于合约网格）<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateTrans</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">返佣划转信息</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; triggerParams</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">信号触发参数</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerAction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerStrategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; delaySeconds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">延迟触发时间，单位为秒</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction实际触发时间，Unix时间戳的毫秒数格式, 如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">triggerAction的实际触发类型<br><code>manual</code>：手动触发<br><code>auto</code>: 自动触发</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; timeframe</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; thold</td>
<td style="text-align: left">String</td>
<td style="text-align: left">阈值<br>取值[1,100]的整数<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerCond</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发条件<br><code>cross_up</code>：上穿<br><code>cross_down</code>：下穿<br><code>above</code>：上方<br><code>below</code>：下方<br><code>cross</code>：交叉<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; timePeriod</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期<br><code>14</code><br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; triggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发价格<br>该字段只在<code>triggerStrategy</code>为<code>price</code>下有效</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：停止平仓，<code>2</code>：停止不平仓 <br>该字段只在<code>triggerAction</code>为<code>stop</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最高价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区间最低价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; gridNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; runType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格类型<br><code>1</code>：等差，<code>2</code>：等比</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单成交次数</td>
</tr>
<tr>
<td style="text-align: left">&gt; arbitrageNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格套利次数</td>
</tr>
<tr>
<td style="text-align: left">&gt; singleAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单网格买卖量</td>
</tr>
<tr>
<td style="text-align: left">&gt; perMinProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预期单网格最低利润率</td>
</tr>
<tr>
<td style="text-align: left">&gt; perMaxProfitRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预期单网格最高利润率</td>
</tr>
<tr>
<td style="text-align: left">&gt; runPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">启动时价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">&gt; investment</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入金额<br>现货网格如果投入了交易币则折算为计价币</td>
</tr>
<tr>
<td style="text-align: left">&gt; gridProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格利润</td>
</tr>
<tr>
<td style="text-align: left">&gt; floatProfit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalAnnualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">&gt; annualizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格年化</td>
</tr>
<tr>
<td style="text-align: left">&gt; cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止<br><code>2</code>：止盈停止<br><code>3</code>：止损停止<br><code>4</code>：风控停止<br><code>5</code>：交割停止<br><code>6</code>: 信号停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; stopType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略停止类型<br>现货网格 <code>1</code>：卖出交易币，<code>2</code>：不卖出交易币<br>合约网格 <code>1</code>：市价全平，<code>2</code>：停止不平仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约网格类型<br><code>long</code>：做多，<code>short</code>：做空，<code>neutral</code>：中性<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; basePos</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否开底仓<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入保证金，单位为<code>USDT</code><br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; actualLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际杠杆倍数<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价格<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; eq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略账户总权益<br>仅适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ordFrozen</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单占用<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; availEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金<br>适用于<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; activeOrdNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单挂单数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例<br>取值范围[0,0.3]<br>如果是普通订单（既不是带单也不是跟单），该字段返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; copyType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润订单类型<br><code>0</code>：普通订单<br><code>1</code>：普通跟单<br><code>2</code>：分润跟单<br><code>3</code>：带单</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈比率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">&gt; slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损比率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">&gt; fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计手续费金额，仅适用于合约网格，其他网格策略为""</td>
</tr>
<tr>
<td style="text-align: left">&gt; fundingFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计资金费用，仅适用于合约网格，其他网格策略为""</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">网格策略的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-ws-grid-positions-channel">WS / 合约网格持仓频道 </h3>
<p>支持网格策略持仓的首次订阅推送，定时推送和事件推送<br>
请忽略空数据</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"grid-positions"</span>,
        <span class="s2">"algoId"</span>: <span class="s2">"449327675342323712"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>grid-positions</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-positions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">grid-positions</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-positions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4470****9584"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"adl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29181.4638888888888895"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653400065917"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2089.2690000000002"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29852.7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604.7617536513744"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29849.7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"217.71740878394456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.78538"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10435.794191550001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653536068723"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653445498682"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"232.83263888888962"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1139826489932205"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">&gt; liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价</td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">&gt; mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">&gt; imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">初始保证金</td>
</tr>
<tr>
<td style="text-align: left">&gt; mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维持保证金</td>
</tr>
<tr>
<td style="text-align: left">&gt; upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益</td>
</tr>
<tr>
<td style="text-align: left">&gt; uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">&gt; last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">&gt; notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位美金价值</td>
</tr>
<tr>
<td style="text-align: left">&gt; adl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号区<br>分为5档，从1到5，数字越小代表adl强度越弱</td>
</tr>
<tr>
<td style="text-align: left">&gt; markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单信息的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-grid-trading-ws-grid-sub-orders-channel">WS / 网格策略子订单频道 </h3>
<p>支持网格策略子订单的事件推送<br>
请忽略空数据</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"grid-sub-orders"</span>,
        <span class="s2">"algoId"</span>: <span class="s2">"449327675342323712"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>grid-sub-orders</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-sub-orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">grid-sub-orders</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grid-sub-orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44705892343619584"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449327675342323712"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract_grid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653445498664"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ctVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449518234142904321"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653486524502"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28007.2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rebate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rebateCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1653445498674"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>grid</code>：现货网格委托<br><code>contract_grid</code>：合约网格委托</td>
</tr>
<tr>
<td style="text-align: left">&gt; groupId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">组ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单交易模式<br><code>cross</code>：全仓 <code>isolated</code>：逐仓 <code>cash</code>：非保证金</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单类型<br><code>market</code>：市价单 <code>limit</code>：限价单<br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单状态<br><code>canceled</code>：撤单成功 <code>live</code>：等待成交 <code>partially_filled</code>：部分成交 <code>filled</code>：完全成交 <code>cancelling</code>：撤单中</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单订单方向<br><code>buy</code>：买 <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单返佣数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; rebateCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单返佣币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单平均成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单持仓方向<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单收益</td>
</tr>
<tr>
<td style="text-align: left">&gt; ctVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值</td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单信息的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="order-book-trading-signal-bot-trading">信号交易 </h2>
<p>信号策略允许您将定制的数字货币交易策略展示在欧易平台。您可以完全控制自己设计的算法，而策略将会以高性能、高可靠性实时执行您的交易。<a href="https://www.okx.com/cn/learn/signal-trading">了解更多</a></p>
<h3 id="order-book-trading-signal-bot-trading-post-create-signal">POST / 创建信号 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/create-signal</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/create-signal
body
<span class="o">{</span>
  <span class="s2">"signalChanName"</span>: <span class="s2">"long short"</span>,
  <span class="s2">"signalDesc"</span>: <span class="s2">"this is the first version"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">signalChanName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">信号名称</td>
</tr>
<tr>
<td style="text-align: left">signalChanDesc</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">信号描述</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
           </span><span class="nl">"signalChanId"</span><span class="w"> </span><span class="p">:</span><span class="s2">"572112109"</span><span class="p">,</span><span class="w">
           </span><span class="nl">"signalToken"</span><span class="p">:</span><span class="s2">"dojuckew331lkx"</span><span class="w">
       </span><span class="p">}</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">signalChanToken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号单的用户身份标识</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-signals">GET / 查询所有信号 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/signals</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/signals
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">signalSourceType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">信号来源类型<br><code>1</code>：自己创建的<br><code>2</code>：订阅他人<br><code>3</code>：免费信号</td>
</tr>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的signalChanId</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的signalChanId</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"signalChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalSourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">signalChanName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号名称</td>
</tr>
<tr>
<td style="text-align: left">signalChanDesc</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号描述</td>
</tr>
<tr>
<td style="text-align: left">signalChanToken</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号单的用户身份标识</td>
</tr>
<tr>
<td style="text-align: left">signalSourceType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号来源类型<br><code>1</code>：自己创建的<br><code>2</code>：订阅他人<br><code>3</code>：免费信号</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-create-signal-bot">POST / 创建信号策略 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 创建信号策略</span>
POST /api/v5/tradingBot/signal/order-algo
body
<span class="o">{</span>
  <span class="s2">"signalChanId"</span>: <span class="s2">"627921182788161536"</span>,
  <span class="s2">"instIds"</span>: <span class="o">[</span>
    <span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"ETH-USDT-SWAP"</span>,
    <span class="s2">"LTC-USDT-SWAP"</span>
  <span class="o">]</span>,
  <span class="s2">"lever"</span>: <span class="s2">"10"</span>,
  <span class="s2">"investAmt"</span>: <span class="s2">"100"</span>,
  <span class="s2">"subOrdType"</span>: <span class="s2">"9"</span>,
  <span class="s2">"entrySettingParam"</span>: <span class="o">{</span>
    <span class="s2">"allowMultipleEntry"</span>: <span class="nb">true</span>,
    <span class="s2">"entryType"</span>: <span class="s2">"1"</span>,
    <span class="s2">"amt"</span>: <span class="s2">""</span>,
    <span class="s2">"ratio"</span>: <span class="s2">""</span>
  <span class="o">}</span>,
  <span class="s2">"exitSettingParam"</span>: <span class="o">{</span>
    <span class="s2">"tpSlType"</span>: <span class="s2">"2"</span>,
    <span class="s2">"tpPct"</span>: <span class="s2">""</span>,
    <span class="s2">"slPct"</span>: <span class="s2">""</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">includeAll</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否包含所有USDT 本位永续合约，默认false。 <code>true</code>: 包含 <code>false</code> : 不包含</td>
</tr>
<tr>
<td style="text-align: left">instIds</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">该信号支持的产品ID列表， 多个instId 用逗号分隔。当 includeAll 为true 时， 忽略此参数</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">杠杆倍数仅适用于合约信号</td>
</tr>
<tr>
<td style="text-align: left">investAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投入金额</td>
</tr>
<tr>
<td style="text-align: left">subOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">1：限价 2：市价 9：由tradingView信号指定</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">限价单的委托价格距离买一/卖一价的百分比。当委托类型为限价时，该字段有效。</td>
</tr>
<tr>
<td style="text-align: left">entrySettingParam</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">进场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; allowMultipleEntry</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否允许多次进场，默认允许。 <code>true</code>：允许 <code>false</code>：不允许</td>
</tr>
<tr>
<td style="text-align: left">&gt; entryType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义策略ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">信号触发参数<br>适用于<code>现货网格</code>/<code>合约网格</code></td>
</tr>
<tr>
<td style="text-align: left">exitSettingParam</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">触发行为<br><code>start</code>：网格启动<br><code>stop</code>：网格停止</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpSlType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">触发策略<br><code>instant</code>：立即触发<br><code>price</code>：价格触发<br><code>rsi</code>：rsi指标触发<br>默认为<code>instant</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tpPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">延迟触发时间，单位为秒，默认为<code>0</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; slPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">K线种类<br><code>3m</code>, <code>5m</code>, <code>15m</code>, <code>30m</code> (<code>m</code>代表分钟)<br><code>1H</code>, <code>4H</code> (<code>H</code>代表小时)<br><code>1D</code> (<code>D</code>代表天)<br>该字段只在<code>triggerStrategy</code>为<code>rsi</code>时有效</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447053782921515008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-cancel-signal-bots">POST / 停止信号策略 </h3>
<p>每次最多可以撤销10个信号策略。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/stop-order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/stop-order-algo
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">

        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-adjust-margin-balance">POST / 调整保证金 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/margin-balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/margin-balance
body
<span class="o">{</span>
   <span class="s2">"algoId"</span>:<span class="s2">"123456"</span>,
   <span class="s2">"type"</span>:<span class="s2">"add"</span>,
   <span class="s2">"amt"</span>:<span class="s2">"10"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">调整保证金类型<br><code>add</code>：增加，<code>reduce</code>：减少</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">调整保证金数量</td>
</tr>
<tr>
<td style="text-align: left">allowReinvest</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否允许复投调整后的保证金，默认false。true 或者 false <code>false</code>:新投入的资金仅作为保证金用于避免爆仓<br><code>true</code>:新投入的资金将可用于进行复投。<br>仅适用于进场设定为“TradingView 信号”或“初始投资比例”的策略</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-amend-tpsl">POST / 修改止盈止损 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/amendTPSL</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/amendTPSL
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>: <span class="s2">"637039348240277504"</span>,
    <span class="s2">"exitSettingParam"</span>: <span class="o">{</span>
        <span class="s2">"tpSlType"</span>: <span class="s2">"pnl"</span>,
        <span class="s2">"tpPct"</span>: <span class="s2">"0.01"</span>,
        <span class="s2">"slPct"</span>: <span class="s2">"0.01"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">exitSettingParam</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">离场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpSlType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">止盈止损类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; slPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损百分比</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"637039348240277504"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-set-instruments">POST / 设置币对 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/set-instruments</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/set-instruments
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>: <span class="s2">"637039348240277504"</span>,
    <span class="s2">"instIds"</span>: <span class="o">[</span>
        <span class="s2">"SHIB-USDT-SWAP"</span>,
        <span class="s2">"ETH-USDT-SWAP"</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">instIds</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品Id 列表，当 includeAll 为 true 时，忽略此参数。</td>
</tr>
<tr>
<td style="text-align: left">includeAll</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是</td>
<td style="text-align: left">是否包含所有USDT 本位永续合约，默认false <code>true</code>: 包含 <code>false</code> : 不包含</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"637039348240277504"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-signal-bot-order-details">GET / 获取信号策略详情 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/orders-algo-details</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/orders-algo-details?algoId<span class="o">=</span>623833708424069120&amp;algoOrdType<span class="o">=</span>contract
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6561369013122267"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695005546360"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entrySettingParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"allowMultipleEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"exitSettingParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"slPct"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tpPct"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tpSlType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"floatPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1279999999999927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.16816"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ETH-USDT-SWAP"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.303703098687766"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623827579484770304"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"我的信号"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalSourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26.824296901312227"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.1757030986877733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.7317570309868777"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697029422313"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instIds</td>
<td style="text-align: left">Array of string</td>
<td style="text-align: left">该信号支持的产品ID列表</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>starting</code>：启动中<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止</td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">totalPnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益率</td>
</tr>
<tr>
<td style="text-align: left">totalEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前策略总权益</td>
</tr>
<tr>
<td style="text-align: left">floatPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">realizedPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现盈亏</td>
</tr>
<tr>
<td style="text-align: left">frozenBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金</td>
</tr>
<tr>
<td style="text-align: left">availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>仅适用于<code>合约信号</code></td>
</tr>
<tr>
<td style="text-align: left">investAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入金额</td>
</tr>
<tr>
<td style="text-align: left">subOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托类型<br><code>1</code>：限价<br><code>2</code>：市价<br><code>9</code>：tradingView信号</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的委托价格距离买一/卖一价的百分比<br>当委托类型为限价时，该字段有效，无效则返回""。</td>
</tr>
<tr>
<td style="text-align: left">entrySettingParam</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">进场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; allowMultipleEntry</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否允许多次进场<br><code>true</code>：允许<br><code>false</code>：不允许</td>
</tr>
<tr>
<td style="text-align: left">&gt; entryType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单次委托类型<br><code>1</code>：单次委托量具体数值将从 TradingView 信号中传入<br><code>2</code>：单次委托量为固定数量的保证金<br><code>3</code>：单次委托量为固定的合约张数<br><code>4</code>：单次委托量基于在收到触发信号时策略中可用保证金的百分比<br><code>5</code>：单次委托量基于在创建策略时设置的初始投入保证金的百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔委托量<br>在单次委托类型是 固定保证金 / 合约张数 下该字段有效，无效的时候返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔委托数量百分比<br>在单次委托类型是 占用保证金比例 / 初始投资比例 下该字段有效，无效的时候返回""</td>
</tr>
<tr>
<td style="text-align: left">exitSettingParam</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">离场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpSlType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损类型，该参数用户确定设置止盈止损的触发价格计算的方式<br><code>pnl</code>：基于平均持仓成本和预期收益率<br><code>price</code>：基于相对于平均持仓成本的涨跌幅</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; slPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损百分比</td>
</tr>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">signalChanName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号名称</td>
</tr>
<tr>
<td style="text-align: left">signalSourceType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号来源类型<br><code>1</code>：自己创建的<br><code>2</code>：订阅他人<br><code>3</code>：免费信号</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-active-signal-bot">GET / 获取活跃信号策略 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/orders-algo-pending</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/orders-algo-pending?algoOrdType<span class="o">=</span>contract
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的algoId</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的algoId</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6561369013122267"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695005546360"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entrySettingParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"allowMultipleEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"exitSettingParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"slPct"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tpPct"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tpSlType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"floatPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1279999999999927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.16816"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ETH-USDT-SWAP"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.303703098687766"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623827579484770304"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"我的信号"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalSourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26.824296901312227"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.1757030986877733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.7317570309868777"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697029422313"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instIds</td>
<td style="text-align: left">Array of string</td>
<td style="text-align: left">该信号支持的产品ID列表</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>starting</code>：启动中<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止原因<br><code>0</code>：无<br><code>1</code>：手动停止</td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">totalPnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益率</td>
</tr>
<tr>
<td style="text-align: left">totalEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前策略总权益</td>
</tr>
<tr>
<td style="text-align: left">floatPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">realizedPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现盈亏</td>
</tr>
<tr>
<td style="text-align: left">frozenBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金</td>
</tr>
<tr>
<td style="text-align: left">availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>仅适用于<code>合约信号</code></td>
</tr>
<tr>
<td style="text-align: left">investAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入金额</td>
</tr>
<tr>
<td style="text-align: left">subOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托类型<br><code>1</code>：限价<br><code>2</code>：市价<br><code>9</code>：tradingView信号</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的委托价格距离买一/卖一价的百分比<br>当委托类型为限价时，该字段有效，无效则返回""。</td>
</tr>
<tr>
<td style="text-align: left">entrySettingParam</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">进场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; allowMultipleEntry</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否允许多次进场<br><code>true</code>：允许<br><code>false</code>：不允许</td>
</tr>
<tr>
<td style="text-align: left">&gt; entryType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单次委托类型<br><code>1</code>：单次委托量具体数值将从 TradingView 信号中传入<br><code>2</code>：单次委托量为固定数量的保证金<br><code>3</code>：单次委托量为固定的合约张数<br><code>4</code>：单次委托量基于在收到触发信号时策略中可用保证金的百分比<br><code>5</code>：单次委托量基于在创建策略时设置的初始投入保证金的百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔委托量<br>在单次委托类型是 固定保证金 / 合约张数 下该字段有效，无效的时候返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔委托数量百分比<br>在单次委托类型是 占用保证金比例 / 初始投资比例 下该字段有效，无效的时候返回""</td>
</tr>
<tr>
<td style="text-align: left">exitSettingParam</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">离场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpSlType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损类型，该参数用户确定设置止盈止损的触发价格计算的方式<br><code>pnl</code>：基于平均持仓成本和预期收益率<br><code>price</code>：基于相对于平均持仓成本的涨跌幅</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; slPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损百分比</td>
</tr>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">signalChanName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号名称</td>
</tr>
<tr>
<td style="text-align: left">signalSourceType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号来源类型<br><code>1</code>：自己创建的<br><code>2</code>：订阅他人<br><code>3</code>：免费信号</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-history-signal-bot">GET / 获取历史信号策略 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/orders-algo-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/orders-algo-history?algoId<span class="o">=</span>623833708424069120&amp;algoOrdType<span class="o">=</span>contract
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的algoId</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的algoId</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6561369013122267"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695005546360"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entrySettingParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"allowMultipleEntry"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"exitSettingParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"slPct"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tpPct"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tpSlType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"floatPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1279999999999927"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.16816"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ETH-USDT-SWAP"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.303703098687766"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623827579484770304"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalChanName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"我的信号"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signalSourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stopped"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26.824296901312227"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.1757030986877733"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.7317570309868777"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697029422313"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instIds</td>
<td style="text-align: left">Array of string</td>
<td style="text-align: left">该信号支持的产品ID列表</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">cancelType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略停止原因<br>1`：手动停止</td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">totalPnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益率</td>
</tr>
<tr>
<td style="text-align: left">totalEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前策略总权益</td>
</tr>
<tr>
<td style="text-align: left">floatPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">浮动盈亏</td>
</tr>
<tr>
<td style="text-align: left">realizedPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现盈亏</td>
</tr>
<tr>
<td style="text-align: left">frozenBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占用保证金</td>
</tr>
<tr>
<td style="text-align: left">availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用保证金</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数<br>仅适用于<code>合约信号</code></td>
</tr>
<tr>
<td style="text-align: left">investAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入金额</td>
</tr>
<tr>
<td style="text-align: left">subOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托类型<br><code>1</code>：限价<br><code>2</code>：市价<br><code>9</code>：tradingView信号</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的委托价格距离买一/卖一价的百分比<br>当委托类型为限价时，该字段有效，无效则返回""。</td>
</tr>
<tr>
<td style="text-align: left">entrySettingParam</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">进场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; allowMultipleEntry</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否允许多次进场<br><code>true</code>：允许<br><code>false</code>：不允许</td>
</tr>
<tr>
<td style="text-align: left">&gt; entryType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单次委托类型<br><code>1</code>：单次委托量具体数值将从 TradingView 信号中传入<br><code>2</code>：单次委托量为固定数量的保证金<br><code>3</code>：单次委托量为固定的合约张数<br><code>4</code>：单次委托量基于在收到触发信号时策略中可用保证金的百分比<br><code>5</code>：单次委托量基于在创建策略时设置的初始投入保证金的百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔委托量<br>在单次委托类型是 固定保证金 / 合约张数 下该字段有效，无效的时候返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔委托数量百分比<br>在单次委托类型是 占用保证金比例 / 初始投资比例 下该字段有效，无效的时候返回""</td>
</tr>
<tr>
<td style="text-align: left">exitSettingParam</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">离场参数设定</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpSlType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损类型，该参数用户确定设置止盈止损的触发价格计算的方式<br><code>pnl</code>：基于平均持仓成本和预期收益率<br><code>price</code>：基于相对于平均持仓成本的涨跌幅</td>
</tr>
<tr>
<td style="text-align: left">&gt; tpPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈百分比</td>
</tr>
<tr>
<td style="text-align: left">&gt; slPct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损百分比</td>
</tr>
<tr>
<td style="text-align: left">signalChanId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号ID</td>
</tr>
<tr>
<td style="text-align: left">signalChanName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号名称</td>
</tr>
<tr>
<td style="text-align: left">signalSourceType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号来源类型<br><code>1</code>：自己创建的<br><code>2</code>：订阅他人<br><code>3</code>：免费信号</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-signal-bot-order-positions">GET / 获取信号策略持仓 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/positions</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/positions?algoId<span class="o">=</span>623833708424069120&amp;algoOrdType<span class="o">=</span>contract
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597.74"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697502301460"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23.76495"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584.34"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1438.7380360728976"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584.33"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.719278420807477"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.9011959999999997"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237.75168928499997"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697502301460"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2.0115000000000123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0839310526118142"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID，将来扩展使用。</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">liqPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估强平价</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">pos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓数量</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓</td>
</tr>
<tr>
<td style="text-align: left">mgnRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金率</td>
</tr>
<tr>
<td style="text-align: left">imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">初始保证金</td>
</tr>
<tr>
<td style="text-align: left">mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维持保证金</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益</td>
</tr>
<tr>
<td style="text-align: left">uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">notionalUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位美金价值</td>
</tr>
<tr>
<td style="text-align: left">adl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">信号区<br>分为5档，从1到5，数字越小代表adl强度越弱</td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-position-history">GET /查看历史持仓信息 </h3>
<p>获取最近3个月有更新的仓位信息，按照仓位更新时间倒序排列。组合保证金账户模式不支持查询历史持仓。</p>
<h4 id="1-10s">限速：1次/10s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/positions-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/positions-history?algoId<span class="o">=</span>1234
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易产品ID，如：<code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询仓位更新 (uTime) 之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询仓位更新 (uTime) 之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1704724451471"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closeAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"220"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2.021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.4593181818181818"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1704724456322"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易产品ID</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式 <code>cross</code>：全仓，<code>isolated</code>：逐仓"</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位创建时间</td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位更新时间</td>
</tr>
<tr>
<td style="text-align: left">openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">closeAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓均价</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓收益额</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓收益率</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <code>long</code>：多 <code>short</code>：空</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-close-position">POST / 市价仓位全平 </h3>
<p>市价平掉指定交易产品的持仓</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/close-position</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/close-position
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"448965992920907776"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-post-place-sub-order">POST / 下单 </h3>
<p>只有当您的账户有足够的资金才能下单。<br><br></p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/sub-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/sub-order
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"1222"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
    <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
    <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
    <span class="s2">"sz"</span>:<span class="s2">"2"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向<br><code>buy</code>：买，   <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型  <br><code>market</code>：市价单<br><code>limit</code>：限价单</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code></td>
</tr>
<tr>
<td style="text-align: left">reduceOnly</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否只减仓，<code>true</code> 或 <code>false</code>，默认<code>false</code><br>仅适用于<code>现货和合约模式</code>和<code>跨币种保证金模式</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
</tbody></table>

<aside class="notice">
ordType<br>
订单类型，创建新订单时必须指定，您指定的订单类型将影响需要哪些订单参数和撮合系统如何执行您的订单，以下是有效的ordType：<br>
普通委托：<br>
limit：限价单，要求指定sz 和 px<br>
market：自动以最高买/最低卖价格委托，遵循限价机制<br>
</aside>

<aside class="notice">
sz 指合约张数。
</aside>

<aside class="notice">
reduceOnly<br>
只减仓，下单时，此参数设置为 true 时，表示此笔订单具有减仓属性，只会减少持仓数量，不会增加新的持仓仓位<br>
当前只减仓下单张数，加上价格时间优先于当前只减仓下单的只减仓挂单张数总和，不能超过持仓数量<br>
仅适用于`现货和合约模式`和`跨币种保证金模式`<br>
</aside>
<h3 id="order-book-trading-signal-bot-trading-post-cancel-sub-order">POST / 撤单 </h3>
<p>撤销之前下的未完成订单。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/signal/cancel-sub-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/signal/cancel-sub-order
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"91664"</span>,
    <span class="s2">"signalOrdId"</span>:<span class="s2">"590908157585625111"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 BTC-USDT-SWAP</td>
</tr>
<tr>
<td style="text-align: left">signalOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"signalOrdId"</span><span class="p">:</span><span class="s2">"590908157585625111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code>表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，代码为0时，该字段为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">String</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; signalOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>

<aside class="notice">
撤单返回sCode等于0不能严格认为该订单已经被撤销，只表示您的撤单请求被系统服务器所接受，撤单结果以者查询订单状态为准<br>
</aside>
<h3 id="order-book-trading-signal-bot-trading-get-signal-bot-sub-orders">GET / 获取信号策略子订单信息 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/sub-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 查询已成交历史子订单</span>
GET /api/v5/tradingBot/signal/sub-orders?algoId<span class="o">=</span>623833708424069120&amp;algoOrdType<span class="o">=</span>contract&amp;state<span class="o">=</span>filled

<span class="c"># 查询指定子订单</span>
GET /api/v5/tradingBot/signal/sub-orders?algoId<span class="o">=</span>623833708424069120&amp;algoOrdType<span class="o">=</span>contract&amp;signalOrdId<span class="o">=</span>O632302662327996418
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">子订单状态<br><code>live</code>：未成交<br><code>partially_filled</code>：部分成交<br><code>filled</code>：已成交<br><code>canceled</code>：已取消<br>state 和 signalOrdId 必须传一个，若传两个，以 state 为主</td>
</tr>
<tr>
<td style="text-align: left">signalOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">子订单ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求<code>cTime</code>在此时间戳之后(包含)的数据，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求<code>cTime</code>在此时间戳之前(包含)的数据，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子订单类型<br><code>live</code>：未成交<br><code>filled</code>：已成交<br><code>即将废弃</code></td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子订单自定义订单ID  <br><code>即将废弃</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1572.81"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697024702320"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O632302662327996418"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.1415529"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"632302662351958016"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2.6784"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697024702322"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义策略ID，将来扩展使用。</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易产品ID</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略类型<br><code>contract</code>：合约信号</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单ID</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单自定义ID，等同于<code>signalOrdId</code></td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单交易模式<br><code>cross</code>：全仓<br><code>isolated</code>：逐仓<br><code>cash</code>：非保证金</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种<br>仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单<br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托数量</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单状态<br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交<br><code>filled</code>：完全成交<br><code>cancelling</code>：撤单中</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单订单方向<br><code>buy</code>：买<br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托价格</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费数量</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费币种</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单平均成交价格</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单持仓方向<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单收益</td>
</tr>
<tr>
<td style="text-align: left">ctVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值<br>仅支持<code>FUTURES/SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-signal-bot-trading-get-signal-bot-event-history">GET / 获取信号策略历史事件 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/signal/event-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/signal/event-history?algoId<span class="o">=</span>623833708424069120
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求<code>eventCtime</code>在此时间之前（更旧的数据）的分页内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求<code>eventCtime</code>此时间之后（更新的数据）的分页内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"alertMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">marketPosition</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">short</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">prevMarketPosition</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">long</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">action</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">sell</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">instrument</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ETHUSDT.P</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">timestamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2023-10-16T10:50:00.000Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">maxLag</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">60</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">investmentType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">base</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"623833708424069120"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventCtime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697453400959"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventProcessMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Processed reverse entry signal and placed ETH-USDT-SWAP order with all available balance"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signal_processing"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eventUtime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"triggeredOrdData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O634100754731765763"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O634100754752737282"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">],</span><span class="w">
     </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">eventType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件类型<br><code>system_action</code>：系统行为<br><code>user_action</code>：用户行为<br><code>signal_processing</code>：信号下单</td>
</tr>
<tr>
<td style="text-align: left">eventCtime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件发生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">eventUtime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">eventProcessMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件处理信息</td>
</tr>
<tr>
<td style="text-align: left">eventStatus</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件处理状态<br><code>success</code>：成功<br><code>failure</code>：失败</td>
</tr>
<tr>
<td style="text-align: left">triggeredOrdData</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">信号触发的子订单的信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单自定义ID</td>
</tr>
</tbody></table>
<h2 id="order-book-trading-recurring-buy">定投 </h2>
<p>定投是以固定的时间周期，投入固定的金额买入选定币种的策略。在市场波动较为剧烈时，运用适当的定投策略，以同样的投资额度可以在低点购入更多的筹码，可以使用户获得更加可观的收益。<a href="https://www.okx.com/cn/help/vii-recurring-buy">了解更多</a><br>
<code>定投</code>功能模块下的API接口需要身份验证。</p>
<h3 id="order-book-trading-recurring-buy-post-place-recurring-buy-order">POST / 定投策略委托下单 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则 ：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/recurring/order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/recurring/order-algo
body
<span class="o">{</span>
  <span class="s2">"stgyName"</span>: <span class="s2">"BTC|ETH recurring buy monthly"</span>,     
  <span class="s2">"amt"</span>:<span class="s2">"100"</span>,
  <span class="s2">"recurringList"</span>:[    
    <span class="o">{</span>
         <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
         <span class="s2">"ratio"</span>:<span class="s2">"0.2"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
         <span class="s2">"ccy"</span>:<span class="s2">"ETH"</span>,
         <span class="s2">"ratio"</span>:<span class="s2">"0.8"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"period"</span>:<span class="s2">"monthly"</span>,
  <span class="s2">"recurringDay"</span>:<span class="s2">"1"</span>,
  <span class="s2">"recurringTime"</span>:<span class="s2">"0"</span>,
  <span class="s2">"timeZone"</span>:<span class="s2">"8"</span>,   // 东8区
  <span class="s2">"tdMode"</span>:<span class="s2">"cross"</span>,
  <span class="s2">"investmentCcy"</span>:<span class="s2">"USDT"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stgyName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略自定义名称，不超过40个字符</td>
</tr>
<tr>
<td style="text-align: left">recurringList</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">是</td>
<td style="text-align: left">定投信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">定投币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">定投币种资产占比，如 "0.2"代表占比20%</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">周期类型<br><code>monthly</code>：月<br><code>weekly</code>：周<br><code>daily</code>：日<br><code>hourly</code>：小时</td>
</tr>
<tr>
<td style="text-align: left">recurringDay</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">投资日<br>当周期类型为<code>monthly</code>，则取值范围是 [1,28] 的整数<br>当周期类型为<code>weekly</code>，则取值范围是 [1,7] 的整数<br>当周期类型为<code>daily</code>/<code>hourly</code>，该参数可不填。</td>
</tr>
<tr>
<td style="text-align: left">recurringHour</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">小时级别定投的间隔<br><code>1</code>/<code>4</code>/<code>8</code>/<code>12</code><br>如：<code>1</code>代表每隔<code>1</code>个小时定投<br>当周期类型选择<code>hourly</code>，该字段必填。</td>
</tr>
<tr>
<td style="text-align: left">recurringTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资时间，取值范围是 [0,23] 的整数<br>当周期类型选择<code>hourly</code>代表首次定投发生的时间</td>
</tr>
<tr>
<td style="text-align: left">timeZone</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">时区（UTC），取值范围是 [-12,14] 的整数<br>如 <code>8</code>表示UTC+8（东8区），北京时间</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">每期投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投入数量单位，只能是<code>USDT</code>/<code>USDC</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易模式<br><code>跨币种保证金模式</code>/<code>组合保证金模式</code>下选择 <code>cross</code>：全仓<br><code>现货模式</code>/<code>现货和合约模式</code>下选择 <code>cash</code>：非保证金</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"560472804207104000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-post-amend-recurring-buy-order">POST / 修改定投策略订单 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/recurring/amend-order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/recurring/amend-order-algo
body
<span class="o">{</span>
    <span class="s2">"algoId"</span>:<span class="s2">"448965992920907776"</span>,
    <span class="s2">"stgyName"</span>:<span class="s2">"stg1"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">stgyName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">调整后的策略自定义名称</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="s2">"448965992920907776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-post-stop-recurring-buy-order">POST / 定投策略停止 </h3>
<p>每次最多可以撤销10个定投策略订单。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/tradingBot/recurring/stop-order-algo</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/tradingBot/recurring/stop-order-algo
body
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"algoId"</span>:<span class="s2">"560472804207104000"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1839309556514557952"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>订单标签</del>（已废弃）</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-get-recurring-buy-order-list">GET / 获取未完成定投策略委托单列表 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/recurring/orders-algo-pending</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/recurring/orders-algo-pending
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644497312047435776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932133373"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cycles"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investmentAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investmentCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mktCap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hourly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringDay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringHour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"recurringTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stgyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stg1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAnnRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699952473152"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：现货</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>recurring</code>：定投</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>pause</code>: 已暂停</td>
</tr>
<tr>
<td style="text-align: left">stgyName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略自定义名称，不超过40个字符</td>
</tr>
<tr>
<td style="text-align: left">recurringList</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">定投信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种资产占比，如 "0.2"代表占比20%</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期类型<br><code>monthly</code>：月<br><code>weekly</code>：周<br><code>daily</code>：日<br><code>hourly</code>：小时</td>
</tr>
<tr>
<td style="text-align: left">recurringDay</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资日<br>当周期类型为<code>monthly</code>，则取值范围是 [1,28] 的整数<br>当周期类型为<code>weekly</code>，则取值范围是 [1,7] 的整数</td>
</tr>
<tr>
<td style="text-align: left">recurringHour</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小时级别定投的间隔<br><code>1</code>/<code>4</code>/<code>8</code>/<code>12</code><br>如：<code>1</code>代表每隔<code>1</code>个小时定投</td>
</tr>
<tr>
<td style="text-align: left">recurringTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资时间，取值范围是 [0,23] 的整数</td>
</tr>
<tr>
<td style="text-align: left">timeZone</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时区（UTC），取值范围是 [-12,14] 的整数<br>如 <code>8</code>表示UTC+8（东8区），北京时间</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">每期投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入数量单位，只能是<code>USDT</code>/<code>USDC</code></td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">totalAnnRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">mktCap</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前总市值，单位为<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">cycles</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投累计轮数</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-get-recurring-buy-order-history">GET / 获取历史定投策略委托单列表 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/recurring/orders-algo-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/recurring/orders-algo-history
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>algoId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644496098429767680"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699931844050"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cycles"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investmentAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investmentCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mktCap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hourly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringDay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringHour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"recurringTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stopped"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stgyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stg1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAnnRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932177659"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：现货</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>recurring</code>：定投</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>stopped</code>：已停止</td>
</tr>
<tr>
<td style="text-align: left">stgyName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略自定义名称，不超过40个字符</td>
</tr>
<tr>
<td style="text-align: left">recurringList</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">定投信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种资产占比，如 "0.2"代表占比20%</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期类型<br><code>monthly</code>：月<br><code>weekly</code>：周<br><code>daily</code>：日<br><code>hourly</code>：小时</td>
</tr>
<tr>
<td style="text-align: left">recurringDay</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资日<br>当周期类型为<code>monthly</code>，则取值范围是 [1,28] 的整数<br>当周期类型为<code>weekly</code>，则取值范围是 [1,7] 的整数</td>
</tr>
<tr>
<td style="text-align: left">recurringHour</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小时级别定投的间隔<br><code>1</code>/<code>4</code>/<code>8</code>/<code>12</code><br>如：<code>1</code>代表每隔<code>1</code>个小时定投</td>
</tr>
<tr>
<td style="text-align: left">recurringTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资时间，取值范围是 [0,23] 的整数</td>
</tr>
<tr>
<td style="text-align: left">timeZone</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时区（UTC），取值范围是 [-12,14] 的整数<br>如 <code>8</code>表示UTC+8（东8区），北京时间</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">每期投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入数量单位，只能是<code>USDT</code>/<code>USDC</code></td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">totalAnnRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">mktCap</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前总市值，单位为<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">cycles</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投累计轮数</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-get-recurring-buy-order-details">GET / 获取定投策略委托订单详情 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/recurring/orders-algo-details</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/recurring/orders-algo-details?algoId<span class="o">=</span>644497312047435776
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644497312047435776"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932133373"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cycles"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investmentAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investmentCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mktCap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nextInvestTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699956005500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hourly"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringDay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringHour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"recurringList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36683.2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2058.36"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"recurringTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stgyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stg1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAnnRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699952485451"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：现货</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>recurring</code>：定投</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>stopped</code>：已停止<br><code>pause</code>: 已暂停</td>
</tr>
<tr>
<td style="text-align: left">stgyName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略自定义名称，不超过40个字符</td>
</tr>
<tr>
<td style="text-align: left">recurringList</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">定投信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种资产占比，如 "0.2"代表占比20%</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计购入定投币种的数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; profit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投收益，单位为<code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投均价，计价单位为<code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前价格，计价单位为<code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期类型<br><code>monthly</code>：月<br><code>weekly</code>：周<br><code>daily</code>：日<br><code>hourly</code>：小时</td>
</tr>
<tr>
<td style="text-align: left">recurringDay</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资日<br>当周期类型为<code>monthly</code>，则取值范围是 [1,28] 的整数<br>当周期类型为<code>weekly</code>，则取值范围是 [1,7] 的整数</td>
</tr>
<tr>
<td style="text-align: left">recurringHour</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小时级别定投的间隔<br><code>1</code>/<code>4</code>/<code>8</code>/<code>12</code><br>如：<code>1</code>代表每隔<code>1</code>个小时定投</td>
</tr>
<tr>
<td style="text-align: left">recurringTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资时间，取值范围是 [0,23] 的整数</td>
</tr>
<tr>
<td style="text-align: left">timeZone</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时区（UTC），取值范围是 [-12,14] 的整数<br>如 <code>8</code>表示UTC+8（东8区），北京时间</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">每期投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入数量</td>
</tr>
<tr>
<td style="text-align: left">investmentCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入数量单位，只能是<code>USDT</code>/<code>USDC</code></td>
</tr>
<tr>
<td style="text-align: left">nextInvestTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一次定投发生的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">totalAnnRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">mktCap</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前总市值，单位为<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">cycles</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投累计轮数</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-get-recurring-buy-sub-orders">GET / 获取定投策略子订单信息 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/tradingBot/recurring/sub-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/tradingBot/recurring/sub-orders?algoId<span class="o">=</span>560516615079727104
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子订单ID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为300，默认300条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.045315"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560516615079727104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1765.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1679911222200"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000317205"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560523524230717440"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1679911222207"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00071526"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560516615079727104"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27961.6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1679911222189"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.000000500682"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560523524184580096"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1679911222194"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>recurring</code>：定投</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单ID</td>
</tr>
<tr>
<td style="text-align: left">cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单交易模式<br><code>cross</code>：全仓 <code>cash</code>：非保证金</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单类型<br><code>market</code>：市价单</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托数量</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单状态<br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交<br><code>filled</code>：完全成交<br><code>cancelling</code>：撤单中</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单订单方向<br><code>buy</code>：买 <code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单委托价格<br>市价委托时为"-1"</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费数量</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单手续费币种</td>
</tr>
<tr>
<td style="text-align: left">avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单平均成交价格</td>
</tr>
<tr>
<td style="text-align: left">accFillSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子订单累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-recurring-buy-ws-recurring-buy-orders-channel">WS / 定投策略委托订单频道 </h3>
<p>支持定投策略订单的定时推送和事件推送</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"algo-recurring-buy"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"SPOT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>algo-recurring-buy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>ANY</code>：全部</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
        </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo-recurring-buy"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">algo-recurring-buy</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo-recurring-buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447*******584"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644497312047435776"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932133373"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cycles"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"investmentAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"investmentCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mktCap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextInvestTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699934415300"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699933314691"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hourly"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurringDay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurringHour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurringList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36482"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2057.54"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"recurringTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stgyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stg1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalAnnRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932136249"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：现货</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoOrdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单类型<br><code>recurring</code>：定投</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态<br><code>running</code>：运行中<br><code>stopping</code>：终止中<br><code>stopped</code>：已停止<br><code>pause</code>: 已暂停</td>
</tr>
<tr>
<td style="text-align: left">&gt; stgyName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略自定义名称，不超过40个字符</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringList</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">定投信息</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投币种资产占比，如 "0.2"代表占比20%</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; totalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计购入定投币种的数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; profit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投收益，单位为<code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; avgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投均价，计价单位为<code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前价格，计价单位为<code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">周期类型<br><br><code>monthly</code>：月<br><code>weekly</code>：周<br><code>daily</code>：日<br><code>hourly</code>：小时</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringDay</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资日<br>当周期类型为<code>monthly</code>，则取值范围是 [1,28] 的整数<br>当周期类型为<code>weekly</code>，则取值范围是 [1,7] 的整数</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringHour</td>
<td style="text-align: left">String</td>
<td style="text-align: left">小时级别定投的间隔<br><code>1</code>/<code>4</code>/<code>8</code>/<code>12</code><br>如：<code>1</code>代表每隔<code>1</code>个小时定投</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投资时间，取值范围是 [0,23] 的整数</td>
</tr>
<tr>
<td style="text-align: left">&gt; timeZone</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时区（UTC），取值范围是 [-12,14] 的整数<br>如 <code>8</code>表示UTC+8（东8区），北京时间</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">每期投入数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; investmentAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计投入数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; investmentCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">投入数量单位，只能是<code>USDT</code>/<code>USDC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; nextInvestTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一次定投发生的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; totalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalAnnRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总年化</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">&gt; mktCap</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前总市值，单位为<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; cycles</td>
<td style="text-align: left">String</td>
<td style="text-align: left">定投累计轮数</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">策略订单的推送时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="order-book-trading-copy-trading">跟单 </h2>
<p>带单 API 交易工作流程如下：<br><br></p>

<p><strong>1. 申请成为带单交易员</strong><br></p>

<ul>
<li>申请流程可以参考 <a href="https://www.okx.com/cn/help/11639154398221">如何申请成为交易员</a>；<br></li>
<li>可通过<a href="https://www.okx.com/docs-v5/zh/#trading-account-rest-api-get-account-configuration">查看账户配置</a>接口的<code>roleType</code> 或者 <code>spotRoleType</code> 是否为 1，判断当前账户是否为带单交易员。<br></li>
</ul>

<p><strong>2. 带单合约</strong><br></p>

<ul>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-leading-instruments">获取带单产品</a>接口，用于查看平台哪些合约支持带单，以及您开启了哪些合约的带单。对于您未开启带单的合约，依旧可以正常交易，只是不会触发跟单；<br></li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-amend-leading-instruments">交易员修改带单合约</a>接口，初始带单合约在申请带单交易员时进行设置，该接口用于修改您的带单合约。非带单合约修改为带单合约时，该次请求中所有的非带单合约合约不能有持仓或者挂单。<br></li>
</ul>

<p><strong>3. 开仓</strong></p>

<ul>
<li>需要通过下单接口和频道进行开仓，包括：<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-order">下单</a>接口、<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-multiple-orders">批量下单</a>接口、<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-order">下单频道</a>、<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-multiple-orders">批量下单频道</a>。<font color="red">现货带单时，<code>tdMode</code> 的值需要指定为<code>spot_isolated</code></font></li>
<li>在买卖模式下，委托的方向必须与现有持仓和挂单保持一致，如果对应产品没有持仓和挂单，可根据自己的需求选择委托方向；</li>
<li>开平仓模式下，可根据自己的需求选择开多或开空。</li>
</ul>

<p><strong>4. 平仓</strong></p>

<ul>
<li>可以通过下单接口和频道进行平仓，支持自定义价格和数量，包括：<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-order">下单</a>接口、<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-place-multiple-orders">批量下单</a>接口、<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-order">下单频道</a>、<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-ws-place-multiple-orders">批量下单频道</a>，也可以通过<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-close-positions">市价仓位全平</a>接口或者<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-close-lead-position">平仓带单</a>接口进行平仓；</li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-trade-post-close-positions">市价仓位全平</a>接口，平掉当前产品下指定的仓位（如：开平模式下，全仓模式下的多仓或空仓），可能包含多个带单；</li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-close-lead-position">平仓带单</a>接口，一次仅平仓某一个带单仓位。带单ID（subPosId）为必填参数，需要通过<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-existing-lead-positions">获取当前带单</a>接口获取。</li>
</ul>

<p><strong>5. 止盈止损</strong></p>

<ul>
<li>可以通过<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-place-lead-stop-order">带单仓位止盈止损</a>接口或者<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-place-algo-order">策略委托下单</a>接口设置止盈止损；</li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-post-place-lead-stop-order"> 带单仓位止盈止损</a>接口，一次仅为一个带单仓位设置。带单ID（subPosId）为必填参数，需要通过<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-existing-lead-positions">获取当前带单</a>接口获取。</li>
<li><a href="https://www.okx.com/docs-v5/zh/#order-book-trading-algo-trading-post-place-algo-order">策略委托下单</a>接口，为当前产品下指定的仓位（如：开平模式下，全仓模式下的多仓或空仓）设置，可能包含多个带单；</li>
</ul>
<h3 id="order-book-trading-copy-trading-get-existing-lead-positions">GET / 获取当前带单 </h3>
<p>获取当前未平仓的带单仓位。<br></p>

<p>按照开仓时间倒序排列。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/current-subpositions</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/current-subpositions?instId<span class="o">=</span>BTC-USDT-SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约<br>默认返回所有业务线的信息</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID ，如<code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为500，不填默认返回500条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.6417"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38205.8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37925.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701231120479"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"649945658862370816"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25CD5A80241D6FE6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2807"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0222042921442527"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availSubPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.6263333333333333"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38205.8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37879"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701225074786"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"649920301388038144"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpOrdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpTriggerPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25CD5A80241D6FE6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3268"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0258824150584758"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availSubPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br>long：开平仓模式开多 <br>short：开平仓模式开空 <br>net：买卖模式（subPos为正代表开多，subPos为负代表开空）</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式，<code>isolated</code>：逐仓 ；<code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">openOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员开仓订单号，仅适用于带单仓位</td>
</tr>
<tr>
<td style="text-align: left">openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">openTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓时间</td>
</tr>
<tr>
<td style="text-align: left">subPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓张数</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈触发价</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损触发价</td>
</tr>
<tr>
<td style="text-align: left">algoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损委托单ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈委托价，市价时为-1</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止损委托价，市价时为-1</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益</td>
</tr>
<tr>
<td style="text-align: left">uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新标记价格，仅适用于合约</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识代码</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">availSubPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可平张数/币数</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-position-history">GET / 获取历史带单 </h3>
<p>获取最近三个月的已经平仓的带单仓位，按照<code>subPosId</code>倒序排序。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/subpositions-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/subpositions-history?instId<span class="o">=</span>BTC-USDT-SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约<br>默认返回所有业务线的信息</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID ，如<code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37617.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701188587950"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.41"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38203.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37410"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701184638702"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6225"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0166399358460306"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0407967"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeSubPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"649750700213698561"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25CD5A80241D6FE6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37617.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701188587950"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.94"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38203.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37410"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701184635381"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.415"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0166399358460306"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"net"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0271978"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeSubPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"649750686292803585"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25CD5A80241D6FE6"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br>long：开平仓模式开多 <br>short：开平仓模式开空 <br>net：买卖模式（subPos为正代表开多，subPos为负代表开空）</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式，<code>isolated</code>：逐仓 ；<code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">openOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员开仓订单号，仅适用于带单仓位</td>
</tr>
<tr>
<td style="text-align: left">openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">openTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓时间</td>
</tr>
<tr>
<td style="text-align: left">subPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓张数</td>
</tr>
<tr>
<td style="text-align: left">closeTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓时间(最近一次平仓的时间)</td>
</tr>
<tr>
<td style="text-align: left">closeAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓均价</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益额</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新标记价格，仅适用于合约</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识代码</td>
</tr>
<tr>
<td style="text-align: left">profitSharingAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单分润额，仅适用于跟单，已经废弃。</td>
</tr>
<tr>
<td style="text-align: left">closeSubPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已平仓量</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓类型<br><code>1</code>：部分平仓;<br><code>2</code>：完全平仓;</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-place-lead-stop-order">POST / 带单或跟单仓位止盈止损 </h3>
<p>为当前未平仓的带单仓位设置止盈止损。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/algo-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/algo-order
body
<span class="o">{</span>
    <span class="s2">"subPosId"</span>: <span class="s2">"518541406042591232"</span>,
    <span class="s2">"tpTriggerPx"</span>: <span class="s2">"10000"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单或者跟单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止盈触发价，tpTriggerPx 和 slTriggerPx 至少需要填写一个<br>如果止盈触发价为0，那代表删除止盈。</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">止损触发价，<br>如果止损触发价为0，那代表删除止损</td>
</tr>
<tr>
<td style="text-align: left">tpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈委托价<br>委托价格为-1时，执行市价止盈，默认为市价止盈<br>仅适用于现货交易员</td>
</tr>
<tr>
<td style="text-align: left">slOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损委托价<br>委托价格为-1时，执行市价止损，默认为市价止损<br>仅适用于现货交易员</td>
</tr>
<tr>
<td style="text-align: left">tpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止盈触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为last</td>
</tr>
<tr>
<td style="text-align: left">slTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">止损触发价类型<br><code>last</code>：最新价格<br><code>index</code>：指数价格<br><code>mark</code>：标记价格<br>默认为last</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">subPosType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">数据的类型<br><code>lead</code>: 带单，默认值<br><code>copy</code>: 跟单</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"518560559046594560"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单或者跟单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-close-lead-position">POST / 平仓带单 </h3>
<p>一次仅可平仓一个带单仓位。<br>
<code>subPosId</code> 为必填参数，需要通过<a href="https://www.okx.com/docs-v5/zh/#order-book-trading-copy-trading-get-existing-lead-positions">交易员获取当前带单</a>接口获取。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/close-subposition</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/close-subposition
body
<span class="o">{</span>
    <span class="s2">"subPosId"</span>: <span class="s2">"518541406042591232"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单类型<br><code>market</code>：市价单<br><code>limit</code>：限价单<br>默认为市价单</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">委托价格，仅适用于<code>limit</code>类型的订单，且仅适用于现货交易员<br>委托价格为 0 代表撤销挂单<br>已经设置了限价单，仍为该条目设置价格时，视为改单。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"518560559046594560"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-leading-instruments">GET / 获取带单产品 </h3>
<p>获取平台支持带单的产品，以及获取带单员正在带单的产品</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/instruments</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/instruments

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约，默认值</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT-SWAP"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADA-USDT-SWAP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">enabled</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否设置了带单 <code>true</code> 或 <code>false</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-amend-leading-instruments">POST / 交易员修改带单产品 </h3>
<p>交易员修改带单产品的设置。初始带单产品在申请带单交易员时进行设置。<br>
非带单产品修改为带单产品时，该次请求中所有的非带单产品不能有持仓或者挂单。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/set-instruments</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/set-instruments
body
<span class="o">{</span>
    <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP,ETH-USDT-SWAP"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 BTC-USDT-SWAP，多个产品用半角逗号隔开</td>
</tr>
</tbody></table>

<aside class="notice">
如果进行多个产品带单，`instId`传值需要包括所有将要带单的产品，因为当前请求设置成功后，之前的设置会被覆盖掉<br>
</aside>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT-SWAP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品id， 如 BTC-USDT-SWAP</td>
</tr>
<tr>
<td style="text-align: left">enabled</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left"><code>true</code> 或 <code>false</code><br><code>true</code> 代表设置成功<br><code>false</code> 代表设置失败</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-profit-sharing-details">GET / 交易员历史分润明细 </h3>
<p>交易员获取最近三个月的分润明细。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/profit-sharing-details</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/profit-sharing-details?limit<span class="o">=</span>2

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约<br>默认返回所有业务线的信息</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>profitSharingId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>profitSharingId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Potato"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00536"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"148"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1723392000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apple"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00336"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1723392000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润币种</td>
</tr>
<tr>
<td style="text-align: left">profitSharingAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润额，没有分润时，默认返回0</td>
</tr>
<tr>
<td style="text-align: left">nickName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单人的昵称</td>
</tr>
<tr>
<td style="text-align: left">profitSharingId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
<tr>
<td style="text-align: left">portLink</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单员头像的链接地址</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润时间</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-total-profit-sharing">GET / 交易员历史分润汇总 </h3>
<p>交易员获取自入驻平台以来，累计获得的总分润金额。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/total-profit-sharing</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/total-profit-sharing

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约<br>默认返回所有业务线的信息</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalProfitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6584928"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润币种</td>
</tr>
<tr>
<td style="text-align: left">totalProfitSharingAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">历史分润汇总</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-unrealized-profit-sharing-details">GET / 交易员待分润明细 </h3>
<p>交易员获取预计在下一个周期分到的分润金额明细。<br>
当有跟单仓位平仓时，待分润明细会进行更新。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/unrealized-profit-sharing-details</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/unrealized-profit-sharing-details

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约<br>默认返回所有业务线的信息</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Potato"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1669901824779"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unrealizedProfitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.455472"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apple"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1669460210113"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unrealizedProfitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.033608"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润币种，如：<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">unrealizedProfitSharingAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">待分润额</td>
</tr>
<tr>
<td style="text-align: left">nickName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单人昵称</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
<tr>
<td style="text-align: left">portLink</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单员头像的链接地址</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-total-unrealized-profit-sharing">GET / 交易员待分润汇总 </h3>
<p>交易员获取待分润汇总。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/total-unrealized-profit-sharing</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/total-unrealized-profit-sharing

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SWAP：永续合约，默认值</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"profitSharingTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1705852800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalUnrealizedProfitSharingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.114402985553185"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">profitSharingTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前周期待分润总额的结算时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">totalUnrealizedProfitSharingAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">待分润总额</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-amend-profit-sharing-ratio">POST / 修改分润比例 </h3>
<p>修改分润比例</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/amend-profit-sharing-ratio</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/amend-profit-sharing-ratio
body
<span class="o">{</span>
    <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>,
    <span class="s2">"profitSharingRatio"</span>: <span class="s2">"0.1"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">分润比例。0.1 代表10%</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">设置结果<br><code>true</code>：设置成功</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-account-configuration">GET / 查看账户配置信息 </h3>
<p>获取跟单交易和带单交易相关的账户配置信息</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/config

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"copyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxCopyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"roleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"copyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxCopyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"roleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155***9957"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5506D3681454A304"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识代码</td>
</tr>
<tr>
<td style="text-align: left">nickName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">昵称</td>
</tr>
<tr>
<td style="text-align: left">portLink</td>
<td style="text-align: left">String</td>
<td style="text-align: left">头像的链接地址</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">String</td>
<td style="text-align: left">详情</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>: 币币<br><code>SWAP</code>: 永续合约</td>
</tr>
<tr>
<td style="text-align: left">&gt; roleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户角色<br><code>0</code>：普通用户<br><code>1</code>：带单者<br><code>2</code>：跟单者</td>
</tr>
<tr>
<td style="text-align: left">&gt; profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例，仅适用于带单员，0.1 代表 10%，否则为""</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxCopyTraderNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大跟单人数，仅适用于带单员</td>
</tr>
<tr>
<td style="text-align: left">&gt; copyTraderNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前跟单人数，仅适用于带单员</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-first-copy-settings">POST / 首次跟单设置 </h3>
<p>跟随某一交易员的首次设置，停止跟单后需先进行首次设置；<br></p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/first-copy-settings</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/first-copy-settings
body
<span class="o">{</span>
    <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>,
    <span class="s2">"uniqueCode"</span>: <span class="s2">"25CD5A80241D6FE6"</span>,
    <span class="s2">"copyMgnMode"</span>: <span class="s2">"cross"</span>,
    <span class="s2">"copyInstIdType"</span>: <span class="s2">"copy"</span>,
    <span class="s2">"copyMode"</span>: <span class="s2">"ratio_copy"</span>,
    <span class="s2">"copyRatio"</span>: <span class="s2">"1"</span>,
    <span class="s2">"copyTotalAmt"</span>: <span class="s2">"500"</span>,
    <span class="s2">"subPosCloseType"</span>: <span class="s2">"copy_close"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">copyMgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">跟单时的保证金模式<br><code>cross</code>: 全仓；<br><code>isolated</code>: 逐仓；<br><code>copy</code>: 跟随带单员</td>
</tr>
<tr>
<td style="text-align: left">copyInstIdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">跟单合约设置的类型<br><code>custom</code>: 用户自定义，instId 必填；<br><code>copy</code>: 跟随交易员，自动同步交易员的合约变更</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品 ID<br>可传入多条，以逗号区分</td>
</tr>
<tr>
<td style="text-align: left">copyMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">跟单模式<br><code>fixed_amount</code>: 固定金额跟单，<code>copyAmt</code>必填；<br><code>ratio_copy</code>: 比例跟单，<code>copyRatio</code>必填 <br>默认是<code>fixed_amount</code></td>
</tr>
<tr>
<td style="text-align: left">copyTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">跟单该交易员投入的最大跟单金额，单位为USDT。<br>超过该金额后将不再触发跟单行为</td>
</tr>
<tr>
<td style="text-align: left">copyAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">单笔跟随金额，单位为USDT</td>
</tr>
<tr>
<td style="text-align: left">copyRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">跟单比例</td>
</tr>
<tr>
<td style="text-align: left">tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">单笔止盈百分比，0.1 代表10%</td>
</tr>
<tr>
<td style="text-align: left">slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">单笔止损百分比，0.1 代表10%</td>
</tr>
<tr>
<td style="text-align: left">slTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">跟单止损总金额，单位为USDT<br>净损失达到该金额时，将自动解除跟单关系</td>
</tr>
<tr>
<td style="text-align: left">subPosCloseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">剩余仓位处理方式<br><code>market_close</code>: 立即市价全平<br><code>copy_close</code>：跟随交易员平仓<br><code>manual_close</code>: 手动处理<br>默认为 <code>copy_close</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">设置结果<br><code>true</code>：设置成功</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-amend-copy-settings">POST / 修改跟单设置 </h3>
<p>跟随某一交易员，完成首次设置后，修改设置时，需要使用该接口<br></p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/amend-copy-settings</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/amend-copy-settings
body
<span class="o">{</span>
    <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>,
    <span class="s2">"uniqueCode"</span>: <span class="s2">"25CD5A80241D6FE6"</span>,
    <span class="s2">"copyMgnMode"</span>: <span class="s2">"cross"</span>,
    <span class="s2">"copyInstIdType"</span>: <span class="s2">"copy"</span>,
    <span class="s2">"copyMode"</span>: <span class="s2">"ratio_copy"</span>,
    <span class="s2">"copyRatio"</span>: <span class="s2">"1"</span>,
    <span class="s2">"copyTotalAmt"</span>: <span class="s2">"500"</span>,
    <span class="s2">"subPosCloseType"</span>: <span class="s2">"copy_close"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">copyMgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">跟单时的保证金模式<br><code>cross</code>: 全仓；<br><code>isolated</code>: 逐仓；<br><code>copy</code>: 跟随带单员</td>
</tr>
<tr>
<td style="text-align: left">copyInstIdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">跟单合约设置的类型<br><code>custom</code>: 用户自定义，instId 必填；<br><code>copy</code>: 跟随交易员，自动同步交易员的合约变更</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品 ID<br>可传入多条，以逗号区分</td>
</tr>
<tr>
<td style="text-align: left">copyMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">跟单模式<br><code>fixed_amount</code>: 固定金额跟单，<code>copyAmt</code>必填；<br><code>ratio_copy</code>: 比例跟单，<code>copyRatio</code>必填 <br>默认是<code>fixed_amount</code></td>
</tr>
<tr>
<td style="text-align: left">copyTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">跟单该交易员投入的最大跟单金额，单位为USDT。<br>超过该金额后将不再触发跟单行为</td>
</tr>
<tr>
<td style="text-align: left">copyAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">单笔跟随金额，单位为USDT</td>
</tr>
<tr>
<td style="text-align: left">copyRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">跟单比例</td>
</tr>
<tr>
<td style="text-align: left">tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">单笔止盈百分比，0.1 代表10%</td>
</tr>
<tr>
<td style="text-align: left">slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">单笔止损百分比，0.1 代表10%</td>
</tr>
<tr>
<td style="text-align: left">slTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">跟单止损总金额，单位为USDT<br>净损失达到该金额时，将自动解除跟单关系</td>
</tr>
<tr>
<td style="text-align: left">subPosCloseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">剩余仓位处理方式<br><code>market_close</code>: 立即市价全平<br><code>copy_close</code>：跟随交易员平仓<br><code>manual_close</code>: 手动处理<br>默认为 <code>copy_close</code></td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">设置结果<br><code>true</code>：设置成功</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-post-stop-copying">POST / 停止跟单 </h3>
<p>该接口用来停止跟单<br></p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/copytrading/stop-copy-trading</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/copytrading/stop-copy-trading
body
<span class="o">{</span>
    <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>,
    <span class="s2">"uniqueCode"</span>: <span class="s2">"25CD5A80241D6FE6"</span>,
    <span class="s2">"subPosCloseType"</span>: <span class="s2">"manual_close"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">subPosCloseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">剩余仓位处理方式，有相关的跟单条目时必填<br><code>market_close</code>: 立即市价全平<br><code>copy_close</code>：跟随交易员平仓<br><code>manual_close</code>: 手动处理<br></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">设置结果<br><code>true</code>：设置成功</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-copy-settings">GET / 获取跟单设置 </h3>
<p>获取针对某个交易员的跟单设置</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/copy-settings</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/copy-settings?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>25CD5A80241D6FE6

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyInstIdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"copy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyMgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ratio_copy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTotalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADA-USDT-SWAP"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YFII-USDT-SWAP"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"slRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"slTotalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosCloseType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"copy_close"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tpRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">copyMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单模式<br><code>fixed_amount</code>: 固定金额跟单<br><code>ratio_copy</code>: 比例跟单</td>
</tr>
<tr>
<td style="text-align: left">copyAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔跟随金额，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">copyRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单比例</td>
</tr>
<tr>
<td style="text-align: left">copyTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单该交易员投入的最大跟单金额，单位为USDT</td>
</tr>
<tr>
<td style="text-align: left">tpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔止盈百分比，0.1 代表10%</td>
</tr>
<tr>
<td style="text-align: left">slRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔止损百分比，0.1 代表10%</td>
</tr>
<tr>
<td style="text-align: left">copyInstIdType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单合约设置的类型<br><code>custom</code>: 用户自定义 <br><code>copy</code>: 跟随交易员，自动同步交易员的合约变更</td>
</tr>
<tr>
<td style="text-align: left">instIds</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">可跟单的合约列表，会返回交易员所有带单合约</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品 ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; enabled</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否在跟单<br><code>0</code>: 没有在跟单 <code>1</code>: 在跟单</td>
</tr>
<tr>
<td style="text-align: left">slTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单止损总金额，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">subPosCloseType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">剩余仓位处理方式<br><code>market_close</code>: 立即市价全平<br><code>copy_close</code>：跟随交易员平仓<br><code>manual_close</code>: 手动处理</td>
</tr>
<tr>
<td style="text-align: left">copyMgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单时的保证金模式<br><code>cross</code>: 全仓；<br><code>isolated</code>: 逐仓；<br><code>copy</code>: 跟随带单员</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">copyState</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前跟单状态 <br><code>0</code>: 没在跟单<br><code>1</code>：在跟单</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-my-lead-traders">GET / 获取我的交易员 </h3>
<p>获取当前跟随的交易员</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/current-lead-traders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/current-lead-traders?instType<span class="o">=</span>SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"beginCopyTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701224821936"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTotalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTotalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"leadMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.89395"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trader9527"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitSharingRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.08"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"todayPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25CD5A80241D6FE6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">portLink</td>
<td style="text-align: left">String</td>
<td style="text-align: left">头像</td>
</tr>
<tr>
<td style="text-align: left">nickName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">昵称</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单交易占用的保证金</td>
</tr>
<tr>
<td style="text-align: left">copyTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单员设置的跟单总金额</td>
</tr>
<tr>
<td style="text-align: left">copyTotalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单总收益 (USDT)</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单员唯一标识代码</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">profitSharingRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">分润比例，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">beginCopyTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现盈亏</td>
</tr>
<tr>
<td style="text-align: left">todayPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">今日已实现收益</td>
</tr>
<tr>
<td style="text-align: left">leadMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单模式<br><code>public</code>: 公开模式<br><code>private</code>: 私域模式</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-copy-trading-configuration">GET / 获取跟单配置信息 </h3>
<p>公共接口，获取跟单设置时的参数配置信息</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-config?instType<span class="o">=</span>SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"maxCopyAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxCopyRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxCopyTotalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxSlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.75"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxTpRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minCopyAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minCopyRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">maxCopyAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">固定金额跟单时，单笔最大跟随金额</td>
</tr>
<tr>
<td style="text-align: left">minCopyAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">固定金额跟单时，单笔最小跟随金额</td>
</tr>
<tr>
<td style="text-align: left">maxCopyTotalAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大跟单金额（针对单个带单员），最小跟单金额同<code>minCopyAmt</code></td>
</tr>
<tr>
<td style="text-align: left">minCopyRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">比例跟单的单笔最小比率</td>
</tr>
<tr>
<td style="text-align: left">maxCopyRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">比例跟单的单笔最大比率</td>
</tr>
<tr>
<td style="text-align: left">maxTpRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔最大止盈比率，最小为 0</td>
</tr>
<tr>
<td style="text-align: left">maxSlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">单笔最大止损比率，最小为 0</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-ranks">GET / 获取交易员排名 </h3>
<p>公共接口，获取交易员排名信息。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-lead-traders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-lead-traders?instType<span class="o">=</span>SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">sortType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">排名类型<br><code>overview</code>: 综合排序，默认值<br><code>pnl</code>: 按照交易员收益额排序<br><code>aum</code>: 按照带单规模排序<br><code>win_ratio</code>: 胜率<br><code>pnl_ratio</code>: 收益率<br><code>current_copy_trader_pnl</code>: 当前跟单人的收益额</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易员的状态<br><code>0</code>: 所有交易员，默认值，包括有空缺和没有空缺 <br><code>1</code>: 有空缺的交易员</td>
</tr>
<tr>
<td style="text-align: left">minLeadDays</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">最短带单时长<br><code>1</code>: 7 天<br><code>2</code>: 30 天<br><code>3</code>: 90 天<br><code>4</code>: 180天</td>
</tr>
<tr>
<td style="text-align: left">minAssets</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易员资产范围的最小值，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">maxAssets</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易员资产范围的最大值，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">minAum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">带单规模的最小值，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">maxAum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">带单规模的最大值，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">dataVer</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">排名数据的版本，14 位数字，如：20231010182400，主要在分页时使用 <br>每10分钟生成一版，仅保留最新的5个版本<br>默认使用最近的版本；不存在时不会报错，会使用最近的版本。</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询页数</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为 20，不填默认返回 10 条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"dataVer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20231129213200"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ranks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"accCopyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3536"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"aum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1509265.3238761567721365"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"copyState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"copyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"leadDays"</span><span class="p">:</span><span class="w"> </span><span class="s2">"156"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxCopyTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crypto to the moon"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48805.1105999999972258"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6898"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pnlRatios"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"beginTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701187200000"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.6744"</span><span class="w">
                        </span><span class="p">},</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="nl">"beginTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1700755200000"</span><span class="p">,</span><span class="w">
                            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.649"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.okx.com/cdn/okex/users/headimages/20230624/f49a683aaf5949ea88b01bbc771fb9fc"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"traderInsts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"ICP-USDT-SWAP"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"MINA-USDT-SWAP"</span><span class="w">

                    </span><span class="p">],</span><span class="w">
                    </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"540D011FDACCB47A"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"winRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6957"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"totalPage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">dataVer</td>
<td style="text-align: left">String</td>
<td style="text-align: left">排名数据的版本</td>
</tr>
<tr>
<td style="text-align: left">totalPage</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总的页数</td>
</tr>
<tr>
<td style="text-align: left">ranks</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">交易员排名信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; aum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单规模，单位为USDT</td>
</tr>
<tr>
<td style="text-align: left">&gt; copyState</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前跟单状态 <br><code>0</code>: 没在跟单<br><code>1</code>：在跟单</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxCopyTraderNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最大跟单人数</td>
</tr>
<tr>
<td style="text-align: left">&gt; copyTraderNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单人数</td>
</tr>
<tr>
<td style="text-align: left">&gt; accCopyTraderNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计跟单人数</td>
</tr>
<tr>
<td style="text-align: left">&gt; portLink</td>
<td style="text-align: left">String</td>
<td style="text-align: left">头像</td>
</tr>
<tr>
<td style="text-align: left">&gt; nickName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">昵称</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识码</td>
</tr>
<tr>
<td style="text-align: left">&gt; winRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">胜率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">&gt; leadDays</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单天数</td>
</tr>
<tr>
<td style="text-align: left">&gt; traderInsts</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">交易员带单的合约列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">近90日交易员收益，单位为 USDT</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">近90日交易员收益率，0.1 代表 10%</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnlRatios</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">收益率数据</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; beginTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当天收益率的开始时间</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当天收益率</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-weekly-pnl">GET / 获取交易员收益周表现 </h3>
<p>公共接口，获取交易员最近12周的收益表现，按时间倒序返回</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-weekly-pnl</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-weekly-pnl?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>D9ADEAB33AE9EABD

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"beginTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701014400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2.8428"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0106"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"beginTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1700409600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81.8446"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3036"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">beginTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当周收益率的开始时间</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当周收益额</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当周收益率</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-daily-pnl">GET / 获取交易员收益日表现 </h3>
<p>公共接口，获取交易员每日的收益表现，按时间倒序返回</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-pnl</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-pnl?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>D9ADEAB33AE9EABD&amp;lastDays<span class="o">=</span>1

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">lastDays</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">最近天数<br><code>1</code>: 近 7 天 <br><code>2</code>: 近 30 天<br><code>3</code>: 近 90 天， <br><code>4</code>: 近 365 天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"beginTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701100800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"97.3309"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3672"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"beginTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701014400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96.7755"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3651"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">beginTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当天收益率的开始时间</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当天收益额</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当天收益率</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-stats">GET / 获取交易员带单情况 </h3>
<p>公共接口，获取交易员带单情况。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-stats</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-stats?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>D9ADEAB33AE9EABD&amp;lastDays<span class="o">=</span>1

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">lastDays</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">最近天数<br><code>1</code>: 近 7 天 <br><code>2</code>: 近 30 天<br><code>3</code>: 近 90 天， <br><code>4</code>: 近 365 天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"avgSubPosNotional"</span><span class="p">:</span><span class="w"> </span><span class="s2">"213.1038"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curCopyTraderPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96.8071"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"265.095252476476294"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lossDays"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profitDays"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"winRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6667"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">winRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">胜率</td>
</tr>
<tr>
<td style="text-align: left">profitDays</td>
<td style="text-align: left">String</td>
<td style="text-align: left">盈利天数</td>
</tr>
<tr>
<td style="text-align: left">lossDays</td>
<td style="text-align: left">String</td>
<td style="text-align: left">亏损天数</td>
</tr>
<tr>
<td style="text-align: left">curCopyTraderPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前跟随者收益 (USDT)</td>
</tr>
<tr>
<td style="text-align: left">avgSubPosNotional</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平均仓位价值 (USDT)</td>
</tr>
<tr>
<td style="text-align: left">investAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单本金 (USDT)</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-currency-preferences">GET / 获取交易员币种偏好 </h3>
<p>公共接口，获取交易员币种偏好，返回结果按 ratio 从大到小排序</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-preference-currency</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-preference-currency?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>CB4594A3BB5D3538

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8881"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0666"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YFII"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0453"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">占比，0.1 代表 10%</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-current-lead-positions">GET / 获取交易员当前带单 </h3>
<p>公共接口，获取交易员当前带单。<br></p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-current-subpositions</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-current-subpositions?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>D9ADEAB33AE9EABD

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SWAP：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易员唯一标识码</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.23304"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2027.31"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2029.13"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701144639417"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"short"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"649582930998104064"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D9ADEAB33AE9EABD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0728"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0044846806266725"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br>long：开平仓模式开多 <br>short：开平仓模式开空 <br>net：买卖模式（subPos为正代表开多，subPos为负代表开空）</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式，<code>isolated</code>：逐仓 ；<code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">openTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓时间</td>
</tr>
<tr>
<td style="text-align: left">subPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓张数</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金</td>
</tr>
<tr>
<td style="text-align: left">upl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益</td>
</tr>
<tr>
<td style="text-align: left">uplRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未实现收益率</td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新标记价格，仅适用于合约</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识代码</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-lead-trader-lead-position-history">GET / 获取交易员历史带单 </h3>
<p>公共接口，获取交易员最近三个月的已经平仓的带单仓位，按照<code>subPosId</code>倒序排序。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-subpositions-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-subpositions-history?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>9A8534AB09862774

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br>SWAP：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易员唯一标识码<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之前（更旧的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此id之后（更新的数据）的分页内容，传的值为对应接口的<code>subPosId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28385.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"closeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697709137162"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"margin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.245285"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28301.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697698048031"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.252"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05935997229868"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"635126416883355648"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9A8534AB09862774"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单仓位ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br>long：开平仓模式开多 <br>short：开平仓模式开空 <br>net：买卖模式（subPos为正代表开多，subPos为负代表开空）</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金模式，<code>isolated</code>：逐仓 ；<code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">openAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓均价</td>
</tr>
<tr>
<td style="text-align: left">openTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开仓时间</td>
</tr>
<tr>
<td style="text-align: left">subPos</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓张数</td>
</tr>
<tr>
<td style="text-align: left">closeTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓时间(最近一次平仓的时间)</td>
</tr>
<tr>
<td style="text-align: left">closeAvgPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平仓均价</td>
</tr>
<tr>
<td style="text-align: left">pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益额</td>
</tr>
<tr>
<td style="text-align: left">pnlRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收益率</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br>SPOT：币币<br>SWAP：永续合约</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识代码</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-get-copy-traders">GET / 获取跟单人信息 </h3>
<p>公共接口，获取交易员的跟单人信息，按收益从高到低返回</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/copytrading/public-copy-traders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/copytrading/public-copy-traders?instType<span class="o">=</span>SWAP&amp;uniqueCode<span class="o">=</span>D9ADEAB33AE9EABD

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约，默认值</td>
</tr>
<tr>
<td style="text-align: left">uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">带单交易员唯一标识码。<br>数字加字母组合 长度为16位，如：213E8C92DC61EFAC</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTotalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2060.12242"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTraderNumChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTraderNumChgRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"copyTraders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"beginCopyTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1686125051000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bre***@gmail.com"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1076.77388"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"beginCopyTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1698133811000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"nickName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MrYanDao505"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"983.34854"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"portLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.okx.com/cdn/okex/users/headimages/20231010/fd31f45e99fe41f7bb219c0b53ae0ada"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">copyTotalPnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单员总收益</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总收益币种名称</td>
</tr>
<tr>
<td style="text-align: left">copyTraderNumChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">近 7 日变化的跟单人数</td>
</tr>
<tr>
<td style="text-align: left">copyTraderNumChgRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">近 7 日跟单人数变化的比率</td>
</tr>
<tr>
<td style="text-align: left">copyTraders</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单员信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; beginCopyTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; nickName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">昵称</td>
</tr>
<tr>
<td style="text-align: left">&gt; portLink</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单员头像的链接地址</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnl</td>
<td style="text-align: left">String</td>
<td style="text-align: left">跟单收益</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-copy-trading-ws-lead-trading-notification-channel">WS / 带单消息通知频道 </h3>
<p>带单失败时的消息通知</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"copytrading-lead-notification"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名<br><code>copytrading-lead-notification</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"copytrading-lead-notification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aa993428"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">copytrading-lead-notification</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">WebSocket 连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"copytrading-lead-notification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"525627088439549953"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"infoType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLeadTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minLeadEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"667695035433385984"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3AF72F63E3EAD701"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户标识</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; infoType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息类型<br><code>1</code>: 带单失败，触发最大仓位限制<br><code>2</code>: 带单失败，触发带单次数限制<br><code>3</code>: 带单失败，交易账户 USDT 低于最小权益</td>
</tr>
<tr>
<td style="text-align: left">&gt; subPosId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单仓位 ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; uniqueCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易员唯一标识码</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品 ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向，<code>buy</code> <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向<br><code>long</code>：开平仓模式开多<br><code>short</code>：开平仓模式开空<br><code>net</code>：买卖模式</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxLeadTraderNum</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前交易员单日最大带单次数</td>
</tr>
<tr>
<td style="text-align: left">&gt; minLeadEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">带单最小 USDT 权益</td>
</tr>
</tbody></table>
<h2 id="order-book-trading-market-data">行情数据 </h2>
<p><code>行情数据</code>功能模块下的API接口不需要身份验证。</p>

<p>行情数据存在多个服务且每个服务有独立的缓存，每次会随机请求到某一个服务，所以会存在两次请求，第二次获取到的数据早于第一次的情况。</p>
<h3 id="order-book-trading-market-data-get-tickers">GET / 获取所有产品行情信息 </h3>
<p>获取产品行情信息</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/tickers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/tickers?instType<span class="o">=</span>SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取所有产品行情信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_tickers</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SWAP"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"LTC-USD-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"9999.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastSz"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"askPx"</span><span class="p">:</span><span class="s2">"9999.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"askSz"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bidPx"</span><span class="p">:</span><span class="s2">"8888.88"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bidSz"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"open24h"</span><span class="p">:</span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high24h"</span><span class="p">:</span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low24h"</span><span class="p">:</span><span class="s2">"8888.88"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc0"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc8"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"9999.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastSz"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"askPx"</span><span class="p">:</span><span class="s2">"9999.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"askSz"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bidPx"</span><span class="p">:</span><span class="s2">"8888.88"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bidSz"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"open24h"</span><span class="p">:</span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high24h"</span><span class="p">:</span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low24h"</span><span class="p">:</span><span class="s2">"8888.88"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc0"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc8"</span><span class="p">:</span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">lastSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交的数量，0 代表没有成交量</td>
</tr>
<tr>
<td style="text-align: left">askPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">卖一价</td>
</tr>
<tr>
<td style="text-align: left">askSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">卖一价的挂单数数量</td>
</tr>
<tr>
<td style="text-align: left">bidPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">买一价</td>
</tr>
<tr>
<td style="text-align: left">bidSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">买一价的挂单数量</td>
</tr>
<tr>
<td style="text-align: left">open24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时开盘价</td>
</tr>
<tr>
<td style="text-align: left">high24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时最高价</td>
</tr>
<tr>
<td style="text-align: left">low24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时最低价</td>
</tr>
<tr>
<td style="text-align: left">volCcy24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">vol24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">sodUtc0</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC 0  时开盘价</td>
</tr>
<tr>
<td style="text-align: left">sodUtc8</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC+8 时开盘价</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">ticker数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-get-ticker">GET / 获取单个产品行情信息 </h3>
<p>获取产品行情信息</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/ticker</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/ticker?instId<span class="o">=</span>BTC-USD-SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取单个产品行情信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_ticker</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD-SWAP"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56956.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56959.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10582"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56959"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4552"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55926"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57641.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54570.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81137.755"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46258703"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1620289117764"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sodUtc0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55926"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sodUtc8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55926"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交价</td>
</tr>
<tr>
<td style="text-align: left">lastSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交的数量，0 代表没有成交量</td>
</tr>
<tr>
<td style="text-align: left">askPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">卖一价</td>
</tr>
<tr>
<td style="text-align: left">askSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">卖一价对应的数量</td>
</tr>
<tr>
<td style="text-align: left">bidPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">买一价</td>
</tr>
<tr>
<td style="text-align: left">bidSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">买一价对应的数量</td>
</tr>
<tr>
<td style="text-align: left">open24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时开盘价</td>
</tr>
<tr>
<td style="text-align: left">high24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时最高价</td>
</tr>
<tr>
<td style="text-align: left">low24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时最低价</td>
</tr>
<tr>
<td style="text-align: left">volCcy24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">vol24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">sodUtc0</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC+0 时开盘价</td>
</tr>
<tr>
<td style="text-align: left">sodUtc8</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC+8 时开盘价</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">ticker数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-get-order-book">GET / 获取产品深度 </h3>
<p>获取产品深度列表</p>
<h4 id="40-2s">限速：40次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/books</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/books?instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取产品深度
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_orderbook</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">深度档位数量，最大值可传400，即买卖深度共800条 <br>不填写此参数，默认返回<code>1</code>档深度数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"41006.8"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0.60038921"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"41006.3"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0.30178218"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"2"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1629966436396"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">asks</td>
<td style="text-align: left">Array<string></string></td>
<td style="text-align: left">卖方深度</td>
</tr>
<tr>
<td style="text-align: left">bids</td>
<td style="text-align: left">Array<string></string></td>
<td style="text-align: left">买方深度</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">深度产生的时间</td>
</tr>
</tbody></table>

<aside class="notice">
合约的asks和bids值数组举例说明：&nbsp;["411.8","10", "0","4"]&nbsp;411.8为深度价格，10为此价格的合约张数，0该字段已弃用(始终为0)，4为此价格的订单数量<br>
现货/币币杠杆的asks和bids值数组举例说明：&nbsp;["411.8","10", "0","4"]&nbsp;411.8为深度价格，10为此价格的交易币的数量，0该字段已弃用(始终为0)，4为此价格的订单数量
asks和bids值数组举例说明：&nbsp;["411.8", "10", "0", "4"]<br>
- 411.8为深度价格<br>
- 10为此价格的数量 （合约交易为张数，现货/币币杠杆为交易币的数量）<br>
- 0该字段已弃用(始终为0)<br>
- 4为此价格的订单数量
</aside>

<aside class="notice">
集合竞价期间，深度数据大约每秒更新一次
</aside>
<h3 id="order-book-trading-market-data-get-full-order-book">GET / 获取产品完整深度 </h3>
<p>获取产品深度列表。数据每秒更新一次。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/books-full</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/books-full?instId<span class="o">=</span>BTC-USDT&amp;sz<span class="o">=</span>20
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">深度档位数量，最大值可传5000，即买卖深度共10000条 <br>不填写此参数，默认返回<code>1</code>档深度数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"41006.8"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0.60038921"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"41006.3"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0.30178218"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"2"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1629966436396"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">asks</td>
<td style="text-align: left">Array<string></string></td>
<td style="text-align: left">卖方深度</td>
</tr>
<tr>
<td style="text-align: left">bids</td>
<td style="text-align: left">Array<string></string></td>
<td style="text-align: left">买方深度</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">深度产生的时间</td>
</tr>
</tbody></table>

<aside class="notice">
合约的asks和bids值数组举例说明：&nbsp;["411.8", "10", "4"]&nbsp;411.8为深度价格，10为此价格的合约张数，4为此价格的订单数量<br>
现货/币币杠杆的asks和bids值数组举例说明：&nbsp;["411.8", "10", "4"]&nbsp;411.8为深度价格，10为此价格的交易币的数量，4为此价格的订单数量<br>
asks和bids值数组举例说明：&nbsp;["411.8", "10", "4"]<br>
- 411.8为深度价格<br>
- 10为此价格的数量 （合约交易为张数，现货/币币杠杆为交易币的数量）<br>
- 4为此价格的订单数量
</aside>

<aside class="notice">
集合竞价期间，深度数据大约每秒更新一次
</aside>
<h3 id="order-book-trading-market-data-get-candlesticks">GET / 获取交易产品K线数据 </h3>
<p>获取K线数据。K线数据按请求的粒度分组返回，K线数据每个粒度最多可获取最近1,440条。</p>
<h4 id="40-2s">限速：40次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/candles?instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交易产品K线数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_candlesticks</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">bar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>1m</code><br>如 [1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/2D/3D/1W/1M/3M]<br>UTC时间开盘价k线：[/6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc]</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code>, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为300，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"8422410"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"22698348.04828491"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"12698348.04828491"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"24912403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"67632347.24399722"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"37632347.24399722"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">volCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">volCcyQuote</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以计价货币为单位<br>如 <code>BTC-USDT</code>和<code>BTC-USDT-SWAP</code>，单位均是<code>USDT</code>。<br><code>BTC-USD-SWAP</code>单位是<code>USD</code>。</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态<br><code>0</code>：K线未完结<br><code>1</code>：K线已完结</td>
</tr>
</tbody></table>

<aside class="notice">
返回的第一条K线数据可能不是完整周期k线，返回值数组顺序分别为是：[ts,o,h,l,c,vol,volCcy,volCcyQuote,confirm] <br>
对于当前周期的K线数据，没有成交时，开高收低默认都取上一周期的收盘价格。
</aside>
<h3 id="order-book-trading-market-data-get-candlesticks-history">GET / 获取交易产品历史K线数据</h3>
<p>获取最近几年的历史k线数据(1s k线支持查询最近3个月的数据)</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/history-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/history-candles?instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交易产品历史K线数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_history_candlesticks</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code>, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">bar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>1m</code><br>如 [1s/1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/2D/3D/1W/1M/3M]<br>UTC时间开盘价k线：[6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc]</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"8422410"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"22698348.04828491"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"12698348.04828491"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"24912403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"67632347.24399722"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"37632347.24399722"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如  <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">volCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">volCcyQuote</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以计价货币为单位<br>如 <code>BTC-USDT</code>和<code>BTC-USDT-SWAP</code>，单位均是<code>USDT</code><br><code>BTC-USD-SWAP</code>单位是<code>USD</code></td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态<br><code>0</code>：K线未完结<br><code>1</code>：K线已完结</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,o,h,l,c,vol,volCcy,volCcyQuote,confirm]
</aside>

<aside class="notice">
期权不支持 1s K线， 其他业务线 (币币, 杠杆, 交割和永续)支持
</aside>
<h3 id="order-book-trading-market-data-get-trades">GET / 获取交易产品公共成交数据 </h3>
<p>查询市场上的成交信息数据</p>
<h4 id="100-2s">限速：100次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/trades?instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交易产品公共成交数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_trades</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为500，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29963.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242720720"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654161646974"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29964.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242720719"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654161641568"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量<br>对于币币交易，成交数量的单位为交易货币</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向<br><code>buy</code>：买<br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式， 如<code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
最多获取最近500条历史公共成交数据
</aside>
<h3 id="order-book-trading-market-data-get-trades-history">GET / 获取交易产品公共历史成交数据 </h3>
<p>查询市场上的成交信息数据，可以分页获取最近3个月的数据。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/history-trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/history-trades?instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交易产品公共历史成交数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_history_trades</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页类型<br><code>1</code>：tradeId 分页 <code>2</code>：时间戳分页<br>默认为<code>1</code>：tradeId 分页</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 或 ts 之前的分页内容，传的值为对应接口的 tradeId 或 ts</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的 tradeId。<br>不支持时间戳分页。单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29963.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242720720"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654161646974"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29964.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242720719"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654161641568"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向 <br><code>buy</code>：买  <br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式， 如<code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-get-option-trades-by-instrument-family">GET / 获取期权品种公共成交数据 </h3>
<p>查询期权同一个交易品种下的成交信息数据，最多返回100条。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/option/instrument-family-trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/option/instrument-family-trades?instFamily<span class="o">=</span>BTC-USD
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种，如 BTC-USD，适用于期权</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103381"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-221111-17750-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0075"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1668090715058"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-221111-17750-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1668090421062"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144499"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-230127-10000-P"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"82"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.019"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1668090967057"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-221111-16250-P"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0045"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1668090885050"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">vol24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以张为单位</td>
</tr>
<tr>
<td style="text-align: left">optType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权类型，<code>C</code>：看涨期权 <code>P</code>：看跌期权</td>
</tr>
<tr>
<td style="text-align: left">tradeInfo</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">成交数据列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向<br><code>buy</code>：买<br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式， 如1597026383085</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-get-option-trades">GET / 获取期权公共成交数据</h3>
<p>最多返回最近的100条成交数据</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/option-trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/option-trades?instFamily<span class="o">=</span>BTC-USD
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID，如 BTC-USD-221230-4000-C，<code>instId</code> 和 <code>instFamily</code> 必须传一个，若传两个，以 <code>instId</code> 为主</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种，如 BTC-USD</td>
</tr>
<tr>
<td style="text-align: left">optType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">期权类型，<code>C</code>：看涨期权 <code>P</code>：看跌期权</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.24415013671875"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16676.907614127158"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16667"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-221230-16600-P"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006308943261227884"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672225112048"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向 <br><code>buy</code>：买  <br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">optType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权类型，C：看涨期权 P：看跌期权 ，仅适用于期权</td>
</tr>
<tr>
<td style="text-align: left">fillVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率（对应成交价格）</td>
</tr>
<tr>
<td style="text-align: left">fwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格</td>
</tr>
<tr>
<td style="text-align: left">idxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的指数价格</td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式， 如<code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-get-24h-total-volume">GET / 获取平台24小时总成交量 </h3>
<p>24小时成交量滚动计算</p>
<h4 id="2-2s">限速：2次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/platform-24-volume</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/platform-24-volume

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取平台24小时总成交量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_volume</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">{</span><span class="w">
         </span><span class="nl">"volCny"</span><span class="p">:</span><span class="w"> </span><span class="s2">"230900886396766"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"volUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34462818865189"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1657856040389"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">volUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单簿交易近24小时总成交量，以美元为单位</td>
</tr>
<tr>
<td style="text-align: left">volCny</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单簿交易近24小时总成交量，以人民币为单位</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">接口返回数据时间</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-get-call-auction-details">GET / 集合竞价信息 </h3>
<p>获取集合竞价相关信息</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/call-auction-details</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/call-auction-details?instId<span class="o">=</span>ONDO-USDC

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>String</td>
<td>是</td>
<td>产品ID，如&nbsp;BTC-USDT</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONDO-USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unmatchedSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9988764"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchedSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44978"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"continuous_trading"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726542000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726542000007"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>eqPx</td>
<td>String</td>
<td>均衡价格</td>
</tr>
<tr>
<td>matchedSz</td>
<td>String</td>
<td>买卖双边的匹配数量，单位为交易货币</td>
</tr>
<tr>
<td>unmatchedSz</td>
<td>String</td>
<td>未匹配数量</td>
</tr>
<tr>
<td>auctionEndTime</td>
<td>String</td>
<td>集合竞价结束时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>交易状态<br><code>call_auction</code>：集合竞价<br><code>continuous_trading</code>：连续交易</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
在集合竞价期间，用户可以获取均衡价格、匹配数量、未匹配数量和集合竞价结束时间的更新。数据大约每秒更新一次。当集合竞价结束时，该接口将返回实际开盘价、匹配数量和未匹配数量。
<br>
对于从未进入集合竞价的交易产品，该接口也会返回结果，但交易状态字段state始终为`continuous_trading`，其他字段为0或空。
</aside>
<h3 id="order-book-trading-market-data-ws-tickers-channel">WS / 行情频道 </h3>
<p>获取产品的最新成交价、买一价、卖一价和24小时交易量等信息。<br>
最快100ms推送一次，没有触发事件时不推送，触发推送的事件有：成交、买一卖一发生变动。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"tickers"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>tickers</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">tickers</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-200327</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"askPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"askSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bidPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8888.88"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bidSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8888.88"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>产品类型</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt; last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>&gt; lastSz</td>
<td>String</td>
<td>最新成交的数量，0 代表没有成交量</td>
</tr>
<tr>
<td>&gt; askPx</td>
<td>String</td>
<td>卖一价</td>
</tr>
<tr>
<td>&gt; askSz</td>
<td>String</td>
<td>卖一价对应的量</td>
</tr>
<tr>
<td>&gt; bidPx</td>
<td>String</td>
<td>买一价</td>
</tr>
<tr>
<td>&gt; bidSz</td>
<td>String</td>
<td>买一价对应的数量</td>
</tr>
<tr>
<td>&gt; open24h</td>
<td>String</td>
<td>24小时开盘价</td>
</tr>
<tr>
<td>&gt; high24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>&gt; low24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>&gt; volCcy24h</td>
<td>String</td>
<td>24小时成交量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td>&gt; vol24h</td>
<td>String</td>
<td>24小时成交量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td>&gt; sodUtc0</td>
<td>String</td>
<td>UTC+0 时开盘价</td>
</tr>
<tr>
<td>&gt; sodUtc8</td>
<td>String</td>
<td>UTC+8 时开盘价</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-ws-candlesticks-channel">WS / K线频道 </h3>
<p>获取K线数据，推送频率最快是间隔1秒推送一次数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"candle1D"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>candle3M</code><br><code>candle1M</code><br><code>candle1W</code><br><code>candle1D</code><br><code>candle2D</code><br><code>candle3D</code><br><code>candle5D</code><br><code>candle12H</code><br><code>candle6H</code><br><code>candle4H</code><br><code>candle2H</code><br><code>candle1H</code><br><code>candle30m</code><br><code>candle15m</code><br><code>candle5m</code><br><code>candle3m</code><br><code>candle1m</code><br><code>candle1s</code><br><code>candle3Mutc</code><br><code>candle1Mutc</code><br><code>candle1Wutc</code><br><code>candle1Dutc</code><br><code>candle2Dutc</code><br><code>candle3Dutc</code><br><code>candle5Dutc</code><br><code>candle12Hutc</code><br><code>candle6Hutc</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candle1D"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">candle1D</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candle1D"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1629993600000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"42500"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"48199.9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"41006.1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"41006.1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"3587.41204591"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"166741046.22583129"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"166741046.22583129"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt; volCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">&gt; volCcyQuote</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易量，以计价货币为单位<br>如 <code>BTC-USDT</code>和<code>BTC-USDT-SWAP</code>单位均是<code>USDT</code>。<br><code>BTC-USD-SWAP</code>单位是<code>USD</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态<br><code>0</code>：K线未完结<br><code>1</code>：K线已完结</td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-ws-trades-channel">WS / 交易频道 </h3>
<p>获取最近的成交数据，有成交数据就推送，每次推送可能聚合多条成交数据。<br>
根据每个taker订单的不同成交价格推送消息，并使用count字段表示聚合的订单匹配数量。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"trades"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>trades</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">trades</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"130639474"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42219.9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12060306"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1630048897897"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">聚合的多笔交易中最新一笔交易的成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向<br><code>buy</code><br><code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; count</td>
<td style="text-align: left">String</td>
<td style="text-align: left">聚合的订单匹配数量</td>
</tr>
</tbody></table>

<aside class="notice">
聚合功能说明：<br>
1. 系统将根据每个taker订单的不同成交价格推送消息，并使用count字段表示聚合的订单匹配数量。<br>
2. tradeId是聚合的多笔交易中最新一笔交易的 ID。<br>
3. 当count = 1时，表示taker订单部分或完全成交时仅匹配了一个maker订单。<br>
4. 当count &gt; 1时，表示taker订单以相同价格匹配了多个maker订单。例如，如果tradeId = 123，且count = 3，表示该消息聚合了tradeId = 123, 122, 121的成交。maker侧有多笔价格相同的订单被成交。<br>
5. 用户可以使用此数据与“全部交易”频道的数据进行对比。<br>
6. 深度及聚合交易数据仍按顺序发布。<br>
</aside>
<h3 id="order-book-trading-market-data-ws-all-trades-channel">WS / 全部交易频道 </h3>
<p>获取最近的成交数据，有成交数据就推送，每次推送仅包含一条成交数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"trades-all"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>trades-all</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades-all"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">trades-all</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades-all"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"130639474"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42219.9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12060306"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1630048897897"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向<br><code>buy</code><br><code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-ws-order-book-channel">WS / 深度频道 </h3>
<p>获取深度数据，<code>books</code>是400档频道，<code>books5</code>是5档频道， <code>bbo-tbt</code>是先1档后实时推送的频道，<code>books-l2-tbt</code>是先400档后实时推送的频道，<code>books50-l2-tbt</code>是先50档后实时推的频道；</p>

<ul>
<li><code>books</code> 首次推400档快照数据，以后增量推送，每100毫秒推送一次变化的数据<br></li>
<li><code>books5</code> 首次推5档快照数据，以后定量推送，每100毫秒当5档快照数据有变化推送一次5档数据<br></li>
<li><code>bbo-tbt</code> 首次推1档快照数据，以后定量推送，每10毫秒当1档快照数据有变化推送一次1档数据<br></li>
<li><code>books-l2-tbt</code> 首次推400档快照数据，以后增量推送，每10毫秒推送一次变化的数据<br></li>
<li><code>books50-l2-tbt</code> 首次推50档快照数据，以后增量推送，每10毫秒推送一次变化的数据</li>
<li>单个连接、交易产品维度，深度频道的推送顺序固定为：bbo-tbt -&gt; books-l2-tbt -&gt; books50-l2-tbt -&gt; books -&gt; books5。</li>
<li>在相同连接下，用户将无法为相同交易产品同时订阅 <code>books-l2-tbt</code> 以及 <code>books50-l2-tbt/books</code>频道

<ul>
<li>更多细节，请参阅更新日志 <a href="https://www.okx.com/docs-v5/log_zh/#2024-07-17">2024-07-17</a></li>
</ul></li>
</ul>

<aside class="notice">
books-l2-tbt400档深度频道，只允许交易手续费等级VIP5及以上的API用户订阅。<br>
books50-l2-tbt50档深度频道，只允许交易手续费等级VIP4及以上的API用户订阅.<br>
</aside>

<p>身份认证参考<a href="https://www.okx.com/docs-v5/zh/#overview-websocket-login">登录</a>功能 </p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"books"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>books</code><br><code>books5</code><br><code>bbo-tbt</code><br><code>books-l2-tbt</code><br><code>books50-l2-tbt</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"books"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">books</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例 ：全量</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"books"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8476.98"</span><span class="p">,</span><span class="w"> </span><span class="s2">"415"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"13"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8477"</span><span class="p">,</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8477.34"</span><span class="p">,</span><span class="w"> </span><span class="s2">"85"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8477.56"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8505.84"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8506.37"</span><span class="p">,</span><span class="w"> </span><span class="s2">"85"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8506.49"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8506.96"</span><span class="p">,</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8476.97"</span><span class="p">,</span><span class="w"> </span><span class="s2">"256"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"12"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8475.55"</span><span class="p">,</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8475.54"</span><span class="p">,</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8475.3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8447.32"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8447.02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"246"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8446.83"</span><span class="p">,</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8446"</span><span class="p">,</span><span class="w"> </span><span class="s2">"95"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="mi">-855196043</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prevSeqId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"seqId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>推送示例：增量</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"books"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8476.98"</span><span class="p">,</span><span class="w"> </span><span class="s2">"415"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"13"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8477"</span><span class="p">,</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8477.34"</span><span class="p">,</span><span class="w"> </span><span class="s2">"85"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8477.56"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8505.84"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8506.37"</span><span class="p">,</span><span class="w"> </span><span class="s2">"85"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8506.49"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8506.96"</span><span class="p">,</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8476.97"</span><span class="p">,</span><span class="w"> </span><span class="s2">"256"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"12"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8475.55"</span><span class="p">,</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8475.54"</span><span class="p">,</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8475.3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8447.32"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8447.02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"246"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8446.83"</span><span class="p">,</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"8446"</span><span class="p">,</span><span class="w"> </span><span class="s2">"95"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="mi">-855196043</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prevSeqId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
        </span><span class="nl">"seqId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123457</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">action</td>
<td style="text-align: left">String</td>
<td style="text-align: left">推送数据动作，增量推送数据还是全量推送数据<br><code>snapshot</code>：全量  <br><code>update</code>：增量</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; asks</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">卖方深度</td>
</tr>
<tr>
<td style="text-align: left">&gt; bids</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">买方深度</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; checksum</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">检验和 （下方注解）</td>
</tr>
<tr>
<td style="text-align: left">&gt; prevSeqId</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">上一个推送的序列号。仅适用 <code>books</code>，<code>books-l2-tbt</code>，<code>books50-l2-tbt</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; seqId</td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">推送的序列号 （下方注解）</td>
</tr>
</tbody></table>

<aside class="notice">
asks和bids值数组举例说明：&nbsp;["411.8", "10", "0", "4"]<br>
- 411.8为深度价格<br>
- 10为此价格的数量 （合约交易为张数，现货/币币杠杆为交易币的数量<br>
- 0该字段已弃用(始终为0)<br>
- 4为此价格的订单数量
</aside>

<aside class="notice">
如果需要订阅多个50或400档频道，建议通过多个链接进行订阅，每个链接低于30条频道。
</aside>

<aside class="notice">
集合竞价期间，深度数据大约每秒更新一次
</aside>
<h4 id="9debf14c81">序列号</h4>
<p><code>seqId</code>是交易所行情的一个序号。如果用户通过多个websocket连接同一频道，收到的序列号会是相同的。每个<code>instId</code>对应一套。用户可以使用在增量推送频道的<code>prevSeqId</code>和<code>seqId</code>来构建消息序列。这将允许用户检测数据包丢失和消息的排序。正常场景下<code>seqId</code>的值大于<code>prevSeqId</code>。新消息中的<code>prevSeqId</code>与上一条消息的<code>seqId</code>匹配。最小序列号值为0，除了快照消息的<code>prevSeqId</code>为-1。<br></p>

<p>异常情况：<br>
1. 如果一段时间内没有深度更新，OKX将发一条消息<code>'asks': [], 'bids': []</code>以通知用户连接是正常的。推送的<code>seqId</code>跟上一条信息的一样，<code>prevSeqId</code>等于<code>seqId</code>。
2. 序列号可能由于维护而重置，在这种情况下，用户将收到一条<code>seqId</code>小于<code>prevSeqId</code>的增量消息。随后的消息将遵循常规的排序规则。</p>
<h5 id="30fd4ed55b">示例</h5>
<ol>
<li>快照推送：<code>prevSeqId = -1</code>，<code>seqId = 10</code></li>
<li>增量推送1（正常更新）：<code>prevSeqId = 10</code>，<code>seqId = 15</code></li>
<li>增量推送2（无更新）：<code>prevSeqId = 15</code>，<code>seqId = 15</code></li>
<li>增量推送3（序列重置）：<code>prevSeqId = 15</code>，<code>seqId = 3</code></li>
<li>增量推送4（正常更新）：<code>prevSeqId = 3</code>，<code>seqId = 5</code></li>
</ol>
<h4 id="checksum">Checksum机制</h4>
<p>此机制可以帮助用户校验深度数据的准确性。</p>
<h5 id="6b8c0ab1a4">深度合并</h5>
<p>用户订阅增量推送（如：<code>books</code>400档）深度频道成功后，首先获取初始全量深度数据，当获取到增量推送数据后，更新本地全量深度数据。 </p>

<ol>
<li>如果有相同价格，则比较数量；数量为0删除此深度，数量有变化则替换此数据。</li>
<li>如果没有相同价格，则按照价格优劣排序（bid为价格降序，ask为价格升序），将深度信息插入到全量数据中</li>
</ol>
<h5 id="ba62be084b">计算校验和</h5>
<p>先用深度合并后前25档bids和asks组成一个字符串（其中ask和bid中的价格和数量以冒号连接），再计算其crc32值（32位有符号整型）。  </p>

<blockquote>
<p>计算校验和 </p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>1.bid和ask超过25档
合并后全量深度数据（在此仅展示2档数据，实际应截取25档数据）：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3366.1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3366"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4"</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3366.8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3368"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>校验字符串：
"3366.1:7:3366.8:9:3366:6:3368:8"

2.bid或ask不足25档  
合并后全量深度数据：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3366.1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3366.8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3368"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"3372"</span><span class="p">,</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>校验字符串：
"3366.1:7:3366.8:9:3368:8:3372:8"
</code></pre></div>
<ol>
<li>当bid和ask深度数据超过25档时，截取各自25档数据，要校验的字符串按照bid、ask深度数据交替方式连接。<br>如：<code>bid[价格:数量]</code>:<code>ask[价格:数量]</code>:<code>bid[价格:数量]</code>:<code>ask[价格:数量]</code>...<br></li>
<li>bid或ask深度数据不足25档时，直接忽略缺失的深度。<br>如：<code>bid[价格:数量]</code>:<code>ask[价格:数量]</code>:<code>asks[价格:数量]</code>:<code>asks[价格:数量]</code>...</li>
</ol>

<blockquote>
<p>bbo-tbt 频道推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbo-tbt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
          </span><span class="s2">"111.06"</span><span class="p">,</span><span class="s2">"55154"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
          </span><span class="s2">"111.05"</span><span class="p">,</span><span class="s2">"57745"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1670324386802"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seqId"</span><span class="p">:</span><span class="w"> </span><span class="mi">363996337</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>books5 频道推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"books5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.06"</span><span class="p">,</span><span class="s2">"55154"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.07"</span><span class="p">,</span><span class="s2">"53276"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.08"</span><span class="p">,</span><span class="s2">"72435"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.09"</span><span class="p">,</span><span class="s2">"70312"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.1"</span><span class="p">,</span><span class="s2">"67272"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">]],</span><span class="w">
      </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.05"</span><span class="p">,</span><span class="s2">"57745"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.04"</span><span class="p">,</span><span class="s2">"57109"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.03"</span><span class="p">,</span><span class="s2">"69563"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.02"</span><span class="p">,</span><span class="s2">"71248"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.01"</span><span class="p">,</span><span class="s2">"65090"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">]],</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USDT-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1670324386802"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seqId"</span><span class="p">:</span><span class="w"> </span><span class="mi">363996337</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id="order-book-trading-market-data-ws-option-trades-channel">WS / 期权公共成交频道 </h3>
<p>获取最近的期权成交数据，有成交数据就推送，每次推送仅包含一条成交数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"option-trades"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"OPTION"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>option-trades</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型，<code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID，如 BTC-USD-221230-4000-C，<code>instId</code> 和 <code>instFamily</code> 必须传一个，若传两个，以 <code>instId</code> 为主</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种，如 BTC-USD</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"option-trades"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">option-trades</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"option-trades"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5066007836914062"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16469.69928595038"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16537.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-230224-18000-C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.04690107010619562"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.045"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672286551080"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>频道名</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td>交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeId</td>
<td style="text-align: left">String</td>
<td>成交ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td>成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td>成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td>成交方向 <br><code>buy</code>：买  <br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">&gt; optType</td>
<td style="text-align: left">String</td>
<td>期权类型，C：看涨期权 P：看跌期权 ，仅适用于期权</td>
</tr>
<tr>
<td style="text-align: left">&gt; fillVol</td>
<td style="text-align: left">String</td>
<td>成交时的隐含波动率（对应成交价格）</td>
</tr>
<tr>
<td style="text-align: left">&gt; fwdPx</td>
<td style="text-align: left">String</td>
<td>成交时的远期价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; idxPx</td>
<td style="text-align: left">String</td>
<td>成交时的指数价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; markPx</td>
<td style="text-align: left">String</td>
<td>成交时的标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td>成交时间，Unix时间戳的毫秒数格式， 如<code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="order-book-trading-market-data-ws-call-auction-details-channel">WS / 集合竞价信息频道 </h3>
<p>获取集合竞价相关信息</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"call-auction-details"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"ONDO-USDC"</span>
    <span class="o">}]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>call-auction-details</code></td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>是</td>
<td>产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"call-auction-details"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONDO-USDC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">call-auction-details</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>是</td>
<td>产品ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"call-auction-details"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONDO-USDC"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONDO-USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unmatchedSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9988764"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"matchedSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44978"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"continuous_trading"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726542000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726542000007"</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt; eqPx</td>
<td>String</td>
<td>均衡价格</td>
</tr>
<tr>
<td>&gt; matchedSz</td>
<td>String</td>
<td>买卖双边的匹配数量，单位为交易货币</td>
</tr>
<tr>
<td>&gt; unmatchedSz</td>
<td>String</td>
<td>未匹配数量</td>
</tr>
<tr>
<td>&gt; auctionEndTime</td>
<td>String</td>
<td>集合竞价结束时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>交易状态<br><code>call_auction</code>：集合竞价<br><code>continuous_trading</code>：连续交易</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
在集合竞价期间，用户可以获取均衡价格、匹配数量、未匹配数量和集合竞价结束时间的更新。数据大约每秒更新一次。当集合竞价结束时，该频道将推送最后一条消息，返回实际开盘价、匹配数量和未匹配数量，交易状态state为`continuous_trading`。
</aside>
<h1 id="block-trading">大宗交易 </h1><h2 id="block-trading-block-trading-workflow">大宗交易工作流程 </h2>
<p>大宗交易时指在非公开市场进行的、私下议定的、满足规定最小交易手数的期货、期权、交割、永续或混合产品的大单交易。
交易细节一经确认，此笔交易会被提交到OKX以进行保证金计算，清算和执行。</p>

<p><strong>基本概念</strong></p>

<ol>
<li><strong>询价单（RFQs） -</strong> 询价单，由询价方发给报价方. 询价单包括询价方希望交易的一种或多种产品及其数量。</li>
<li><strong>报价单 -</strong> 报价单，由报价方发给询价方对询价单的报价。</li>
<li><strong>交易</strong>  - 当询价方接受并执行报价方的报价单，一笔交易就由此产生。</li>
</ol>

<p><strong>基本工作流程</strong> </p>

<p>要以询价方或报价方身份进行交易，用户需要在交易账户中存入至少100,000美元。
此外，要成为报价方<a href="https://share.hsforms.com/1mYdfKtJJR3CC03IyCeC6hg3a1fq">请填写表格以访问大宗交易</a>.</p>

<ol>
<li>询价方创建一个询价单（RFQ），并选择希望收到此询价单的报价方。&nbsp;</li>
<li>不同报价方发送报价单回应此询价单。</li>
<li>询价方选择执行最好的报价单产生交易。OKX收到此笔交易并做结算。</li>
<li>询价方和报价方收到交易执行的确认。</li>
<li>交易详情发布在公共市场数据频道上（不包含交易方信息）。</li>
</ol>

<p><strong>询价方角度</strong></p>

<ol>
<li>询价方使用<code>POST /api/v5/rfq/create-rfq</code>创建询价单。询价方可通过<code>GET /api/v5/public/instruments</code>查询可询价产品信息，并通过<code>GET /api/v5/rfq/counterparties</code>查询可选择报价方信息。</li>
<li>询价方可以在询价单有效的任何时候通过<code>POST /api/v5/rfq/cancel-rfq</code>取消询价单。</li>
<li>报价方，如果是询价方选择的报价方之一，会在<code>rfqs</code>推送频道收到询价单信息，并可作出相应报价。</li>
<li>询价方，在<code>quotes</code>推送频道收到报价信息后，可以选择最优报价并通过<code>POST /api/v5/rfq/execute-quote</code>执行。</li>
<li>询价方会在<code>struc-block-trades</code>和<code>rfqs</code>推送频道收到交易成功执行确认。</li>
<li>询价方也会在<code>public-struc-block-trades</code>推送频道收到此笔交易以及其他OKX大宗交易的确认信息。</li>
</ol>

<p><strong>报价方角度</strong></p>

<ol>
<li>当有一个新的询价单发出，并且报价方是被选择的报价方之一时，报价方会在rfqs推送频道接收到此询价单信息。</li>
<li>报价方创建一个单向或者双向的报价单并通过<code>POST /api/v5/rfq/create-quote</code>发出。</li>
<li>报价方可以通过<code>POST /api/v5/rfq/cancel-quote</code>任意取消一个有效的报价单。</li>
<li>询价方选择执行最优报价单。</li>
<li>报价方通过<code>quotes</code>推送频道接收他们报价单的状态更新。</li>
<li>报价方会在<code>struc-block-trades</code>和<code>quotes</code>推送频道收到他们报价单的交易成功执行确认。</li>
<li>报价方也会在<code>public-struc-block-trades</code>推送频道收到此笔交易以及其他OKX大宗交易的确认信息。</li>
</ol>
<h2 id="block-trading-rest-api">REST API </h2>
<aside class="notice">
现货模式下不支持大宗交易
</aside>
<h3 id="block-trading-rest-api-get-counterparties">获取报价方信息 </h3>
<p>查询可以参与交易的报价方信息。</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rfq/counterparties</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/counterparties

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取报价方信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">counterparties</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"traderName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Satoshi Nakamoto"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SATOSHI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="50faad05f3">响应参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">traderName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方名称</td>
</tr>
<tr>
<td style="text-align: left">traderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方唯一标识代码，公开可见；报价和询价的相关接口都使用该代码代表报价方。</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方类型。<code>LP</code>指通过API连接的自动做市商。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-create-rfq">询价 </h3>
<p>创建一个询价单。</p>

<aside class="notice">
<br>
在模拟交易中询价时，请选择交易机器人“WAGMI”作为交易对手。<br>
交易机器人提供的报价仅供参考。 
</aside>

<p>了解更多，请访问<a href="https://www.okx.com/cn/help/demo-trading">帮助中心 &gt; 常见问题 &gt; 交易 &gt; 流动性市场 &gt; 模拟交易</a></p>
<h4 id="5-2s-150-12h">限速: 5次/2s；150次/12h</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/create-rfq</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/create-rfq

<span class="o">{</span>
    <span class="s2">"anonymous"</span>: <span class="nb">true</span>,
    <span class="s2">"counterparties"</span>:[
        <span class="s2">"Trader1"</span>,
        <span class="s2">"Trader2"</span>
    <span class="o">]</span>,
    <span class="s2">"allowPartialExecution"</span>:false,
    <span class="s2">"clRfqId"</span>:<span class="s2">"rfq01"</span>,
    <span class="s2">"tag"</span>:<span class="s2">"123456"</span>,
    <span class="s2">"legs"</span>:[
        <span class="o">{</span>
            <span class="s2">"sz"</span>:<span class="s2">"25"</span>,
            <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
            <span class="s2">"posSide"</span>: <span class="s2">"long"</span>,
            <span class="s2">"tdMode"</span>:<span class="s2">"cross"</span>,
            <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USD-221208-100000-C"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"sz"</span>:<span class="s2">"150"</span>,
            <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
            <span class="s2">"posSide"</span>: <span class="s2">"long"</span>,
            <span class="s2">"tdMode"</span>:<span class="s2">"cross"</span>,
            <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"ETH-USDT"</span>,
            <span class="s2">"tgtCcy"</span>:<span class="s2">"base_ccy"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 询价
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">create_rfq</span><span class="p">(</span>
    <span class="n">anonymous</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">counterparties</span><span class="o">=</span><span class="p">[</span>
        <span class="s">"Trader1"</span><span class="p">,</span>
        <span class="s">"Trader2"</span>
    <span class="p">],</span>
    <span class="n">clRfqId</span><span class="o">=</span> <span class="s">"rfq01"</span><span class="p">,</span>
    <span class="n">legs</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"sz"</span><span class="p">:</span><span class="s">"25"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span><span class="s">"buy"</span><span class="p">,</span>
            <span class="s">"posSide"</span><span class="p">:</span> <span class="s">"long"</span><span class="p">,</span>
            <span class="s">"tdMode"</span><span class="p">:</span><span class="s">"cross"</span><span class="p">,</span>
            <span class="s">"ccy"</span><span class="p">:</span><span class="s">"USDT"</span><span class="p">,</span>
            <span class="s">"instId"</span><span class="p">:</span><span class="s">"BTC-USD-221208-100000-C"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"sz"</span><span class="p">:</span><span class="s">"150"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span><span class="s">"buy"</span><span class="p">,</span>
            <span class="s">"posSide"</span><span class="p">:</span> <span class="s">"long"</span><span class="p">,</span>
            <span class="s">"tdMode"</span><span class="p">:</span><span class="s">"cross"</span><span class="p">,</span>
            <span class="s">"ccy"</span><span class="p">:</span><span class="s">"USDT"</span><span class="p">,</span>
            <span class="s">"instId"</span><span class="p">:</span><span class="s">"ETH-USDT"</span><span class="p">,</span>
            <span class="s">"tgtCcy"</span><span class="p">:</span><span class="s">"base_ccy"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">counterparties</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">是</td>
<td style="text-align: left">希望收到询价的报价方列表，可通过<code>/api/v5/rfq/counterparties/</code>获取。</td>
</tr>
<tr>
<td style="text-align: left">anonymous</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否匿名询价，<code>true</code>表示匿名询价，<code>false</code>表示公开询价，默认值为 <code>false</code>，为<code>true</code>时，即使在交易执行之后，身份也不会透露给报价方。</td>
</tr>
<tr>
<td style="text-align: left">clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单自定义ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单标签，与此询价单关联的大宗交易将有相同的标签。 <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">allowPartialExecution</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">RFQ是否可以被部分执行，如果腿的比例和原RFQ一致。有效值为<code>true</code>或<code>false</code>。默认为<code>false</code>。</td>
</tr>
<tr>
<td style="text-align: left">legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">是</td>
<td style="text-align: left">组合交易，每次最多可以提交15组交易信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; lmtPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价方期望的报价价格<br> 若提供了该字段，在报价价格优于或等于所指定价格，询价将自动被执行，直到该询价单被取消或过期为止。<br> 该字段必须提供所有组合交易的价格，以便自动执行询价；或者对所有组合交易留空，否则请求将被拒绝。<br> 自动执行的方向取决于询价单的腿方向。<br> 对于<code>币币/币币杠杆/交割/永续</code>，lmtPx将以计价货币单位计算。<br> 对于<code>期权</code>，lmtPx将以结算货币单位计算。<br> 该字段不会被披露给交易对手方。</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">询价单方向</td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓方向 <br>买卖模式下默认为<code>net</code>。在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 <br>如未指定，则处于开平仓模式下的用户始终会开新仓位。 <br>仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1611033737572"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1611033737572"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="s2">"SATOSHI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"22534"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"rfq01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowPartialExecution"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="s2">"1611033857557"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterparties"</span><span class="p">:[</span><span class="w">
                </span><span class="s2">"Trader1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Trader2"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-221208-100000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETH-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"150"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">"base_ccy"</span><span class="w">     
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">询价单结果</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单创建时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单状态更新时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单的状态<br>有效值为 <code>active</code> <code>canceled</code> <code>pending_fill</code> <code>filled</code> <code>expired</code> <code>traded_away</code> <code>failed</code> <br><code>traded_away</code> 仅适用于报价方</td>
</tr>
<tr>
<td style="text-align: left">&gt; counterparties</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">报价方列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; validUntil</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单的过期时间，Unix时间戳的毫秒数格式。<br>若所有腿都为期权，则询价单将在10分钟后过期；其他情况，询价单将在2分钟后过期。</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID，为客户端敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">RFQ标签，与此RFQ关联的大宗交易将有相同的标签。</td>
</tr>
<tr>
<td style="text-align: left">&gt; allowPartialExecution</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">RFQ是否可以被部分执行，如果腿的比例和原RFQ一致。有效值为<code>true</code>或<code>false</code>。未指定时，默认为<code>false</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; traderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价方唯一标识代码。</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易，每个请求最多可放置15条腿</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 "BTC-USDT-SWAP"</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单方向 <br>有效值为<code>buy</code>和<code>sell</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br>买卖模式下默认为<code>net</code>。如未指定，则返回""，相当于<code>net</code>。 <br>在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 如未指定，则返回""，对应于为交易开新仓位的方向（买入=&gt;<code>long</code>，卖出=&gt;<code>short</code>）。<br>仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-rfq">取消询价单 </h3>
<p>取消一个询价单。</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/cancel-rfq</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-rfq
<span class="o">{</span>
    <span class="s2">"rfqId"</span>:<span class="s2">"22535"</span>,
    <span class="s2">"clRfqId"</span>:<span class="s2">"rfq001"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 取消询价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">cancel_rfq</span><span class="p">(</span>
    <span class="n">rfqId</span><span class="o">=</span><span class="s">"22535"</span><span class="p">,</span>
    <span class="n">clRfqId</span><span class="o">=</span><span class="s">"rfq001"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">询价单自定义ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。<br>当 clRfqId 和 rfqId 都传时，以 rfqId 为准。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"22535"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"rfq001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">RFQ ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的 RFQ ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-multiple-rfqs">批量取消询价单 </h3>
<p>取消一个或多个询价单，每次最多可以撤销100个询价单。</p>
<h4 id="2-2s">限速: 2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/cancel-batch-rfqs</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-batch-rfqs
<span class="o">{</span>
    <span class="s2">"rfqIds"</span>:[
        <span class="s2">"2201"</span>,
        <span class="s2">"2202"</span>,
        <span class="s2">"2203"</span>
    <span class="o">]</span>,
    <span class="s2">"clRfqIds"</span>:[
        <span class="s2">"r1"</span>,
        <span class="s2">"r2"</span>,
        <span class="s2">"r3"</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 批量取消询价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">cancel_batch_rfqs</span><span class="p">(</span>
    <span class="n">rfqIds</span><span class="o">=</span><span class="p">[</span>
        <span class="s">"2201"</span><span class="p">,</span>
        <span class="s">"2202"</span><span class="p">,</span>
        <span class="s">"2203"</span>
    <span class="p">],</span>
    <span class="n">clRfqIds</span><span class="o">=</span><span class="p">[</span>
        <span class="s">"r1"</span><span class="p">,</span>
        <span class="s">"r2"</span><span class="p">,</span>
        <span class="s">"r3"</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqIds</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">询价单IDs</td>
</tr>
<tr>
<td style="text-align: left">clRfqIds</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">询价单自定义ID，当 clRfqIds 和 rfqIds 都传时，以 rfqIds 为准。</td>
</tr>
</tbody></table>

<blockquote>
<p>全部成功示例 </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2201"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2202"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2203"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>部分成功示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"Bulk operation partially "</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2201"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"RFQ does not exist."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2202"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2203"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"Operation failed."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2201"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"RFQ does not exist."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2202"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"RFQ does not exist."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"2203"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"RFQ does not exist."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID.</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-all-rfqs">取消所有询价单 </h3>
<p>取消所有询价单</p>
<h4 id="2-2s">限速: 2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/cancel-all-rfqs</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-all-rfqs

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 取消所有询价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">cancel_all_rfqs</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1697026383085"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成功取消时间，Unix时间戳的毫秒数格式，例如 1597026383085。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-execute-quote">执行报价</h3>
<p>执行报价，仅限询价的创建者使用</p>
<h4 id="2-3s">限速: 2次/3s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/execute-quote</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"22540"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"84073"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-20220114-13250-C"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 执行报价
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">execute_quote</span><span class="p">(</span>
    <span class="n">rfqId</span><span class="o">=</span><span class="s">"22540"</span><span class="p">,</span>
    <span class="n">quoteId</span><span class="o">=</span><span class="s">"84073"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用于部分执行的腿的数量。腿的数量比例必须与原RFQ相同。注意：每条腿的<code>tgtCcy</code>和<code>side</code>和原RFQ一致，<code>px</code>和对应Quote一致。</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID, 如 "BTC-USDT-SWAP".</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">该条腿的部分执行数量</td>
</tr>
</tbody></table>

<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">  
   </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
       </span><span class="p">{</span><span class="w">
            </span><span class="nl">"blockTdId"</span><span class="p">:</span><span class="s2">"180184"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"1419"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"r0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1046"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tTraderCode"</span><span class="p">:</span><span class="s2">"Trader1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mTraderCode"</span><span class="p">:</span><span class="s2">"Trader2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1649670009"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"43000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-20220114-13250-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"-1.001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"10211"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"42800"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"-1.001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"10212"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="50faad05f3">响应参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易执行的时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单自定义ID，为客户敏感信息，不会公开，对询价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; blockTdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">大宗交易ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; tTraderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价价方唯一标识代码。询价时 anonymous 设置为 <code>true</code> 时不可见。</td>
</tr>
<tr>
<td style="text-align: left">&gt; mTraderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方唯一标识代码。 报价时 anonymous 设置为 <code>true</code> 时不可见。</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单方向，<code>buy</code> 或者 <code>sell</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费，正数代表平台返佣 ，负数代表平台扣除</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费币种</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新的成交Id.</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-quote-products">获取可报价产品 </h3>
<p>用于maker查询特定的接受询价和报价的产品, 以及数量和价格范围。</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>GET /api/v5/rfq/maker-instrument-settings</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/maker-instrument-settings
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"includeALL"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBlockSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"makerPxBand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SOL-USD"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBlockSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"makerPxBand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"includeALL"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBlockSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"makerPxBand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBlockSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"makerPxBand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType:"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"includeALL"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBlockSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"makerPxBand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType:"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"includeALL"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRX-USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code> 表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为<code>0</code>，则不为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">请求返回值，包含请求结果</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类别，枚举值包括<code>FUTURES</code>,<code>OPTION</code>,<code>SWAP</code>和<code>SPOT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; includeAll</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否接收该instType下所有产品。有效值为<code>true</code>或<code>false</code>。默认<code>false</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">instType的元素</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br><code>交割/永续/期权</code>情况下必填</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code>。对<code>SPOT</code>产品类别有效且必须。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; maxBlockSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">该种产品最大可交易数量。FUTURES, OPTION and SWAP 的单位是合约数量。SPOT的单位是交易货币。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; makerPxBand</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价格限制以价格精度tick为单位，以标记价格为基准。<br>设置makerPxBand为1个tick代表: <br>如果买一价  &gt; 标记价格 + 1 tick, 操作将被拦截 <br>如果 买一价 &lt; 标记价格 - 1 tick, 操作将被拦截</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-set-quote-products">设置可报价产品 </h3>
<p>用于maker设置特定的接受询价和报价的产品, 以及数量和价格范围。</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/maker-instrument-settings</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/maker-instrument-settings
<span class="o">[</span>
    <span class="o">{</span>
     <span class="s2">"instType"</span>: <span class="s2">"OPTION"</span>,
     <span class="s2">"data"</span>:
        <span class="o">[{</span>
            <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>,
            <span class="s2">"maxBlockSz"</span>: <span class="s2">"10000"</span>,
            <span class="s2">"makerPxBand"</span>: <span class="s2">"5"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"instFamily"</span>: <span class="s2">"SOL-USD"</span>,
            <span class="s2">"maxBlockSz"</span>: <span class="s2">"100000"</span>,
            <span class="s2">"makerPxBand"</span>: <span class="s2">"15"</span>
        <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
     <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
     <span class="s2">"data"</span>:
        <span class="o">[{</span>
            <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>,
            <span class="s2">"maxBlockSz"</span>: <span class="s2">"10000"</span>,
            <span class="s2">"makerPxBand"</span>: <span class="s2">"5"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"instFamily"</span>: <span class="s2">"ETH-USDT"</span>,
            <span class="s2">"maxBlockSz"</span>: <span class="s2">"100000"</span>,
            <span class="s2">"makerPxBand"</span>: <span class="s2">"15"</span>
        <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
     <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>,
     <span class="s2">"data"</span>:
        <span class="o">[{</span>
            <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>,
            <span class="s2">"maxBlockSz"</span>: <span class="s2">"10000"</span>,
            <span class="s2">"makerPxBand"</span>: <span class="s2">"5"</span>
         <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"instFamily"</span>: <span class="s2">"ETH-USDT"</span>
        <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
    <span class="s2">"instType"</span>: <span class="s2">"SPOT"</span>,
     <span class="s2">"data"</span>:
        <span class="o">[{</span>
            <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
         <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"instId"</span>: <span class="s2">"TRX-USDT"</span>
        <span class="o">}]</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 设置可报价产品
</span><span class="n">data</span> <span class="o">=</span><span class="p">[{</span>
    <span class="s">"instType"</span><span class="p">:</span> <span class="s">"OPTION"</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s">"uly"</span><span class="p">:</span> <span class="s">"BTC-USD"</span><span class="p">,</span>
            <span class="s">"maxBlockSz"</span><span class="p">:</span> <span class="s">"10000"</span><span class="p">,</span>
            <span class="s">"makerPxBand"</span><span class="p">:</span> <span class="s">"5"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"uly"</span><span class="p">:</span> <span class="s">"SOL-USD"</span><span class="p">,</span>
            <span class="s">"maxBlockSz"</span><span class="p">:</span> <span class="s">"100000"</span><span class="p">,</span>
            <span class="s">"makerPxBand"</span><span class="p">:</span> <span class="s">"15"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">set_marker_instrument</span><span class="p">(</span>
    <span class="n">data</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类别，枚举值包括<code>FUTURES</code>,<code>OPTION</code>,<code>SWAP</code>和<code>SPOT</code></td>
</tr>
<tr>
<td style="text-align: left">includeAll</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否接收该instType下所有产品。有效值为<code>true</code>或<code>false</code>。默认<code>false</code>。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">是</td>
<td style="text-align: left">instType的元素</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种<br><code>交割/永续/期权</code>情况下必填</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code>。对<code>SPOT</code>产品类别有效且必须。</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxBlockSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">该种产品最大可交易数量。FUTURES, OPTION and SWAP 的单位是合约数量。SPOT的单位是交易货币。</td>
</tr>
<tr>
<td style="text-align: left">&gt; makerPxBand</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">价格限制以价格精度tick为单位，以标记价格为基准。<br>以设置makerPxBand为1个tick为例: <br>如果买价  &gt; 标记价格 + 1 tick, 操作将被拦截 <br>如果卖价 &lt; 标记价格 - 1 tick, 操作将被拦截</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code> 表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为<code>0</code>，则不为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">请求返回值，包含请求结果</td>
</tr>
<tr>
<td style="text-align: left">&gt; result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">请求结果，枚举值为<code>true</code>,<code>false</code></td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-reset-mmp-status">重设MMP状态 </h3>
<p>重设MMP状态为无效。</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/mmp-reset</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/mmp-reset

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 重设MMP状态
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">reset_mmp</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>None</p>

<blockquote>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，<code>0</code> 表示成功</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为<code>0</code>，则不为空</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">请求返回值，包含请求结果</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">重设时间. Unix 时间戳的毫秒数格式，如 <code>1597026383085</code>.</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-set-mmp">设置 MMP </h3>
<p>该接口用于设置 MMP 的配置，仅适用于大宗交易中的maker。</p>
<h4 id="1-10s">限速：1次/10s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/rfq/mmp-config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/mmp-config
body
<span class="o">{</span>
    <span class="s2">"timeInterval"</span>:<span class="s2">"5000"</span>,
    <span class="s2">"frozenInterval"</span>:<span class="s2">"2000"</span>,
    <span class="s2">"countLimit"</span>: <span class="s2">"100"</span>
<span class="o">}</span>


</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">时间窗口 (毫秒)。<br>"0" 代表不使用 MMP。最大为 600,000。</td>
</tr>
<tr>
<td style="text-align: left">frozenInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">冻结时间长度 (毫秒)。<br>"0" 代表一直冻结，直到调用 "重置 MMP 状态" 接口解冻</td>
</tr>
<tr>
<td style="text-align: left">countLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">尝试执行次数限制</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"frozenInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"countLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间窗口 (毫秒)</td>
</tr>
<tr>
<td style="text-align: left">frozenInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冻结时间长度 (毫秒)</td>
</tr>
<tr>
<td style="text-align: left">countLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">尝试执行次数限制</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-mmp-config">查看 MMP 配置 </h3>
<p>该接口用于获取 MMP 的配置信息，仅适用于大宗交易中的maker。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rfq/mmp-config</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/mmp-config

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>none</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"frozenInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mmpFrozen"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mmpFrozenUntil"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"countLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeInterval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timeInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间窗口 (毫秒)。<br>"0" 代表不使用 MMP。</td>
</tr>
<tr>
<td style="text-align: left">frozenInterval</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冻结时间长度 (毫秒)。 <br>如果为"0"，代表一直冻结，直到调用 "重置 MMP 状态" 接口解冻，且<code>mmpFrozenUntil</code>为 ""。</td>
</tr>
<tr>
<td style="text-align: left">countLimit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">尝试执行次数限制</td>
</tr>
<tr>
<td style="text-align: left">mmpFrozen</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">MMP 是否被触发。 <code>true</code> 或者 <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">mmpFrozenUntil</td>
<td style="text-align: left">String</td>
<td style="text-align: left">如果配置了 frozenInterval 且 mmpFrozen = <code>true</code>，则为不再触发MMP时的时间窗口（单位为ms），否则为""。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-create-quote">报价 </h3>
<p>允许询价单指定的报价方进行报价，需要对整个询价单报价，不允许部分报价。</p>
<h4 id="50-2s">限速: 50次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/create-quote</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/create-quote
<span class="o">{</span>
    <span class="s2">"rfqId"</span>:<span class="s2">"22539"</span>,
    <span class="s2">"clQuoteId"</span>:<span class="s2">"q001"</span>,
    <span class="s2">"tag"</span>:<span class="s2">"123456"</span>,
    <span class="s2">"quoteSide"</span>:<span class="s2">"buy"</span>,
    <span class="s2">"anonymous"</span>: <span class="nb">true</span>,
    <span class="s2">"expiresIn"</span>:<span class="s2">"30"</span>,
    <span class="s2">"legs"</span>:[
        <span class="o">{</span>
            <span class="s2">"px"</span>:<span class="s2">"39450.0"</span>,
            <span class="s2">"sz"</span>:<span class="s2">"200000"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
            <span class="s2">"tdMode"</span>:<span class="s2">"cross"</span>,
            <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
            <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
            <span class="s2">"posSide"</span>: <span class="s2">"long"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"px"</span>:<span class="s2">"39450.0"</span>,
            <span class="s2">"sz"</span>:<span class="s2">"200000"</span>,
            <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
            <span class="s2">"tdMode"</span>:<span class="s2">"cross"</span>,
            <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
            <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
            <span class="s2">"posSide"</span>: <span class="s2">"long"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 报价
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">create_quote</span><span class="p">(</span>
    <span class="n">rfqId</span><span class="o">=</span><span class="s">"22539"</span><span class="p">,</span>
    <span class="n">clQuoteId</span><span class="o">=</span><span class="s">"q001"</span><span class="p">,</span>
    <span class="n">anonymous</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">quoteSide</span><span class="o">=</span><span class="s">"buy"</span><span class="p">,</span>
    <span class="n">expiresIn</span><span class="o">=</span><span class="s">"30"</span><span class="p">,</span>
    <span class="n">legs</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"px"</span><span class="p">:</span> <span class="s">"39450.0"</span><span class="p">,</span>
            <span class="s">"sz"</span><span class="p">:</span> <span class="s">"200000"</span><span class="p">,</span>
            <span class="s">"instId"</span><span class="p">:</span> <span class="s">"BTC-USDT-SWAP"</span><span class="p">,</span>
            <span class="s">"side"</span><span class="p">:</span> <span class="s">"buy"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单自定义ID</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单标签，与此报价单关联的大宗交易将有相同的标签。 <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">anonymous</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否匿名报价，<code>true</code>表示匿名报价，<code>false</code>表示公开报价，默认值为<code>false</code>，为<code>true</code>时，即使在交易执行之后，身份也不会透露给询价方。</td>
</tr>
<tr>
<td style="text-align: left">quoteSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">报价单方向，<code>buy</code>或者<code>sell</code>。当报价单方向为<code>buy</code>，对maker来说，执行方向与legs里的方向相同，对taker来说相反。反之同理</td>
</tr>
<tr>
<td style="text-align: left">expiresIn</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单的有效时长（以秒为单位）。 10到120之间的任何整数。 默认值为60</td>
</tr>
<tr>
<td style="text-align: left">legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">是</td>
<td style="text-align: left">组合交易</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">报价单方向</td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">持仓方向 <br>买卖模式下默认为<code>net</code>。在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 <br>如未指定，则处于开平仓模式下的用户始终会开新仓位。 <br>仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1608997227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-220114-25000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-220114-25000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25092"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18753"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmp_canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aksha"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单创建时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单状态更新时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单的状态<br>有效值为 <code>active</code> <code>canceled</code> <code>pending_fill</code> <code>filled</code> <code>expired</code> <code>failed</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">状态原因. 有效值包括 <code>mmp_canceled</code>.</td>
</tr>
<tr>
<td style="text-align: left">&gt; validUntil</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单的过期时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单自定义ID，为客户敏感信息，不会公开，对询价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单标签，与此报价单关联的大宗交易将有相同的标签。</td>
</tr>
<tr>
<td style="text-align: left">&gt; traderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方唯一标识代码。</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单方向，有效值为<code>buy</code>或者<code>sell</code>。当报价单方向为<code>buy</code>，对maker来说，执行方向与legs里的方向相同，对taker来说相反。反之同理。</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">腿的方向，有效值为<code>buy</code>或者<code>sell</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br>买卖模式下默认为<code>net</code>。如未指定，则返回""，相当于<code>net</code>。 <br>在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 如未指定，则返回""，对应于为交易开新仓位的方向（买入=&gt;<code>long</code>，卖出=&gt;<code>short</code>）。<br>仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-quote">取消报价单 </h3>
<p>取消一个报价单。</p>
<h4 id="50-2s">限速: 50次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/cancel-quote</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-quote
<span class="o">{</span>
    <span class="s2">"quoteId"</span>: <span class="s2">"007"</span>,
    <span class="s2">"clQuoteId"</span>:<span class="s2">"Bond007"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 取消报价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">cancel_quote</span><span class="p">(</span>
    <span class="n">quoteId</span><span class="o">=</span><span class="s">"007"</span><span class="p">,</span>
    <span class="n">clQuoteId</span><span class="o">=</span><span class="s">"Bond007"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">报价单自定义ID，字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间，当 clRfqId 和 rfqId 都传时，以 rfqId 为准。</td>
</tr>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"007"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"Bond007"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-multiple-quotes">批量取消报价单 </h3>
<p>取消一个或多个报价单，每次最多可以撤销100个订单。</p>
<h4 id="2-2s">限速: 2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/cancel-batch-quotes</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-batch-quotes
<span class="o">{</span>
    <span class="s2">"quoteIds"</span>: <span class="o">[</span><span class="s2">"1150"</span>,<span class="s2">"1151"</span>,<span class="s2">"1152"</span><span class="o">]</span>,
    <span class="s2">"clQuoteIds"</span>: <span class="o">[</span><span class="s2">"q1"</span>,<span class="s2">"q2"</span>,<span class="s2">"q3"</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 批量取消报价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">cancel_batch_quotes</span><span class="p">(</span>
    <span class="n">quoteIds</span><span class="o">=</span><span class="p">[</span><span class="s">"1150"</span><span class="p">,</span><span class="s">"1151"</span><span class="p">,</span><span class="s">"1152"</span><span class="p">],</span>
    <span class="n">clQuoteIds</span><span class="o">=</span><span class="p">[</span><span class="s">"q1"</span><span class="p">,</span><span class="s">"q2"</span><span class="p">,</span><span class="s">"q3"</span><span class="p">]</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quoteIds</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">clQuoteIds</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">报价单自定义ID，当 clQuoteIds 和 quoteIds 都传时，以 quoteIds 为准。</td>
</tr>
</tbody></table>

<blockquote>
<p>全部成功的示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1150"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1151"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1152"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>部分成功的示例 </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"Bulk operation partially succeeded."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1150"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1151"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"Quote does not exist."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1152"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"Quote does not exist."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"Operation failed."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1150"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"Quote does not exist."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1151"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"Quote does not exist."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"1151"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"q3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"70001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">"Quote does not exist."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单自定义ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">事件执行失败时的msg</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-all-quotes">取消所有报价单 </h3>
<p>取消所有报价单</p>
<h4 id="2-2s">限速: 2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>POST /api/v5/rfq/cancel-all-quotes</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-all-quotes

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 取消所有报价单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">cancel_all_quotes</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1697026383085"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="50faad05f3">响应参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成功取消时间，Unix时间戳的毫秒数格式，例如 1597026383085。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-cancel-all-after">倒计时全部撤单 </h3>
<p>在倒计时结束后，取消所有报价单。</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/rfq/cancel-all-after</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/rfq/cancel-all-after
body
<span class="o">{</span>
   <span class="s2">"timeOut"</span>:<span class="s2">"60"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timeOut</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">取消报价单的倒计时，单位为秒。<br>取值范围为 0, [10, 120]<br>0 代表不使用该功能。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="s2">"1587971460"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1587971400"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发撤单的时间.<br>triggerTime=0 代表未使用该功能。</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">请求被接收到的时间</td>
</tr>
</tbody></table>

<aside class="notice">
建议用户每一秒调用接口一次。当倒计时全部撤单被触发时，交易引擎将为用户逐一取消报价单，该操作可能持续数秒。该功能起到保护用户的作用，不应作为交易策略使用。
</aside>
<h3 id="block-trading-rest-api-get-rfqs">获取询价单信息 </h3>
<p>获取用户发出的或收到的询价单信息</p>
<h4 id="2-2s">限速: 2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>GET /api/v5/rfq/rfqs</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/rfqs
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取询价单信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">get_rfqs</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单ID .</td>
</tr>
<tr>
<td style="text-align: left">clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户询价单自定义ID，当 clRfqId 和 rfqId 都传时，以 rfqId 为准</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单的状态<br><code>active</code> <code>canceled</code> <code>pending_fill</code> <code>filled</code> <code>expired</code> <code>failed</code> <code>traded_away</code><br><code>traded_away</code> 仅适用于报价方</td>
</tr>
<tr>
<td style="text-align: left">beginId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的起始询价单ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td style="text-align: left">endId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的结束询价单ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VITALIK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650969031817"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowPartialExecution"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"flowType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterparties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"SATOSHI"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_ccy"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650968131817"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650968164944"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VITALIK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650967623729"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"flowType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterparties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"SATOSHI"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1500000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote_ccy"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650966723729"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650966816577"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单创建时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单状态更新时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单的状态<br><code>active</code> <code>canceled</code> <code>pending_fill</code> <code>filled</code> <code>expired</code> <code>failed</code> <code>traded_away</code><br><code>traded_away</code> 仅适用于报价方</td>
</tr>
<tr>
<td style="text-align: left">&gt; counterparties</td>
<td style="text-align: left">Array of srings</td>
<td style="text-align: left">报价方列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; validUntil</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单的过期时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单标签，与此询价单关联的大宗交易将有相同的标签。</td>
</tr>
<tr>
<td style="text-align: left">&gt; flowType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">识别询价单的类型。 <br>仅适用于报价方，返回""给询价方。</td>
</tr>
<tr>
<td style="text-align: left">&gt; traderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价方唯一标识代码，询价时 anonymous 设置为 <code>true</code> 时不可见</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; allowPartialExecution</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">RFQ是否可以被部分执行，如果腿的比例和原RFQ一致。有效值为<code>true</code>或<code>false</code>。未指定时，默认为<code>false</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易，每个请求最多可放置15条腿</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 "BTC-USDT-SWAP"</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单方向 <br>有效值为<code>buy</code>和<code>sell</code>。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br>买卖模式下默认为<code>net</code>。如未指定，则返回""，相当于<code>net</code>。 <br>在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 如未指定，则返回""，对应于为交易开新仓位的方向（买入=&gt;<code>long</code>，卖出=&gt;<code>short</code>）。<br>仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-quotes">获取报价单信息 </h3>
<p>获取用户发出的或收到的报价单信息</p>
<h4 id="2-2s">限速: 2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>GET /api/v5/rfq/quotes</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/quotes
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取报价单信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">get_quotes</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单自定义ID， 当 clRfqId 和 rfqId 都传时，以 rfqId 为准。</td>
</tr>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单自定义ID，当 clRfqId 和 rfqId 都传时，以 rfqId 为准。</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单的状态<br>有效值为 <code>active</code> <code>canceled</code> <code>pending_fill</code> <code>filled</code> <code>expired</code> <code>failed</code></td>
</tr>
<tr>
<td style="text-align: left">beginId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的起始报价单ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td style="text-align: left">endId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的结束报价单ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="s2">"1608997227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"46000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-220114-25000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"45000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">"base_ccy"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"25092"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"18753"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSide"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reason"</span><span class="p">:</span><span class="s2">"mmp_canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">"cq001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">"cr001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="s2">"Trader1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单创建时间，Unix时间戳的毫秒数格式</td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单状态更新时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单的状态<br><code>active</code> <code>canceled</code> <code>pending_fill</code> <code>filled</code> <code>expired</code> <code>failed</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reason</td>
<td style="text-align: left">String</td>
<td style="text-align: left">状态原因. 有效值包括 <code>mmp_canceled</code>.</td>
</tr>
<tr>
<td style="text-align: left">&gt; validUntil</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单的过期时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单自定义ID，为客户敏感信息，不会公开，对询价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单标签，与此报价单关联的大宗交易将有相同的标签。</td>
</tr>
<tr>
<td style="text-align: left">&gt; traderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方唯一标识代码，报价时 Anonymous 设置为 <code>True</code> 时不可见。</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单方向，<code>buy</code>或者<code>sell</code>。当报价单方向为<code>buy</code>，对maker来说，执行方向与legs里的方向相同，对taker来说相反。反之同理</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格.</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单方向</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br>买卖模式下默认为<code>net</code>。如未指定，则返回""，相当于<code>net</code>。 <br>在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 如未指定，则返回""，对应于为交易开新仓位的方向（买入=&gt;<code>long</code>，卖出=&gt;<code>short</code>）。<br>仅适用交割、永续。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tgtCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-trades">获取大宗交易信息 </h3>
<p>获取该用户大宗交易成交信息</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>GET /api/v5/rfq/trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/trades
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取大宗交易信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">get_trades</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">由用户设置的询价单ID. 如果 <code>clRfqId</code> 和 <code>rfqId</code> 都通过了，rfqId 将被视为主要</td>
</tr>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">blockTdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">大宗交易ID</td>
</tr>
<tr>
<td style="text-align: left">clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">由用户设置的报价单ID。如果同时传递了 <code>clQuoteId</code> 和 <code>quoteId</code>，则 quoteId 将被视为主要标识符</td>
</tr>
<tr>
<td style="text-align: left">beginId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的起始大宗交易ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td style="text-align: left">endId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的结束大宗交易ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td style="text-align: left">beginTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用开始时间戳筛选交易执行时间（UTC时区）。Unix时间戳的毫秒数格式，例如 1597026383085。</td>
</tr>
<tr>
<td style="text-align: left">endTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用结束时间戳筛选交易执行时间（UTC时区）。Unix时间戳的毫秒数格式，例如 1597026383085。</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条。<br>如果请求范围内的交易数量大于100，则返回该范围内最近的100笔交易。</td>
</tr>
<tr>
<td style="text-align: left">isSuccessful</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易是否成功。<br><code>true</code>: 成功，默认值。<br> <code>false</code>: 未成功。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0T5342O"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockTdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439127542058958848"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isSuccessful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.666"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439127542058958850"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0333"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650968164900"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tTraderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SATS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mTraderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIKE"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0T533T0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockTdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439121886014849024"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isSuccessful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.532"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439121886014849026"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0266"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650966816550"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tTraderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SATS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mTraderCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIKE"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">执行创建的时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; rfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clRfqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clQuoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价单自定义ID，为客户敏感信息，不会公开，对询价方返回""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; blockTdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">大宗交易ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易标签，大宗交易将有与其对应的询价单或报价单相同的标签。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tTraderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价方唯一标识代码，询价时 anonymous 设置为 <code>true</code> 时不可见</td>
</tr>
<tr>
<td style="text-align: left">&gt; mTraderCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价方唯一标识代码。报价时 anonymous 设置为 <code>true</code> 时不可见</td>
</tr>
<tr>
<td style="text-align: left">&gt; isSuccessful</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">交易是否成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; errorCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未成功交易的错误码。<br>对于成功交易为 ""。</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单方向，buy 或者 sell。</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费，正数代表平台返佣 ，负数代表平台扣除</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">手续费币种</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新的成交Id</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-block-tickers">获取大宗交易所有产品行情信息 </h3>
<p>获取最近24小时大宗交易量</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/block-tickers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/block-tickers?instType<span class="o">=</span>SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取大宗交易所有产品行情信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_block_tickers</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code>，如 <code>BTC-USD</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"LTC-USD-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">volCcy24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">vol24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-block-ticker">获取大宗交易单个产品行情信息 </h3>
<p>获取最近24小时大宗交易量</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/block-ticker</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/block-ticker?instId<span class="o">=</span>BTC-USD-SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取大宗交易单个产品行情信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_block_ticker</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"LTC-USD-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="s2">"2222"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">volCcy24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">vol24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时成交量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-public-multi-leg-transactions-of-block-trades">获取大宗交易公共多腿成交数据 </h3>
<p>获取已经执行的大宗交易。数据将在大宗交易执行15分钟后更新。</p>
<h4 id="5-2s">限速: 5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-requests">HTTP Requests</h4>
<p><code>GET /api/v5/rfq/public-trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rfq/public-trades
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.BlockTrading</span> <span class="k">as</span> <span class="n">BlockTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">blockTradingAPI</span> <span class="o">=</span> <span class="n">BlockTrading</span><span class="p">.</span><span class="n">BlockTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取大宗交易公共成交数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">blockTradingAPI</span><span class="p">.</span><span class="n">get_public_trades</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">beginId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的起始大宗交易ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td style="text-align: left">endId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求的结束大宗交易ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"blockTdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012352"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-210826"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012354"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012355"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w"> </span><span class="err">//for</span><span class="w"> </span><span class="err">public</span><span class="w"> </span><span class="err">feed</span><span class="p">,</span><span class="w"> </span><span class="err">spot</span><span class="w"> </span><span class="s2">"sz"</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">baseccy</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012356"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-210326-60000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.008"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012357"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-220930-5000-P"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.008"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012360"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-220930-10000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.008"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012361"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-220930-10000-P"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.008"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012362"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-220624-100100-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.008"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"439161457415012363"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"strategy"</span><span class="p">:</span><span class="s2">"CALL_CALENDAR_SPREAD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1650976251241"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">结果代码，0 表示成功。</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">错误信息，如果代码不为 0，则不为空。</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">包含结果的对象数组.</td>
</tr>
<tr>
<td style="text-align: left">&gt; strategy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权策略, 如 <code>CALL_CALENDAR_SPREAD</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">执行创建的时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td style="text-align: left">&gt; blockTdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">大宗交易ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; legs</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">组合交易</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">询价单方向，从 Taker的视角看</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新成交ID</td>
</tr>
</tbody></table>
<h3 id="block-trading-rest-api-get-public-single-leg-transactions-of-block-trades">获取大宗交易公共单腿成交数据 </h3>
<p>查询市场上交易产品维度的大宗交易公共成交数据，根据 tradeId 倒序排序。数据将在大宗交易执行15分钟后更新。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/block-trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/block-trades?instId<span class="o">=</span>BTC-USDT
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fillVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26857.86591585"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26889.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-231013-22000-P"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0026"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"632960608383700997"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1697181568974"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交数量</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交方向 <br><code>buy</code>：买  <br><code>sell</code>：卖</td>
</tr>
<tr>
<td style="text-align: left">fillVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的隐含波动率 <br>仅适用于 <code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">fwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的远期价格 <br>仅适用于 <code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">idxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的指数价格  <br>适用于 <code>交割</code>, <code>永续</code>, <code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时的标记价格 <br>适用于 <code>交割</code>, <code>永续</code>, <code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交时间，Unix时间戳的毫秒数格式， 如<code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
最多获取最近500条历史公共成交数据
</aside>
<h2 id="block-trading-websocket-private-channel">WebSocket 私有频道 </h2><h3 id="block-trading-websocket-private-channel-rfqs-channel">询价频道 </h3>
<p>获取用户自身发送或接收的询价信息。每当用户自身发送或接收询价时，数据都将被推送。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"rfqs"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>rfqs</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例 </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rfqs"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">rfqs</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>rfqs</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"rfqs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1611033737572"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1611033737572"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="s2">"DSK2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"22534"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"flowType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="s2">"1611033857557"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowPartialExecution"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterparties"</span><span class="p">:[</span><span class="w">
                </span><span class="s2">"DSK4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DSK5"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTCUSD-211208-36000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETHUSD-211208-45000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>询价单创建时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>询价单状态更新时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>询价单的状态<br>有效值有 <code>active</code> <code>canceled</code> <code>filled</code> <code>expired</code> <code>traded_away</code> <code>failed</code><br><code>traded_away</code> 仅适用于报价方。</td>
</tr>
<tr>
<td>&gt; counterparties</td>
<td>Array of Strings</td>
<td>报价方列表</td>
</tr>
<tr>
<td>&gt; validUntil</td>
<td>String</td>
<td>询价单的过期时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td>&gt; clRfqId</td>
<td>String</td>
<td>询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>询价单标签，与此询价单关联的大宗交易将有相同的标签。</td>
</tr>
<tr>
<td>&gt; flowType</td>
<td>String</td>
<td>识别询价单的类型。 <br>仅适用于报价方，返回""给询价方。</td>
</tr>
<tr>
<td>&gt; traderCode</td>
<td>String</td>
<td>询价方唯一标识代码，询价时 Anonymous 设置为 <code>True</code> 时不可见</td>
</tr>
<tr>
<td>&gt; rfqId</td>
<td>String</td>
<td>询价单ID</td>
</tr>
<tr>
<td>&gt; allowPartialExecution</td>
<td>Boolean</td>
<td>RFQ是否可以被部分执行，如果腿的比例和原RFQ一致。&gt;有效值为<code>true</code>或<code>false</code>。</td>
</tr>
<tr>
<td>&gt; legs</td>
<td>Array of objects</td>
<td>组合交易</td>
</tr>
<tr>
<td>&gt;&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt;&gt; tdMode</td>
<td>String</td>
<td>交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td>&gt;&gt; ccy</td>
<td>String</td>
<td>保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td>&gt;&gt; sz</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>&gt;&gt; side</td>
<td>String</td>
<td>询价单方向</td>
</tr>
<tr>
<td>&gt;&gt; posSide</td>
<td>String</td>
<td>持仓方向 <br>买卖模式下默认为<code>net</code>。如未指定，则返回""，相当于<code>net</code>。 <br>在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 如未指定，则返回""，对应于为交易开新仓位的方向（买入=&gt;<code>long</code>，卖出=&gt;<code>short</code>）。<br>仅适用交割、永续。</td>
</tr>
<tr>
<td>&gt;&gt; tgtCcy</td>
<td>String</td>
<td>委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>

<aside class="notice">
state: pending_fill 是一个瞬间状态，该频道不会推送。
</aside>
<h3 id="block-trading-websocket-private-channel-quotes-channel">报价频道 </h3>
<p>获取用户自身发送或接收的报价信息。每当用户自身发送或接收报价时，数据都将被推送。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"quotes"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>quotes</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quotes"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">quotes</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>quotes</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"quotes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="s2">"1608997227854"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.0023"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-220114-25000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">

                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.0045"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-220114-35000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">

                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"25092"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"18753"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="s2">"SATS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSide"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reason"</span><span class="p">:</span><span class="s2">"mmp_canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>账户ID，账户uid和app上的一致</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>报价单创建时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>报价单状态更新时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>报价单的状态<br>有效值为 <code>active</code> <code>canceled</code> <code>filled</code> <code>expired</code> <code>failed</code></td>
</tr>
<tr>
<td>&gt; reason</td>
<td>String</td>
<td>状态原因,有效值包括<code>mmp_canceled</code></td>
</tr>
<tr>
<td>&gt; validUntil</td>
<td>String</td>
<td>报价单的过期时间，Unix时间戳的毫秒数格式。</td>
</tr>
<tr>
<td>&gt; rfqId</td>
<td>String</td>
<td>询价单ID</td>
</tr>
<tr>
<td>&gt; clRfqId</td>
<td>String</td>
<td>询价单自定义ID，为客户敏感信息，不会公开，对报价方返回""。</td>
</tr>
<tr>
<td>&gt; quoteId</td>
<td>String</td>
<td>报价单ID</td>
</tr>
<tr>
<td>&gt; clQuoteId</td>
<td>String</td>
<td>报价单自定义ID，为客户敏感信息，不会公开，对询价方返回""。</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>报价单标签，与此报价单关联的大宗交易将有相同的标签。</td>
</tr>
<tr>
<td>&gt; traderCode</td>
<td>String</td>
<td>报价方唯一标识代码，报价时 Anonymous 设置为 <code>True</code> 时不可见。</td>
</tr>
<tr>
<td>&gt; quoteSide</td>
<td>String</td>
<td>报价单方向，<code>buy</code>或者<code>sell</code>。当报价单方向为<code>buy</code>，对maker来说，执行方向与legs里的方向相同，对taker来说相反。反之同理。</td>
</tr>
<tr>
<td>&gt; legs</td>
<td>Array of objects</td>
<td>组合交易</td>
</tr>
<tr>
<td>&gt;&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt;&gt; tdMode</td>
<td>String</td>
<td>交易模式 <br>保证金模式：<code>cross</code>全仓 <code>isolated</code>逐仓 <br>非保证金模式：<code>cash</code>非保证金. <br>如未提供，tdMode 将继承系统设置的默认值： <br>现货和合约模式 &amp; 现货: <code>cash</code> <br>现货和合约模式和跨币种保证金模式下买入期权： <code>isolated</code> <br>其他情况: <code>cross</code></td>
</tr>
<tr>
<td>&gt;&gt; ccy</td>
<td>String</td>
<td>保证金币种，仅适用于<code>现货和合约模式</code>下的<code>全仓杠杆</code>订单 <br>在其他情况下该参数将被忽略。</td>
</tr>
<tr>
<td>&gt;&gt; sz</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>&gt;&gt; px</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>&gt;&gt; side</td>
<td>String</td>
<td>报价单方向</td>
</tr>
<tr>
<td>&gt;&gt; posSide</td>
<td>String</td>
<td>持仓方向 <br>买卖模式下默认为<code>net</code>。如未指定，则返回""，相当于<code>net</code>。 <br>在开平仓模式下仅可选择<code>long</code>或<code>short</code>。 如未指定，则返回""，对应于为交易开新仓位的方向（买入=&gt;<code>long</code>，卖出=&gt;<code>short</code>）。<br>仅适用交割、永续。</td>
</tr>
<tr>
<td>&gt;&gt; tgtCcy</td>
<td>String</td>
<td>委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
</tbody></table>
<h3 id="block-trading-websocket-private-channel-structure-block-trades-channel">大宗交易频道 </h3>
<p>获取用户自身的大宗交易信息。同一大宗交易中的所有腿都包含在同一更新中。只要用户自身作为交易对手进行大宗交易，数据都将被推送。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"struc-block-trades"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>struc-block-trades</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"struc-block-trades"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">struc-block-trades</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>struc-block-trades</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"struc-block-trades"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"18753"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="s2">"25092"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQuoteId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockTdId"</span><span class="p">:</span><span class="s2">"180184"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tTraderCode"</span><span class="p">:</span><span class="s2">"ANAND"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mTraderCode"</span><span class="p">:</span><span class="s2">"WAGMI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isSuccessful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.0023"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-20220630-60000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.1001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"10211"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">

                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.0033"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-20220630-50000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.1001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"10212"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">

                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>执行创建的时间戳，Unix 时间戳格式，以毫秒为单位。</td>
</tr>
<tr>
<td>&gt; rfqId</td>
<td>String</td>
<td>RFQ ID.</td>
</tr>
<tr>
<td>&gt; clRfqId</td>
<td>String</td>
<td>由用户设置的 RFQ ID。 此属性被视为客户端敏感信息。 不会暴露给 Maker，只返回空字符串“”给 Maker。</td>
</tr>
<tr>
<td>&gt; quoteId</td>
<td>String</td>
<td>Quote ID.</td>
</tr>
<tr>
<td>&gt; clQuoteId</td>
<td>String</td>
<td>由用户设置的 Quote ID。 此属性被视为客户端敏感信息。 不会暴露给 Taker，只为 Taker 返回空字符串“”。</td>
</tr>
<tr>
<td>&gt; blockTdId</td>
<td>String</td>
<td>大宗交易ID</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>交易标签，大宗交易将有与其对应的询价单或报价单相同的标签。</td>
</tr>
<tr>
<td>&gt; tTraderCode</td>
<td>String</td>
<td>报价方唯一标识代码。询价时 Anonymous 设置为 <code>True</code> 时不可见。</td>
</tr>
<tr>
<td>&gt; mTraderCode</td>
<td>String</td>
<td>询价方唯一标识代码。报价时 Anonymous 设置为 <code>True</code> 时不可见。</td>
</tr>
<tr>
<td>&gt; isSuccessful</td>
<td>Boolean</td>
<td>交易是否成功</td>
</tr>
<tr>
<td>&gt; errorCode</td>
<td>String</td>
<td>未成功交易的错误码。<br>对于成功交易为 ""。</td>
</tr>
<tr>
<td>&gt; legs</td>
<td>Array of objects</td>
<td>组合交易</td>
</tr>
<tr>
<td>&gt;&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt;&gt; px</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>&gt;&gt; sz</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>&gt;&gt; side</td>
<td>String</td>
<td>询价单方向</td>
</tr>
<tr>
<td>&gt;&gt; tgtCcy</td>
<td>String</td>
<td>委托数量的类型 <br>定义<code>sz</code>属性的单位。仅适用于 instType=<code>SPOT</code>。有效值为<code>base_ccy</code>和<code>quote_ccy</code>。未指定时，默认为<code>base_ccy</code>。</td>
</tr>
<tr>
<td>&gt;&gt; fee</td>
<td>String</td>
<td>手续费，正数代表平台返佣 ，负数代表平台扣除。</td>
</tr>
<tr>
<td>&gt;&gt; feeCcy</td>
<td>String</td>
<td>手续费币种</td>
</tr>
<tr>
<td>&gt;&gt; tradeId</td>
<td>String</td>
<td>最新成交Id</td>
</tr>
</tbody></table>
<h2 id="block-trading-websocket-public-channel">WebSocket 公共频道 </h2><h3 id="block-trading-websocket-public-channel-public-structure-block-trades-channel">公共大宗交易频道 </h3>
<p>获取欧易的最新大宗交易信息。同一大宗交易中的所有腿都包含在同一更新中。数据将在大宗交易执行15分钟后被推送。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"public-struc-block-trades"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>public-struc-block-trades</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public-struc-block-trades"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">public-struc-block-trades</span><span class="se">\"</span><span class="s2">"</span><span class="p">}]}</span><span class="s2">",
  "</span><span class="err">connId</span><span class="s2">": "</span><span class="err">a</span><span class="mi">4</span><span class="err">d</span><span class="mi">3</span><span class="err">ae</span><span class="mi">55</span><span class="s2">"
}
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>public-struc-block-trades</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"public-struc-block-trades"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">

            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1608267227834"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockTdId"</span><span class="p">:</span><span class="s2">"1802896"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.323"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-20220114-13250-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"15102"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.666"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-20220114-21125-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"15103"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>执行创建的时间戳，Unix 时间戳格式，以毫秒为单位。</td>
</tr>
<tr>
<td>&gt; blockTdId</td>
<td>String</td>
<td>大宗交易ID</td>
</tr>
<tr>
<td>&gt; legs</td>
<td>Array of objects</td>
<td>组合交易</td>
</tr>
<tr>
<td>&gt;&gt; instId</td>
<td>String</td>
<td>产品名Id</td>
</tr>
<tr>
<td>&gt;&gt; px</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>&gt;&gt; sz</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>&gt;&gt; side</td>
<td>String</td>
<td>询价单方向，从 Taker的视角看</td>
</tr>
<tr>
<td>&gt;&gt; tradeId</td>
<td>String</td>
<td>最新成交Id</td>
</tr>
</tbody></table>
<h3 id="block-trading-websocket-public-channel-public-block-trades-channel">公共大宗交易单腿交易频道 </h3>
<p>获取欧易的最新大宗交易单腿交易信息。大宗交易中的每条腿都在单独的更新中推送。数据将在大宗交易执行15分钟后被推送。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"public-block-trades"</span>,
      <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>public-block-trades</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>产品 ID, 如 <code>BTC-USDT-SWAP</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public-block-trades"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">args</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">public-block-trades</span><span class="se">\"</span><span class="s2">"</span><span class="p">}]}</span><span class="s2">",
  "</span><span class="err">connId</span><span class="s2">": "</span><span class="err">a</span><span class="mi">4</span><span class="err">d</span><span class="mi">3</span><span class="err">ae</span><span class="mi">55</span><span class="s2">"
}
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必需</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>public-block-trades</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>产品 ID, 如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"public-block-trades"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-231020-5000-P"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"fillVol"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="s2">"26808.16"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="s2">"27222.5"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-231020-5000-P"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"markPx"</span><span class="p">:</span><span class="s2">"0.0022406326071111"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.0048"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"633971452580106242"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1697422572972"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品 ID, 如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>公共大宗交易单腿交易信息</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品 ID, 如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>交易 ID, 由柜台提供.</td>
</tr>
<tr>
<td>&gt; px</td>
<td>String</td>
<td>该单腿交易价格.</td>
</tr>
<tr>
<td>&gt; sz</td>
<td>String</td>
<td>交易数量.</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>交易方向, buy, sell, 从taker角度看.</td>
</tr>
<tr>
<td>&gt; fillVol</td>
<td>String</td>
<td>成交时的隐含波动率 <br>仅适用于 <code>期权</code></td>
</tr>
<tr>
<td>&gt; fwdPx</td>
<td>String</td>
<td>成交时的远期价格 <br>仅适用于 <code>期权</code></td>
</tr>
<tr>
<td>&gt; idxPx</td>
<td>String</td>
<td>成交时的指数价格  <br>适用于 <code>交割</code>, <code>永续</code>, <code>期权</code></td>
</tr>
<tr>
<td>&gt; markPx</td>
<td>String</td>
<td>成交时的标记价格 <br>适用于 <code>交割</code>, <code>永续</code>, <code>期权</code></td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>成交时间, 时间戳格式，以毫秒为单位. 如 1597026383085.</td>
</tr>
</tbody></table>
<h3 id="block-trading-websocket-public-channel-block-tickers-channel">大宗交易行情频道 </h3>
<p>获取最近24小时大宗交易量<br></p>

<p>当发生成交事件时触发推送，此外，也会根据订阅维度每隔5分钟推送一次</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"block-tickers"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>block-tickers</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"block-tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-200327"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">block-tickers</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-200327</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名 <code>block-tickers</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"block-tickers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volCcy24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>产品类型</td>
</tr>
<tr>
<td>&gt; volCcy24h</td>
<td>String</td>
<td>24小时成交量，以<code>币</code>为单位<br>如果是<code>衍生品</code>合约，数值为交易货币的数量。<br>如果是<code>币币/币币杠杆</code>，数值为计价货币的数量。</td>
</tr>
<tr>
<td>&gt; vol24h</td>
<td>String</td>
<td>24小时成交量，以<code>张</code>为单位<br>如果是<code>衍生品</code>合约，数值为合约的张数。<br>如果是<code>币币/币币杠杆</code>，数值为交易货币的数量。</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h1 id="spread-trading">价差交易 </h1>
<aside>
👉 Spread Orderbook 产品使用户能够灵活交易大尺寸价差（Spread），可以用于简化交割合約展期、资金费套利和提高收益率，以及基于基差和期限结构的投机。

</aside>
<h2 id="spread-trading-introduction">介绍 </h2><h3 id="spread-trading-introduction-basic-concepts">基本概念 </h3>
<ol>
<li>价差（<strong>Spread） -</strong> 做多一种产品并同时做空数量等价的另一种相关产品，形成具有两条风险互相抵消的腿的交易</li>
<li>订单簿（<strong>Order-book） -</strong> 一种或一组交易产品的报价集合。每个报价都包含一个或一组定义的产品、相关数量以及<em>Maker</em>(报价者)愿意交易的价格。然后，<em>Taker</em>(接受者)可以立即消耗这些报价，直至订单簿上列出的全部数量。价差交易挂单限额为所有价差挂单合计不超过500个。</li>
</ol>
<h3 id="spread-trading-introduction-high-level-workflow">基本工作流程 </h3>
<p>Nitro Spreads 以熟悉的<strong>中央限价订单簿 (CLOB)</strong> 概念为中心：</p>

<ul>
<li>Spreads里包含的产品来自OKX交易所，交易之后也在OKX交易所进行清算和结算。</li>
<li>任何人都可以充当“Taker”，消耗现有的剩余订单，或“Maker”，其订单被消耗。</li>
<li>交易在订单被匹配时发生，之后它们被发送到 OKX 进行清算和结算。</li>
</ul>

<p>简单来说，Nitro Spreads 工作流程是</p>

<ol>
<li><em>Maker 在 Spread 的订单簿上设置限价订单。</em></li>
<li><em>Taker通过限价单消耗一个resting Order。</em></li>
<li>被匹配的订单被发送去清算和结算。</li>
<li>Taker和Maker收到交易成功或拒绝的确认</li>
<li>所有用户都会收到成功结算和清算交易的通知，除去涉及的交易双方以交易方向 (买入或卖出) 等信息。</li>
</ol>

<p>Nitro Spreads 的主要方面：</p>

<ul>
<li>所有价差都有<strong>可公开访问</strong>的中央限价订单簿 (<strong>CLOB</strong>)。</li>
<li>Spreads的可用性由OKX决定。通常，这些Spreads包括同一标的下（例如“BTC/USDT”或“ETH/USDC”）中 delta one 衍生品（交割和永续）和现货的所有可能组合。</li>
<li><strong>部分成交</strong>和多个订单可以作为单笔交易的一部分。</li>
<li>交易对手方<strong>不是</strong>任由用户选择的。任何人都可以参与所有Spread的订单簿，有效地与更广泛的市场进行交易。</li>
<li>整个过程保持匿名，所有订单和交易均在<strong>匿名</strong>的基础上进行。</li>
<li>用户可以灵活地在订单簿的买卖双方下多个订单，从而实现阶梯式配置。</li>
</ul>
<h2 id="spread-trading-comprehensive-api-workflow">全面的 API 工作流程 </h2>
<aside class="notice">
有关订单和交易的通知将由 *Taker* 和 *Maker* 通过 WebSocket 通知渠道接收。
</aside>

<p>当用户的订单被另一个订单执行时，用户将承担<em>Maker</em>的角色。当用户提交的订单与订单簿中的现有订单相匹配时，他们就会成为 <em>Taker</em></p>
<h3 id="spread-trading-comprehensive-api-workflow-obtaining-available-spreads">获取可用Spreads </h3>
<p>要检索在 OKX 上交易的所有可用Spreads，您应该向 <code>GET /api/v5/sprd/spreads</code> 发出请求</p>
<h3 id="spread-trading-comprehensive-api-workflow-retrieving-your-orders">检索您的订单</h3>
<p>要在 OKX 上检索您的订单，您应该向 <code>GET /api/v5/sprd/order</code> 发出请求。</p>
<h3 id="spread-trading-comprehensive-api-workflow-retrieving-your-trades">检索您的交易</h3>
<p>要检索您在 OKX 上的交易，您应该向 <code>GET /api/v5/sprd/trades</code> 发出请求。</p>
<h3 id="spread-trading-comprehensive-api-workflow-submitting-an-order">提交订单 </h3>
<p>要向 某个Spread 的订单簿提交订单，您应该请求
<code>POST /api/v5/sprd/order</code> 。</p>
<h3 id="spread-trading-comprehensive-api-workflow-spread-states">Spread状态 </h3>
<p>Spread 的生命周期中存在三种不同的状态：<code>live</code>，<code>suspend</code>，和 <code>expired</code>:</p>

<ol>
<li><code>live</code>: 在 Nitro Spread 上活跃交易的Spreads</li>
<li><code>suspend</code>：其中至少一条腿被暂停，另一条在 OKX 订单簿交易所处于活跃或暂停状态的价差；或标的工具仍在 OKX 订单簿交易所中存在但已从 Nitro Spread 中移除的Spread</li>
<li><code>expired</code>：至少一条腿在 OKX 订单簿交易所到期的Spread</li>
</ol>

<p>给定每条腿的状态以及 Nitro Spreads 上的Spread状态（除了在 Nitro Spread上退市的情况），所有可能Spread状态的情况请参考下表：</p>

<table><thead>
<tr>
<th>交易产品A</th>
<th>交易产品B</th>
<th>Spread状态</th>
</tr>
</thead><tbody>
<tr>
<td>Live</td>
<td>Live</td>
<td>Live</td>
</tr>
<tr>
<td>Suspend</td>
<td>Live</td>
<td>Suspend</td>
</tr>
<tr>
<td>Live</td>
<td>Suspend</td>
<td>Suspend</td>
</tr>
<tr>
<td>Suspend</td>
<td>Suspend</td>
<td>Suspend</td>
</tr>
<tr>
<td>Expired</td>
<td>Live</td>
<td>Expired</td>
</tr>
<tr>
<td>Live</td>
<td>Expired</td>
<td>Expired</td>
</tr>
<tr>
<td>Suspend</td>
<td>Expired</td>
<td>Expired</td>
</tr>
<tr>
<td>Expired</td>
<td>Suspend</td>
<td>Expired</td>
</tr>
<tr>
<td>Expired</td>
<td>Expired</td>
<td>Expired</td>
</tr>
</tbody></table>
<h3 id="spread-trading-comprehensive-api-workflow-trade-lifecycle">交易生命周期 </h3>
<p>为了进行交易，需要在价差撮合交易中匹配两个订单。
通过订阅 <code>sprd-orders</code>WebSocket 通道，您可以获得有关订单状态的信息并确定它是否已达到最终状态。通道中的<code>state</code>值表示订单的当前状态。</p>

<ol>
<li>如果状态为<code>live</code> 或 <code>partially_filled</code>，则意味着订单仍有未达最终状态（<code>filled</code>或<code>canceled</code>）数量，创建者或其他用户仍可能可以对其执行操作。</li>
<li>另一方面，如果状态为<code>canceled</code>或<code>filled</code>，创建者或任何其他用户将无法对此订单执行任何操作。</li>
</ol>

<p>请密切跟踪以下属性：<code>sz</code>（数量）、<code>pendingFillSz</code>（待完成数量）、<code>canceledSz</code>（被取消数量）和 <code>accFillSz</code>（累积完成数量）。这些属性提供了有关订单状态和进展的重要信息。</p>
<h3 id="spread-trading-comprehensive-api-workflow-order-state">用户的订单状态 </h3>
<p>通过订阅 <code>sprd-orders</code>WebSocket 频道，用户可以跟踪他们的订单状态。</p>

<ol>
<li>提交订单后，无论是 <em>Maker</em> 还是 <em>Taker</em>，用户都会通过订单 WebSocket 频道道收到订单更新消息。该消息将指示订单的<code>state</code> == <code>live</code>。</li>
<li>订单成交和结算是异步的。当订单已成交但还没结算，用户将收到<code>pendingSettleSz</code>&gt;0，<code>fillSz</code> == ""的订单更新消息</li>
<li>如果订单已部分成交且仍有待处理数量，用户将收到<code>state</code> == <code>partially_filled</code> 的订单更新消息</li>
<li>如果订单完全成交，用户将收到<code>state</code> == <code>filled</code>的订单更新消息</li>
<li>如果订单未完全消耗，但已达到最终状态，用户将收到<code>state</code> == <code>canceled</code>的订单更新消息。</li>
<li>如果订单的某个部分被拒绝，用户会收到更新的订单更新，其中包含更新的 <code>canceledSz</code> 和 <code>pendingFillSz</code>，以及与错误对应的<code>code</code>和<code>msg</code>。</li>
</ol>
<h3 id="spread-trading-comprehensive-api-workflow-trade-state">用户的交易状态 </h3>
<p>通过订阅 <code>sprd-trades</code>WebSocket 频道，用户可以跟踪他们的交易状态。
1. 一笔已执行的交易在OKX上进行清算结算后，即为最终交易。
2. 对于成功清算的交易，用户会收到一条 WebSocket 消息，其中的<code>state</code>表示<code>filled</code>。
3. 在交易清算不成功的情况下，用户会收到一条交易更新消息，<code>state</code>反映为<code>rejected</code>。
4. 如果交易<code>state</code>为<code>rejected</code>，交易更新消息还将包含错误代码<code>code</code>和解释拒绝原因的相应错误消息 <code>msg</code>。</p>
<h3 id="spread-trading-comprehensive-api-workflow-all-trades">所有交易 </h3>
<p>所有用户都能够接收通过 OKX Nitro Spread 产品发生的所有交易的更新。
请务必注意，OKX Nitro Spreads 不会披露有关交易双方及交易方向（买入或卖出）的信息。</p>

<ol>
<li>用户可以订阅<code>sprd-public-trades</code>频道来获取所有已成功结算的交易。</li>
</ol>
<h2 id="spread-trading-rest-api">REST API </h2><h3 id="spread-trading-rest-api-place-order">下单 </h3>
<p>下单</p>
<h4 id="20-2s">限速:：20次/ 2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/sprd/order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 下价差订单</span>
POST /api/v5/sprd/order
body
<span class="o">{</span>
  <span class="s2">"sprdId"</span>:<span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>,
  <span class="s2">"clOrdId"</span>:<span class="s2">"b15"</span>,
  <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
  <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
  <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
  <span class="s2">"sz"</span>:<span class="s2">"2"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 下单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">place_order</span><span class="p">(</span><span class="n">sprdId</span><span class="o">=</span><span class="s">'BTC-USDT_BTC-USDT-SWAP'</span><span class="p">,</span>
                               <span class="n">clOrdId</span><span class="o">=</span><span class="s">'b16'</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s">'buy'</span><span class="p">,</span><span class="n">ordType</span><span class="o">=</span><span class="s">'limit'</span><span class="p">,</span>
                               <span class="n">px</span><span class="o">=</span><span class="s">'2'</span><span class="p">,</span><span class="n">sz</span><span class="o">=</span><span class="s">'2'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>spread ID，如 BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>否</td>
<td>客户自定义订单ID字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>否</td>
<td>订单标签字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间。</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>是</td>
<td>订单方向<br><code>buy</code>：买，<code>sell</code>：卖</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>是</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>是</td>
<td>委托数量。反向价差的数量单位为USD，正向及混合价差为其对应<code>baseCcy</code></td>
</tr>
<tr>
<td>px</td>
<td>String</td>
<td>是</td>
<td>委托价格，仅适用于<code>limit</code>, <code>post_only</code>, <code>ioc</code>类型的订单</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b15"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>sCode</td>
<td>String</td>
<td>事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td>sMsg</td>
<td>String</td>
<td>事件执行失败或成功时的msg</td>
</tr>
</tbody></table>

<aside class="notice">
clOrdId <br>
clOrdId是用户自定义的唯一ID用来识别订单。如果在请求参数中传入了，那它一定会在返回参数内，并且可以用于查询订单，撤销订单，修改订单等接口。
clOrdId不能与当前所有的挂单的clOrdId重复
</aside>

<aside class="notice">
ordType<br>
订单类型，创建新订单时必须指定，您指定的订单类型将影响需要哪些订单参数和撮合系统如何执行您的订单，以下是有效的ordType：<br>
limit：限价单，要求指定sz 和 px <br>
post_only：限价委托，在下单那一刻只做maker，如果该笔订单的任何部分会吃掉当前挂单深度，则该订单将被全部撤销。 <br>
ioc：立即成交并取消剩余
</aside>

<aside class="notice">
sz <br>
反向价差(inverse spread)的数量单位是USD，与OKX订单簿相反.
</aside>

<p></p>
<h3 id="spread-trading-rest-api-cancel-order">撤单 </h3>
<p>撤销之前下的未完成订单。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/sprd/cancel-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/sprd/cancel-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"2510789768709120"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 撤单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">cancel_order</span><span class="p">(</span><span class="n">ordId</span><span class="o">=</span><span class="s">'1905309079888199680'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>可选</td>
<td>订单ID， <code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>可选</td>
<td>用户自定义ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oktswap6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>sCode</td>
<td>String</td>
<td>事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td>sMsg</td>
<td>String</td>
<td>事件执行失败时的msg</td>
</tr>
</tbody></table>

<aside class="notice">
撤单返回sCode等于0不能严格认为该订单已经被撤销，只表示您的撤单请求被系统服务器所接受，撤单结果以订单频道推送的状态或者查询订单状态为准
</aside>
<h3 id="spread-trading-rest-api-cancel-all-orders">全部撤单 </h3>
<p>撤销所有挂单</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/sprd/mass-cancel</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/sprd/mass-cancel
 body
 <span class="o">{</span>
    <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 全部撤单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">cancel_all_orders</span><span class="p">(</span><span class="n">sprdId</span><span class="o">=</span><span class="s">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>spread ID</td>
</tr>
</tbody></table>
<h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>Boolean</td>
<td>请求结果<code>true</code>, <code>false</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<aside class="notice">
返回结果中result=true 代表您的请求已被成功接收，并将会被处理。撤单的实际结果会通过`sprd-orders`频道推送。
</aside>
<h3 id="spread-trading-rest-api-amend-order">修改订单 </h3>
<p>修改当前未成交的挂单<br></p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/sprd/amend-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/sprd/amend-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"2510789768709120"</span>,
    <span class="s2">"newSz"</span>:<span class="s2">"2"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>可选</td>
<td>订单ID， <code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>可选</td>
<td>用户自定义order ID</td>
</tr>
<tr>
<td>reqId</td>
<td>String</td>
<td>否</td>
<td>用户自定义修改事件ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td>newSz</td>
<td>String</td>
<td>可选</td>
<td>修改的新数量，对于部分成交订单，该数量应包含已成交数量。 <br><code>newSz</code> 和 <code>newPx</code>不可同时为空。</td>
</tr>
<tr>
<td>newPx</td>
<td>String</td>
<td>可选</td>
<td>修改后的新价格。<br><code>newSz</code> 和 <code>newPx</code>不可同时为空。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"reqId"</span><span class="p">:</span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>用户自定义order ID</td>
</tr>
<tr>
<td>reqId</td>
<td>String</td>
<td>用户自定义修改事件ID</td>
</tr>
<tr>
<td>sCode</td>
<td>String</td>
<td>事件执行结果的code，0代表成功</td>
</tr>
<tr>
<td>sMsg</td>
<td>String</td>
<td>事件执行失败或成功时的msg</td>
</tr>
</tbody></table>

<aside class="notice">
newSz<br>
若修改订单时，订单修改后的新数量小于或等于 (accFillSz + canceledSz + pendingSettleSz)，在 pendingSettleSz 结算后，订单状态会根据 canceledSz 的不同而不同。当 canceledSz = 0，订单状态将被改为 filled；当 canceledSz &gt; 0，订单状态将被改为 canceled。
</aside>

<aside class="notice">
修改订单返回sCode等于0不能严格认为该订单已经被修改，只表示您的修改订单请求被系统服务器所接受，改单结果以订单频道推送的状态或者查询订单状态为准
</aside>
<h3 id="spread-trading-rest-api-get-order-details">获取订单信息 </h3>
<p>查订单信息</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/order?ordId<span class="o">=</span>2510789768709120

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取订单详情
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_order_details</span><span class="p">(</span><span class="n">ordId</span><span class="o">=</span><span class="s">'1905309079888199680'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>可选</td>
<td>订单ID，<code>ordId</code>和<code>clOrdId</code>必须传一个，若传两个，以<code>ordId</code>为主</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>可选</td>
<td>用户自定义ID，如果<code>clOrdId</code>关联了多个订单，只会返回最近的那笔订单</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP_BTC-USD-200329"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingSettleSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceledSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>Spread ID</td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>px</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>订单方向</td>
</tr>
<tr>
<td>fillSz</td>
<td>String</td>
<td>最新成交数量</td>
</tr>
<tr>
<td>fillPx</td>
<td>String</td>
<td>最新成交价格</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>最近成交ID</td>
</tr>
<tr>
<td>accFillSz</td>
<td>String</td>
<td>累计成交数量</td>
</tr>
<tr>
<td>pendingFillSz</td>
<td>String</td>
<td>待成交数量（包括待结算数量）</td>
</tr>
<tr>
<td>pendingSettleSz</td>
<td>String</td>
<td>待结算数量</td>
</tr>
<tr>
<td>canceledSz</td>
<td>String</td>
<td>被取消数量</td>
</tr>
<tr>
<td>avgPx</td>
<td>String</td>
<td>成交均价，如果成交数量为0，该字段为"0"</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>订单状态<br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交<br><code>filled</code>：完全成交</td>
</tr>
<tr>
<td>cancelSource</td>
<td>String</td>
<td>撤单原因<br><code>0</code>: 系统撤单<br><code>1</code>: 用户撤单 <br><code>14</code>: 已撤单：IOC 委托订单未完全成交，仅部分成交，导致部分挂单被撤回<br><code>15</code>: 已撤单：该订单委托价不在限价范围内<br> <code>20</code>: 系统倒计时撤单 <br><code>31</code>: 当前只挂单订单 (Post only) 将会吃掉挂单深度<br> <code>32</code>: 自成交保护<br><code>34</code>: 订单结算失败因为保证金不足 <br><code>35</code>: 撤单因为其他订单保证金不足</td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>订单状态更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式， 如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
订单数量等式: pendingFillSz + canceledSz + accFillSz = sz
</aside>
<h3 id="spread-trading-rest-api-get-active-orders">获取未成交订单列表 </h3>
<p>获取当前账户下所有未成交订单信息</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/orders-pending</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/orders-pending

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取未完成订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_active_orders</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>否</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>否</td>
<td>订单状态<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交</td>
</tr>
<tr>
<td>beginId</td>
<td>String</td>
<td>否</td>
<td>请求的起始订单ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td>endId</td>
<td>String</td>
<td>否</td>
<td>请求的结束订单ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingSettleSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceledSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>px</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>订单方向</td>
</tr>
<tr>
<td>fillSz</td>
<td>String</td>
<td>最新成交数量</td>
</tr>
<tr>
<td>fillPx</td>
<td>String</td>
<td>最新成交价格</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>最近成交ID</td>
</tr>
<tr>
<td>accFillSz</td>
<td>String</td>
<td>累计成交数量</td>
</tr>
<tr>
<td>pendingFillSz</td>
<td>String</td>
<td>待成交数量（包括待结算数量）</td>
</tr>
<tr>
<td>pendingSettleSz</td>
<td>String</td>
<td>待结算数量</td>
</tr>
<tr>
<td>canceledSz</td>
<td>String</td>
<td>被取消数量</td>
</tr>
<tr>
<td>avgPx</td>
<td>String</td>
<td>成交均价，如果成交数量为0，该字段为"0"</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>订单状态<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交</td>
</tr>
<tr>
<td>cancelSource</td>
<td>String</td>
<td>撤单原因<br><code>0</code>: 系统撤单<br><code>1</code>: 用户撤单 <br><code>14</code>: 已撤单：IOC 委托订单未完全成交，仅部分成交，导致部分挂单被撤回<br><code>15</code>: 已撤单：该订单委托价不在限价范围内<br> <code>20</code>: 系统倒计时撤单 <br><code>31</code>: 当前只挂单订单 (Post only) 将会吃掉挂单深度<br> <code>32</code>: 自成交保护 <br><code>34</code>: 订单结算失败因为保证金不足 <br><code>35</code>: 撤单因为其他订单保证金不足</td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>订单状态更新时间，Unix时间戳的毫秒数格式，如：<code>1597026383085</code></td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式，如：<code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="spread-trading-rest-api-get-orders-last-21-days">获取历史订单记录（近21天) </h3>
<p>获取最近21天挂单，且完全成交的订单数据，包括21天以前挂单，但近21天才成交的订单数据。按照订单创建时间倒序排序。</p>

<p>已经撤销的未成交单 只保留2小时。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/orders-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/orders-history

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取历史订单
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_orders</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>否</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>否</td>
<td>订单状态<br><code>canceled</code>：撤单成功<br><code>filled</code>：完全成交</td>
</tr>
<tr>
<td>beginId</td>
<td>String</td>
<td>否</td>
<td>请求的起始订单ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td>endId</td>
<td>String</td>
<td>否</td>
<td>请求的结束订单ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td>begin</td>
<td>String</td>
<td>否</td>
<td>筛选的开始时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>否</td>
<td>筛选的结束时间戳，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceledSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>px</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>订单方向</td>
</tr>
<tr>
<td>fillSz</td>
<td>String</td>
<td>最新成交数量</td>
</tr>
<tr>
<td>fillPx</td>
<td>String</td>
<td>最新成交价格</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>最近成交ID</td>
</tr>
<tr>
<td>accFillSz</td>
<td>String</td>
<td>累计成交数量</td>
</tr>
<tr>
<td>pendingFillSz</td>
<td>String</td>
<td>待成交数量（包括待结算数量）</td>
</tr>
<tr>
<td>pendingSettleSz</td>
<td>String</td>
<td>待结算数量</td>
</tr>
<tr>
<td>canceledSz</td>
<td>String</td>
<td>被取消数量</td>
</tr>
<tr>
<td>avgPx</td>
<td>String</td>
<td>成交均价，如果成交数量为0，该字段为"0"</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>订单状态<br><code>canceled</code>：撤单成功<br><code>filled</code>：完全成交</td>
</tr>
<tr>
<td>cancelSource</td>
<td>String</td>
<td>撤单原因<br><code>0</code>: 系统撤单<br><code>1</code>: 用户撤单 <br><code>14</code>: 已撤单：IOC 委托订单未完全成交，仅部分成交，导致部分挂单被撤回<br><code>15</code>: 已撤单：该订单委托价不在限价范围内<br> <code>20</code>: 系统倒计时撤单 <br><code>31</code>: 当前只挂单订单 (Post only) 将会吃掉挂单深度<br> <code>32</code>: 自成交保护<br><code>34</code>: 订单结算失败因为保证金不足 <br><code>35</code>: 撤单因为其他订单保证金不足</td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>订单状态更新时间，Unix时间戳的毫秒数格式，如：<code>1597026383085</code></td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式， 如 ： <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="spread-trading-rest-api-get-orders-history-last-3-months">获取历史订单记录（近三月) </h3>
<p>获取最近三个月挂单，且完全成交的订单数据，包括三个月以前挂单，但近三个月才成交的订单数据。按照订单创建时间倒序排序。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/orders-history-archive</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/orders-history-archive

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>否</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>否</td>
<td>订单状态<br><code>canceled</code>：撤单成功<br><code>filled</code>：完全成交</td>
</tr>
<tr>
<td>instType</td>
<td>String</td>
<td>否</td>
<td>产品类型<br><code>SPOT</code>：币币<br><code>FUTURES</code>:交割合约<br><code>SWAP</code>：永续合约 <br>订单任意一条腿的spread包含相应产品类型，则返回</td>
</tr>
<tr>
<td>instFamily</td>
<td>String</td>
<td>否</td>
<td>交易品种，例如 BTC-USDT <br>订单任意一条腿的spread包含相应交易品种，则返回</td>
</tr>
<tr>
<td>beginId</td>
<td>String</td>
<td>否</td>
<td>请求的起始订单ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td>endId</td>
<td>String</td>
<td>否</td>
<td>请求的结束订单ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td>begin</td>
<td>String</td>
<td>否</td>
<td>筛选的开始时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>否</td>
<td>筛选的结束时间戳，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingSettleSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceledSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>px</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>ordType</td>
<td>String</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>订单方向</td>
</tr>
<tr>
<td>fillSz</td>
<td>String</td>
<td>最新成交数量</td>
</tr>
<tr>
<td>fillPx</td>
<td>String</td>
<td>最新成交价格</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>最近成交ID</td>
</tr>
<tr>
<td>accFillSz</td>
<td>String</td>
<td>累计成交数量</td>
</tr>
<tr>
<td>pendingFillSz</td>
<td>String</td>
<td>待成交数量（包括待结算数量）</td>
</tr>
<tr>
<td>pendingSettleSz</td>
<td>String</td>
<td>待结算数量</td>
</tr>
<tr>
<td>canceledSz</td>
<td>String</td>
<td>被取消数量</td>
</tr>
<tr>
<td>avgPx</td>
<td>String</td>
<td>成交均价，如果成交数量为0，该字段为"0"</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>订单状态<br><code>canceled</code>：撤单成功<br><code>filled</code>：完全成交</td>
</tr>
<tr>
<td>cancelSource</td>
<td>String</td>
<td>撤单原因<br><code>0</code>: 系统撤单<br><code>1</code>: 用户撤单 <br><code>14</code>: 已撤单：IOC 委托订单未完全成交，仅部分成交，导致部分挂单被撤回<br><code>15</code>: 已撤单：该订单委托价不在限价范围内<br> <code>20</code>: 系统倒计时撤单 <br><code>31</code>: 当前只挂单订单 (Post only) 将会吃掉挂单深度<br> <code>32</code>: 自成交保护<br><code>34</code>: 订单结算失败因为保证金不足 <br><code>35</code>: 撤单因为其他订单保证金不足</td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>订单状态更新时间，Unix时间戳的毫秒数格式，如：<code>1597026383085</code></td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式， 如 ： <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="spread-trading-rest-api-get-trades-last-7-days">获取历史成交数据（近七天）</h3>
<p>获取近7天的订单成交明细信息. 结果按时间倒序返回。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/trades

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取私有交易
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_trades</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>否</td>
<td>交易 ID</td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>否</td>
<td>订单 ID</td>
</tr>
<tr>
<td>beginId</td>
<td>String</td>
<td>否</td>
<td>请求的起始交易ID，请求此ID之后（更新的数据）的分页内容，不包括 beginId</td>
</tr>
<tr>
<td>endId</td>
<td>String</td>
<td>否</td>
<td>请求的结束交易ID，请求此ID之前（更旧的数据）的分页内容，不包括 endId</td>
</tr>
<tr>
<td>begin</td>
<td>String</td>
<td>否</td>
<td>筛选的开始时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>否</td>
<td>筛选的结束时间戳，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP_BTC-USDT-200329"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123445"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"szCont"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fillPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1232342342"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-200329"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"szCont"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fillpnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5345646634"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>交易ID</td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>clOrdId</td>
<td>String</td>
<td>客户自定义订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>fillPx</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>fillSz</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>交易方向 <br><code>buy</code>：买 <br><code>sell</code>：卖</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>交易状态 <br><code>filled</code>：已成交 <br><code>rejected</code>：被拒绝</td>
</tr>
<tr>
<td>execType</td>
<td>String</td>
<td>流动性方向 <code>T</code>：taker <code>M</code>：maker</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>成交明细产生时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>legs</td>
<td>Array of objects</td>
<td>交易的腿</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品 ID</td>
</tr>
<tr>
<td>&gt; px</td>
<td>String</td>
<td>价格</td>
</tr>
<tr>
<td>&gt; sz</td>
<td>String</td>
<td>数量</td>
</tr>
<tr>
<td>&gt; szCont</td>
<td>String</td>
<td>成交合约数量 <br>仅适用于合约，现货将返回""</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>交易方向 <code>buy</code>：买 <code>sell</code>：卖</td>
</tr>
<tr>
<td>&gt; fillPnl</td>
<td>String</td>
<td>最新成交收益，适用于有成交的平仓订单。其他情况均为0。</td>
</tr>
<tr>
<td>&gt; fee</td>
<td>String</td>
<td>手续费金额或者返佣金额，手续费扣除为‘负数’，如-0.01；手续费返佣为‘正数’，如 0.01</td>
</tr>
<tr>
<td>&gt; feeCcy</td>
<td>String</td>
<td>交易手续费币种或者返佣金币种</td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>交易ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>错误码，默认0</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>错误提示，默认 ""</td>
</tr>
</tbody></table>
<h3 id="spread-trading-rest-api-get-spreads-public">获取Spreads（公共） </h3>
<p>获取可交易的Spreads。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/spreads</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/spreads?instId<span class="o">=</span>BTC-USDT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取价差产品
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_spreads</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>baseCcy</td>
<td>string</td>
<td>否</td>
<td>Spread币种。 例如BTC, ETH</td>
</tr>
<tr>
<td>instId</td>
<td>String</td>
<td>否</td>
<td>Spread里包含的产品ID。</td>
</tr>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>Spread ID</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>否</td>
<td>Spread状态<br><code>live</code>：交易中<br><code>suspend</code>：暂停中<br><code>expired</code>：订单过期</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP_ETH-USD-231229"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sprdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inverse"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1686903000159"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-231229"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"expTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703836800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1691376905595"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sprdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597029999085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597028888085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-230317"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sprdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linear"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"szCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597029999085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597028888085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-230317"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>sprdType</td>
<td>String</td>
<td>Spread类型，有效值为<code>linear</code>, <code>inverse</code>, <code>hybrid</code></td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>Spread状态<br><code>live</code>：交易中<br><code>suspend</code>：暂停中<br><code>expired</code>：已过期</td>
</tr>
<tr>
<td>baseCcy</td>
<td>String</td>
<td>Spread币种。 例如BTC, ETH。</td>
</tr>
<tr>
<td>szCcy</td>
<td>String</td>
<td>Spread数量单位。 例如USD, BTC, ETH, USD。</td>
</tr>
<tr>
<td>quoteCcy</td>
<td>String</td>
<td>Spread计价单位。例如USDT，USD。</td>
</tr>
<tr>
<td>tickSz</td>
<td>String</td>
<td>下单价格精度，如 0.0001。单位为Spread计价单位quoteCcy。</td>
</tr>
<tr>
<td>minSz</td>
<td>String</td>
<td>最小下单数量。单位为Spread数量单位szCcy。</td>
</tr>
<tr>
<td>lotSz</td>
<td>String</td>
<td>下单数量精度。单位为Spread数量单位szCcy。</td>
</tr>
<tr>
<td>listTime</td>
<td>String</td>
<td>上线日期。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>expTime</td>
<td>String</td>
<td>失效日期。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>上次更新时间。Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>legs</td>
<td>array of objects</td>
<td>腿</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>产品方向。<code>buy</code>：买入 <code>sell</code>：卖出</td>
</tr>
</tbody></table>
<h3 id="spread-trading-rest-api-get-order-book-public">获取Spread产品深度（公共） </h3>
<p>获取Spread产品深度列表</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/books</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/books?sprdId<span class="o">=</span>BTC-USDT_BTC-USDT-SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取深度
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_order_book</span><span class="p">(</span><span class="n">sprdId</span><span class="o">=</span><span class="s">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span> <span class="n">sz</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>spread ID，如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>否</td>
<td>深度档位数量。最大值为400。默认值为5。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"41006.8"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">价格</span><span class="w">
                    </span><span class="s2">"0.60038921"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">数量</span><span class="w">
                    </span><span class="s2">"1"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">此价格上订单数量</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"41006.3"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"0.30178218"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"2"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1629966436396"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>asks</td>
<td>Array</td>
<td>卖方深度</td>
</tr>
<tr>
<td>bids</td>
<td>Array</td>
<td>买方深度</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>深度产生的时间</td>
</tr>
</tbody></table>

<aside class="notice">
asks和bids值数组举例说明： ["411.8", "10", "4"] <br>
- 411.8为深度价格 <br>
- 10为此价格的数量 (单位为szCcy）<br>
- 4为此价格的订单数量 <br>
</aside>
<h3 id="spread-trading-rest-api-get-ticker-public">获取单个Spread产品行情信息（公共） </h3>
<p>获取单个Spread产品行情信息，包括最新成交价，买一卖一价及数量。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/sprd-ticker</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/sprd-ticker?sprdId<span class="o">=</span>BTC-USDT_BTC-USDT-SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>spread ID, 如 BTC-USDT_BTC-USDT-SWAP</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.67"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1715331406485"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>lastSz</td>
<td>String</td>
<td>最新成交的数量</td>
</tr>
<tr>
<td>askPx</td>
<td>String</td>
<td>卖一价</td>
</tr>
<tr>
<td>askSz</td>
<td>String</td>
<td>卖一价对应的数量</td>
</tr>
<tr>
<td>bidPx</td>
<td>String</td>
<td>买一价</td>
</tr>
<tr>
<td>bidSz</td>
<td>String</td>
<td>买一价对应的数量</td>
</tr>
<tr>
<td>open24h</td>
<td>String</td>
<td>24小时开盘价</td>
</tr>
<tr>
<td>high24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>vol24h</td>
<td>String</td>
<td>24小时交易量<br>正向及混合价差，单位为交易货币；反向价差，单位为美元</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>数据产生时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="spread-trading-rest-api-get-public-trades-public">获取公共成交数据（公共） </h3>
<p>查询市场上的Spread成交信息数据，每次请求最多返回500条结果。结果按时间倒序返回。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/sprd/public-trades</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/sprd/public-trades?sprdId<span class="o">=</span>BTC-USDT_BTC-USDT-SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SpreadTrading</span> <span class="k">as</span> <span class="n">SpreadTrading</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘:1
</span>
<span class="n">spreadAPI</span> <span class="o">=</span> <span class="n">SpreadTrading</span><span class="p">.</span><span class="n">SpreadTradingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取公共交易信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">spreadAPI</span><span class="p">.</span><span class="n">get_public_trades</span><span class="p">(</span><span class="n">sprdId</span><span class="o">=</span><span class="s">'ETH-USDT-SWAP_ETH-USDT-230929'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>否</td>
<td>Spread ID，例如BTC-USDT_BTC-USDT-SWAP</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDC-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"964.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242720719"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654161641568"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>tradeId</td>
<td>String</td>
<td>交易ID</td>
</tr>
<tr>
<td>px</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>sz</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>Taker的交易方向 <code>buy</code>：买 <code>sell</code>：卖</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>交易时间，Unix时间戳的毫秒数格式， 如 ： <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside>
最多可以查询到最近500条公共成交信息。
</aside>
<h3 id="spread-trading-rest-api-get-candlesticks">获取价差交易产品K线数据 </h3>
<p>获取K线数据。K线数据按请求的粒度分组返回，K线数据每个粒度最多可获取最近1,440条。</p>
<h4 id="40-2s">限速: 40次/2s</h4><h4 id="ip">限速规则： IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/sprd-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/sprd-candles?sprdId<span class="o">=</span>BTC-USDT_BTC-USDT-SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
<tr>
<td>bar</td>
<td>String</td>
<td>否</td>
<td>时间粒度，默认值1m，如 [1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/2D/3D/1W/1M/3M] <br>UTC时间开盘价k线：[/6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc]</td>
</tr>
<tr>
<td>after</td>
<td>String</td>
<td>否</td>
<td>请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的ts</td>
</tr>
<tr>
<td>before</td>
<td>String</td>
<td>否</td>
<td>请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的ts, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，最大为300，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"8422410"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"24912403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>开始时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>o</td>
<td>String</td>
<td>开盘价格</td>
</tr>
<tr>
<td>h</td>
<td>String</td>
<td>最高价格</td>
</tr>
<tr>
<td>l</td>
<td>String</td>
<td>最低价格</td>
</tr>
<tr>
<td>c</td>
<td>String</td>
<td>收盘价格</td>
</tr>
<tr>
<td>vol</td>
<td>String</td>
<td>交易量</td>
</tr>
<tr>
<td>confirm</td>
<td>String</td>
<td>K线状态 <br><code>0</code>：K线未完结 <br><code>1</code>：K线已完结</td>
</tr>
</tbody></table>

<aside class="notice">
返回的第一条K线数据可能不是完整周期k线，返回值数组顺序分别为是：[ts,o,h,l,c,vol,confirm].
</aside>
<h3 id="spread-trading-rest-api-get-candlesticks-history">获取价差交易产品历史K线数据 </h3>
<p>获取最近几年的历史k线数据</p>
<h4 id="20-2s">限速: 20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/sprd-history-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/sprd-history-candles?sprdId<span class="o">=</span>BTC-USDT_BTC-USDT-SWAP

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
<tr>
<td>after</td>
<td>String</td>
<td>否</td>
<td>请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的ts</td>
</tr>
<tr>
<td>before</td>
<td>String</td>
<td>否</td>
<td>请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的ts, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td>bar</td>
<td>String</td>
<td>否</td>
<td>时间粒度，默认值1m，如 [1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/2D/3D/1W/1M/3M] <br>UTC时间开盘价k线：[6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc]</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"8422410"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"24912403"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>开始时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>o</td>
<td>String</td>
<td>开盘价格</td>
</tr>
<tr>
<td>h</td>
<td>String</td>
<td>最高价格</td>
</tr>
<tr>
<td>l</td>
<td>String</td>
<td>最低价格</td>
</tr>
<tr>
<td>c</td>
<td>String</td>
<td>收盘价格</td>
</tr>
<tr>
<td>vol</td>
<td>String</td>
<td>交易量</td>
</tr>
<tr>
<td>confirm</td>
<td>String</td>
<td>K线状态 <br><code>0</code>：K线未完结 <br><code>1</code>：K线已完结</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是： [ts,o,h,l,c,vol,confirm]
</aside>
<h3 id="spread-trading-rest-api-cancel-all-after">倒计时全部撤单 </h3>
<p>在倒计时结束后，取消所有挂单。仅适用于价差交易。</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/sprd/cancel-all-after</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/sprd/cancel-all-after
<span class="o">{</span>
   <span class="s2">"timeOut"</span>:<span class="s2">"30"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timeOut</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">取消挂单的倒计时，单位为秒 <br>取值范围为 0, [10, 120]<br>0 代表不使用该功能</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"triggerTime"</span><span class="p">:</span><span class="s2">"1587971460"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1587971400"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">triggerTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">触发撤单的时间 <br>triggerTime=0 代表未使用该功能</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">请求被接收到的时间</td>
</tr>
</tbody></table>

<aside class="notice">
建议用户每一秒调用接口一次。当倒计时全部撤单被触发时，交易引擎将为用户逐一取消其挂单，该操作可能持续数秒。该功能起到保护用户的作用，不应作为交易策略使用。
</aside>
<h2 id="websocket-api">Websocket交易API</h2><h3 id="spread-trading-websocket-trade-api-ws-place-order">WS / 下单 </h3>
<p>只有当您的账户有足够的资金才能下单。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4>
<aside class="notice">
同Nitro Spread`下单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
  <span class="s2">"op"</span>: <span class="s2">"sprd-order"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
       <span class="s2">"sprdId"</span>:<span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>,
       <span class="s2">"clOrdId"</span>:<span class="s2">"b15"</span>,
       <span class="s2">"side"</span>:<span class="s2">"buy"</span>,
       <span class="s2">"ordType"</span>:<span class="s2">"limit"</span>,
       <span class="s2">"px"</span>:<span class="s2">"2.15"</span>,
       <span class="s2">"sz"</span>:<span class="s2">"2"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">支持的业务操作，<code>sprd-order</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; sprdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT_BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">由用户设置的订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-16位之间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单方向，<code>buy</code>   <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ordType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单类型<br><code>market</code>：市价单  <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托数量</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">委托价，仅适用于<code>limit</code>、<code>post_only</code>、<code>ioc</code>类型的订单</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345689"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单标签</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
</tbody></table>

<aside class="notice">
clOrdId<br>
clOrdId是用户自定义的唯一ID用来识别订单。如果在请求参数中传入了，那它一定会在返回参数内，并且可以用于查询订单，撤销订单，修改订单等接口。
clOrdId不能与当前所有的挂单的clOrdId重复
</aside>
<h3 id="spread-trading-websocket-trade-api-ws-amend-order">WS / 改单 </h3>
<p>修改当前未成交的订单</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4>
<aside class="notice">
同Nitro Spread`改单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
   <span class="s2">"id"</span>:<span class="s2">"1512"</span>,
   <span class="s2">"op"</span>:<span class="s2">"sprd-amend-order"</span>,
   <span class="s2">"args"</span>:[
      <span class="o">{</span>
         <span class="s2">"ordId"</span>:<span class="s2">"2510789768709120"</span>,
         <span class="s2">"newSz"</span>:<span class="s2">"2"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>是</td>
<td>消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>支持的业务操作，<code>sprd-amend-order</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求参数</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>可选</td>
<td>订单ID <br>ordId 和 clOrdId必须传一个，若传两个，以 ordId 为主</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>可选</td>
<td>由用户设置的订单ID</td>
</tr>
<tr>
<td>&gt; reqId</td>
<td>String</td>
<td>否</td>
<td>用户自定义修改事件ID <br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td>&gt; newSz</td>
<td>String</td>
<td>可选</td>
<td>修改的新数量，对于部分成交订单，该数量应包含已成交数量。<br><code>newSz</code> 或 <code>newPx</code>至少传一个。</td>
</tr>
<tr>
<td>&gt; newPx</td>
<td>String</td>
<td>可选</td>
<td>修改后的新价格</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-amend-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-amend-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-amend-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>消息的唯一标识</td>
</tr>
<tr>
<td>op</td>
<td>String</td>
<td>操作</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>代码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>消息</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>请求成功后返回的数据</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>由用户设置的订单ID</td>
</tr>
<tr>
<td>&gt; reqId</td>
<td>String</td>
<td>用户自定义修改事件ID</td>
</tr>
<tr>
<td>&gt; sCode</td>
<td>String</td>
<td>订单状态码，0 代表成功</td>
</tr>
<tr>
<td>&gt; sMsg</td>
<td>String</td>
<td>订单状态消息</td>
</tr>
</tbody></table>

<aside class="notice">
newSz<br>
若修改订单时，订单修改后的新数量小于或等于 (accFillSz + canceledSz + pendingSettleSz)，在 pendingSettleSz 结算后，订单状态会根据 canceledSz 的不同而不同。当 canceledSz = 0，订单状态将被改为 filled；当 canceledSz &gt; 0，订单状态将被改为 canceled。
</aside>

<aside class="notice">
修改订单返回sCode等于0不能严格认为该订单已经被修改，只表示您的修改订单请求被系统服务器所接受，改单结果以订单频道推送的状态或者查询订单状态为准
</aside>
<h3 id="spread-trading-websocket-trade-api-ws-cancel-order">WS / 撤单 </h3>
<p>撤销当前未完成订单</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4>
<aside class="notice">
同Nitro Spread`撤单` REST API 共享限速
</aside>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1514"</span>,
  <span class="s2">"op"</span>: <span class="s2">"sprd-cancel-order"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"ordId"</span>: <span class="s2">"2510789768709120"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th>是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">消息的唯一标识<br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>是</td>
<td style="text-align: left">支持的业务操作，<code>sprd-cancel-order</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td>是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">订单ID<br>ordId和clOrdId必须传一个，若传两个，以 ordId 为主</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td>可选</td>
<td style="text-align: left">用户提供的订单ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1514"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1514"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order not exist"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1514"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">由用户设置的订单ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态码，0 代表成功</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单状态消息</td>
</tr>
</tbody></table>

<aside class="notice">
撤单返回sCode等于0不能严格认为该订单已经被撤销，只表示您的撤单请求被系统服务器所接受，撤单结果以订单频道推送的状态或者查询订单状态为准<br>
</aside>
<h3 id="spread-trading-websocket-trade-api-ws-cancel-all-orders">WS / 全部撤单 </h3><h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"sprd-mass-cancel"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"sprdId"</span>:<span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">消息的唯一标识 <br>用户提供，返回参数中会返回以便于找到相应的请求。<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度必须要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">支持的业务操作，<code>sprd-mass-cancel</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求参数</td>
</tr>
<tr>
<td style="text-align: left">&gt; sprdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">价差ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-mass-cancel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre></div>
<blockquote>
<p>格式错误返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-mass-cancel"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息的唯一标识</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">业务操作</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">代码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">消息</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">请求成功后返回的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">撤单结果<br><code>true</code>：全部撤单成功<br><code>false</code>：全部撤单失败</td>
</tr>
</tbody></table>
<h2 id="spread-trading-websocket-private-channel">WebSocket私有频道 </h2>
<ul>
<li>实盘地址: <code>wss://ws.okx.com:8443/ws/v5/business</code></li>
<li>模拟盘地址: <code>wss://wspap.okx.com:8443/ws/v5/business</code> </li>
</ul>
<h3 id="spread-trading-websocket-private-channel-order-channel">订单频道 </h3>
<p>通过订阅<code>sprd-orders</code>频道获取Spread订单信息，首次订阅不推送，只有当下单、撤单等事件触发时，推送数据。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-orders"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div>
<blockquote>
<p>请求示例：</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-orders"</span>,
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>sprd-orders</code></td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-orders"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-orders</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>否</td>
<td>Spread ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingSettleSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceledSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amendResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>由用户设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>&gt; px</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>&gt; sz</td>
<td>String</td>
<td>原始委托数量，单位szCcy</td>
</tr>
<tr>
<td>&gt; ordType</td>
<td>String</td>
<td>订单类型<br><code>market</code>：市价单 <br><code>limit</code>：限价单 <br><code>post_only</code>：只做maker单 <br><code>ioc</code>：立即成交并取消剩余</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>订单方向 <br><code>buy</code> <br><code>sell</code></td>
</tr>
<tr>
<td>&gt; fillSz</td>
<td>String</td>
<td>最新成交数量，适用于结算成功的订单更新</td>
</tr>
<tr>
<td>&gt; fillPx</td>
<td>String</td>
<td>最新成交价格，适用于结算成功的订单更新</td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>最近成交ID</td>
</tr>
<tr>
<td>&gt; accFillSz</td>
<td>String</td>
<td>累计成交数量</td>
</tr>
<tr>
<td>&gt; pendingFillSz</td>
<td>String</td>
<td>待成交数量，包括待结算数量</td>
</tr>
<tr>
<td>&gt; pendingSettleSz</td>
<td>String</td>
<td>待结算数量</td>
</tr>
<tr>
<td>&gt; canceledSz</td>
<td>String</td>
<td>撤单数量</td>
</tr>
<tr>
<td>&gt; avgPx</td>
<td>String</td>
<td>成交均价，如果成交数量为0，该字段为"0"</td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>订单状态<br><code>canceled</code>：撤单成功<br><code>live</code>：等待成交<br><code>partially_filled</code>：部分成交<br><code>filled</code>：完全成交</td>
</tr>
<tr>
<td>&gt; cancelSource</td>
<td>String</td>
<td>撤单原因<br><code>0</code>: 系统撤单<br><code>1</code>: 用户撤单 <br><code>14</code>: 已撤单：IOC 委托订单未完全成交，仅部分成交，导致部分挂单被撤回<br><code>15</code>: 已撤单：该订单委托价不在限价范围内<br> <code>20</code>: 系统倒计时撤单<br><code>31</code>: 当前只挂单订单 (Post only) 将会吃掉挂单深度<br> <code>32</code>: 自成交保护<br><code>34</code>: 订单结算失败因为保证金不足 <br><code>35</code>: 撤单因为其他订单保证金不足</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>订单更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>&gt; code</td>
<td>String</td>
<td>错误码，默认为0</td>
</tr>
<tr>
<td>&gt; msg</td>
<td>String</td>
<td>错误消息，默认为""</td>
</tr>
<tr>
<td>&gt; reqId</td>
<td>String</td>
<td>修改订单时使用的request ID，如果没有修改，该字段为""</td>
</tr>
<tr>
<td>&gt; amendResult</td>
<td>String</td>
<td>修改订单的结果<br><code>-1</code>：失败<br><code>0</code>：成功<br>如果没有修改，该字段为""</td>
</tr>
</tbody></table>
<h3 id="spread-trading-websocket-private-channel-trades-channel">成交数据频道 </h3>
<p>通过订阅 <code>sprd-trades</code> 频道接收与用户成交信息相关的更新。</p>

<p>已成交（<code>filled</code>）和被拒绝（<code>rejected</code>）的交易都会通过此频道推送更新。</p>

<p>如果你的订单与多个订单相匹配，你有可能会收到多条更新推送。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例：单个</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-trades"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div>
<blockquote>
<p>请求示例：</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-trades"</span>,
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>sprd-trades</code></td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>否</td>
<td>Spread ID</td>
</tr>
</tbody></table>
<h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>否</td>
<td>Spread ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-trades"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="s2">"BTC-USDT-SWAP_BTC-USDT-200329"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"123445"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="s2">"999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"execType"</span><span class="p">:</span><span class="s2">"M"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"szCont"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fillPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1232342342"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-200329"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"szCont"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fillPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5345646634"</span><span class="w">
                </span><span class="p">},</span><span class="w">
            </span><span class="p">]</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>Subscribed data</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>交易ID</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>由用户设置的订单ID</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
<tr>
<td>&gt; fillPx</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>&gt; fillSz</td>
<td>String</td>
<td>最新成交数量</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>交易方向 <br><code>buy</code> <br><code>sell</code></td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>交易状态。 <br><code>filled</code>: 已成交 <br><code>rejected</code>: 被拒绝</td>
</tr>
<tr>
<td>&gt; execType</td>
<td>String</td>
<td>流动性方向 <br><code>T</code>：taker <br><code>M</code>：maker</td>
</tr>
<tr>
<td>&gt;ts</td>
<td>String</td>
<td>成交明细产生时间，Unix时间戳的毫秒数格式，如1597026383085</td>
</tr>
<tr>
<td>&gt; legs</td>
<td>Array of objects</td>
<td>交易的腿</td>
</tr>
<tr>
<td>&gt;&gt; instId</td>
<td>String</td>
<td>产品 ID</td>
</tr>
<tr>
<td>&gt;&gt; px</td>
<td>String</td>
<td>价格</td>
</tr>
<tr>
<td>&gt;&gt; sz</td>
<td>String</td>
<td>数量</td>
</tr>
<tr>
<td>&gt;&gt; szCont</td>
<td>String</td>
<td>成交合约数量 <br>仅适用于合约，现货将返回""</td>
</tr>
<tr>
<td>&gt;&gt; side</td>
<td>String</td>
<td>交易方向 <br><code>buy</code>：买 <br><code>sell</code>：卖</td>
</tr>
<tr>
<td>&gt;&gt; fillPnl</td>
<td>String</td>
<td>最新成交收益，适用于有成交的平仓订单。其他情况均为0。</td>
</tr>
<tr>
<td>&gt;&gt; fee</td>
<td>String</td>
<td>手续费金额或者返佣金额，手续费扣除为‘负数’，如-0.01；手续费返佣为‘正数’，如 0.01</td>
</tr>
<tr>
<td>&gt;&gt; feeCcy</td>
<td>String</td>
<td>交易手续费币种或者返佣金币种</td>
</tr>
<tr>
<td>&gt;&gt; tradeId</td>
<td>String</td>
<td>交易ID</td>
</tr>
<tr>
<td>&gt; code</td>
<td>String</td>
<td>错误码，默认0</td>
</tr>
<tr>
<td>&gt; msg</td>
<td>String</td>
<td>错误提示，默认 ""</td>
</tr>
</tbody></table>
<h2 id="spread-trading-websocket-public-channel">WebSocket公共频道 </h2>
<ul>
<li>实盘地址: <code>wss://ws.okx.com:8443/ws/v5/business</code></li>
<li>AWS实盘地址: <code>wss://wsaws.okx.com:8443/ws/v5/business</code></li>
<li>模拟盘地址: <code>wss://wspap.okx.com:8443/ws/v5/business</code> </li>
</ul>
<h3 id="spread-trading-websocket-public-channel-order-book-channel">深度频道 </h3>
<p>获取Spread深度数据。可用频道有：</p>

<ul>
<li><code>sprd-bbo-tbt</code>: 首次推1档快照数据，以后定量推送，每10毫秒当1档快照数据有变化推送一次1档数据</li>
<li><code>sprd-books5</code>: 首次推5档快照数据，以后定量推送，每100毫秒当5档快照数据有变化推送一次5档数据</li>
<li><code>sprd-books-l2-tbt</code>: 首次推400档快照数据，以后增量推送，每10毫秒推送一次变化的数据</li>
<li>单个连接、交易产品维度，深度频道的推送顺序固定为：sprd-bbo-tbt -&gt; sprd-books-l2-tbt -&gt; sprd-books5</li>
</ul>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例：sprd-books5</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-books5"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div>
<blockquote>
<p>请求示例：sprd-books-l2-tbt</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-books-l2-tbt"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>spread ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例：sprd-books5</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-books5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>返回示例：sprd-books-l2-tbt</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"sprd-books-l2-tbt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"214fdd24"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">args</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-books5</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">sprdId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD_BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>spread ID</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例：sprd-books5</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-books5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.06"</span><span class="p">,</span><span class="s2">"55154"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.07"</span><span class="p">,</span><span class="s2">"53276"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.08"</span><span class="p">,</span><span class="s2">"72435"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.09"</span><span class="p">,</span><span class="s2">"70312"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.1"</span><span class="p">,</span><span class="s2">"67272"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">]],</span><span class="w">
      </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.05"</span><span class="p">,</span><span class="s2">"57745"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.04"</span><span class="p">,</span><span class="s2">"57109"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.03"</span><span class="p">,</span><span class="s2">"69563"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.02"</span><span class="p">,</span><span class="s2">"71248"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.01"</span><span class="p">,</span><span class="s2">"65090"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">]],</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1670324386802"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seqId"</span><span class="p">:</span><span class="mi">1724294007352168320</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>推送示例：sprd-books-l2-tbt</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"sprd-books-l2-tbt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"1.9"</span><span class="p">,</span><span class="s2">"1.1"</span><span class="p">,</span><span class="s2">"3"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"2.5"</span><span class="p">,</span><span class="s2">"0.9"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"3.2"</span><span class="p">,</span><span class="s2">"4.921"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"4.8"</span><span class="p">,</span><span class="s2">"0.165"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"5.2"</span><span class="p">,</span><span class="s2">"4.921"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">]</span><span class="w">
          </span><span class="err">......</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"1.8"</span><span class="p">,</span><span class="s2">"0.165"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"0.6"</span><span class="p">,</span><span class="s2">"0.2"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"23.49"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"-0.1"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"-0.6"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"-3.9"</span><span class="p">,</span><span class="s2">"4.921"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">]</span><span class="w">
            </span><span class="err">......</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1724391380926"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"checksum"</span><span class="p">:</span><span class="mi">-1285595583</span><span class="p">,</span><span class="w">
         </span><span class="nl">"prevSeqId"</span><span class="p">:</span><span class="mi">-1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"seqId"</span><span class="p">:</span><span class="mi">1724294007352168320</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>Spread ID</td>
</tr>
<tr>
<td>action</td>
<td>String</td>
<td>推送数据动作，增量推送数据还是全量推送数据<br><code>snapshot</code>：全量<br><code>update</code>：增量</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; asks</td>
<td>Array</td>
<td>卖方深度</td>
</tr>
<tr>
<td>&gt; bids</td>
<td>Array</td>
<td>买方深度</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据更新时间戳，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>&gt; checksum</td>
<td>Integer</td>
<td>检验和 （下方注解）。仅适用&nbsp;<code>sprd-books-l2-tbt</code></td>
</tr>
<tr>
<td>&gt; prevSeqId</td>
<td>Integer</td>
<td>上一个推送的序列号。仅适用&nbsp;<code>sprd-books-l2-tbt</code></td>
</tr>
<tr>
<td>&gt; seqId</td>
<td>Integer</td>
<td>推送的序列号 （下方注解）</td>
</tr>
</tbody></table>

<aside class="notice">
asks和bids值数组举例说明： ["411.8", "10", "4"] <br>
- 411.8为深度价格 <br>
- 10为此价格的数量 （单位为szCcy) <br>
- 4为此价格的订单数量 <br>
</aside>
<h4 id="9debf14c81">序列号</h4>
<p><code>seqId</code>是交易所行情的一个序号。如果用户通过多个websocket连接同一频道，收到的序列号会是相同的。每个<code>sprdId</code>对应一套。用户可以使用在增量推送频道的<code>prevSeqId</code>和<code>seqId</code>来构建消息序列。这将允许用户检测数据包丢失和消息的排序。正常场景下<code>seqId</code>的值大于<code>prevSeqId</code>。新消息中的<code>prevSeqId</code>与上一条消息的<code>seqId</code>匹配。最小序列号值为0，除了快照消息的<code>prevSeqId</code>为-1。<br></p>

<p>异常情况：<br>
1. 如果一段时间内没有深度更新，OKX将发一条消息<code>'asks': [], 'bids': []</code>以通知用户连接是正常的。推送的<code>seqId</code>跟上一条信息的一样，<code>prevSeqId</code>等于<code>seqId</code>。
2. 序列号可能由于维护而重置，在这种情况下，用户将收到一条<code>seqId</code>小于<code>prevSeqId</code>的增量消息。随后的消息将遵循常规的排序规则。</p>
<h5 id="30fd4ed55b">示例</h5>
<ol>
<li>快照推送：<code>prevSeqId = -1</code>，<code>seqId = 10</code></li>
<li>增量推送1（正常更新）：<code>prevSeqId = 10</code>，<code>seqId = 15</code></li>
<li>增量推送2（无更新）：<code>prevSeqId = 15</code>，<code>seqId = 15</code></li>
<li>增量推送3（序列重置）：<code>prevSeqId = 15</code>，<code>seqId = 3</code></li>
<li>增量推送4（正常更新）：<code>prevSeqId = 3</code>，<code>seqId = 5</code></li>
</ol>
<h4 id="checksum">Checksum机制</h4>
<p>此机制可以帮助用户校验深度数据的准确性。</p>
<h5 id="6b8c0ab1a4">深度合并</h5>
<p>用户订阅增量推送深度频道成功后，首先获取初始全量深度数据，当获取到增量推送数据后，更新本地全量深度数据。 </p>

<ol>
<li>如果有相同价格，则比较数量；数量为0删除此深度，数量有变化则替换此数据。</li>
<li>如果没有相同价格，则按照价格优劣排序（bid为价格降序，ask为价格升序），将深度信息插入到全量数据中</li>
</ol>
<h5 id="ba62be084b">计算校验和</h5>
<p>先用深度合并后前25档bids和asks组成一个字符串（其中ask和bid中的价格和数量以冒号连接），再计算其crc32值（32位有符号整型）。  </p>
<h3 id="spread-trading-websocket-public-channel-public-trades-channel">公共成交数据频道 </h3>
<p>订阅<code>sprd-public-trades</code>获取最近的成交数据，有成交数据就推送，每次推送仅包含一条成交数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-public-trades"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>sprd-public-trades</code></td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-public-trades"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-public-trades</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-public-trades"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2499206329160695808"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726801105519"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>交易 ID</td>
</tr>
<tr>
<td>&gt; px</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>&gt; sz</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>成交方向 <br><code>buy</code> <br><code>sell</code></td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>成交时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="spread-trading-websocket-public-channel-tickers-channel">行情频道 </h3>
<p>订阅<code>sprd-tickers</code>获取产品的最新成交价、买一价、卖一价及数量等信息。
最快100ms推送一次，没有触发事件时最慢1s推送一次，触发推送的事件有：成交、买一卖一发生变动。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-tickers"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>sprd-tickers</code></td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>spread ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-tickers"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-tickers</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-200327</span><span class="se">\"</span><span class="s2">}]}"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.79"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.79"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.87"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1715247061026"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>&gt; last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>&gt; lastSz</td>
<td>String</td>
<td>最新成交的数量</td>
</tr>
<tr>
<td>&gt; askPx</td>
<td>String</td>
<td>卖一价</td>
</tr>
<tr>
<td>&gt; askSz</td>
<td>String</td>
<td>卖一价对应的量</td>
</tr>
<tr>
<td>&gt; bidPx</td>
<td>String</td>
<td>买一价</td>
</tr>
<tr>
<td>&gt; bidSz</td>
<td>String</td>
<td>买一价对应的数量</td>
</tr>
<tr>
<td>&gt; open24h</td>
<td>String</td>
<td>24小时开盘价</td>
</tr>
<tr>
<td>&gt; high24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>&gt; low24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>&gt; vol24h</td>
<td>String</td>
<td>24小时交易量，单元为交易货币或美元</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据产生时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>

<aside class="notice">
vol24h<br>
对于现货/U本位合约价差交易产品，以及U本位合约价差交易产品，交易量以交易货币为单位；对于币本位合约价差交易产品，交易量以USD为单位。
</aside>
<h3 id="spread-trading-websocket-public-channel-candlesticks-channel">K线频道 </h3>
<p>该频道使用业务WebSocket，不需鉴权。</p>

<p>获取K线数据，推送频率最快是间隔1秒推送一次数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
   <span class="s2">"op"</span>:<span class="s2">"subscribe"</span>,
   <span class="s2">"args"</span>:[
      <span class="o">{</span>
         <span class="s2">"channel"</span>:<span class="s2">"sprd-candle1D"</span>,
         <span class="s2">"sprdId"</span>:<span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作 <br><code>subscribe</code> <br><code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>channel</td>
<td>String</td>
<td>是</td>
<td>频道名 <br><code>sprd-candle3M</code> <code>sprd-candle1M</code> <br><code>sprd-candle1W</code> <br><code>sprd-candle1D</code> <code>sprd-candle2D</code> <code>sprd-candle3D</code> <code>sprd-candle5D</code> <br><code>sprd-candle12H</code> <code>sprd-candle6H</code> <code>sprd-candle4H</code> <code>sprd-candle2H</code> <code>sprd-candle1H</code> <br><code>sprd-candle30m</code> <code>sprd-candle15m</code> <code>sprd-candle5m</code> <code>sprd-candle3m</code> <code>sprd-candle1m</code> <br><code>sprd-candle3Mutc</code> <code>sprd-candle1Mutc</code> <code>sprd-candle1Wutc</code> <code>sprd-candle1Dutc</code> <code>sprd-candle2Dutc</code> <code>sprd-candle3Dutc</code> <code>sprd-candle5Dutc</code> <code>sprd-candle12Hutc</code> <code>sprd-candle6Hutc</code></td>
</tr>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-candle1D"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-candle1D</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件 <br><code>subscribe</code> <br><code>unsubscribe</code> <br><code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>channel</td>
<td>String</td>
<td>是</td>
<td>频道名</td>
</tr>
<tr>
<td>sprdId</td>
<td>String</td>
<td>是</td>
<td>Spread ID</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-candle1D"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USD-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"8533.02"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"8553.74"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"8527.17"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"8548.26"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"45247"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>Spread ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>开始时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>&gt; o</td>
<td>String</td>
<td>开盘价格</td>
</tr>
<tr>
<td>&gt; h</td>
<td>String</td>
<td>最高价格</td>
</tr>
<tr>
<td>&gt; l</td>
<td>String</td>
<td>最低价格</td>
</tr>
<tr>
<td>&gt; c</td>
<td>String</td>
<td>收盘价格</td>
</tr>
<tr>
<td>&gt; vol</td>
<td>String</td>
<td>交易量</td>
</tr>
<tr>
<td>&gt; confirm</td>
<td>String</td>
<td>K线状态 <br><code>0</code>：K线未完结 <br><code>1</code>：K线已完结</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是： [ts,o,h,l,c,vol,confirm]
</aside>
<h1 id="public-data">公共数据 </h1>
<p><code>公共数据</code>功能模块下的API接口不需要身份验证。</p>
<h2 id="public-data-rest-api">REST API </h2><h3 id="public-data-rest-api-get-instruments">获取交易产品基础信息 </h3>
<p>获取所有可交易产品的信息列表。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip-insttype">限速规则：IP +instType</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/instruments</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/instruments?instType<span class="o">=</span>SPOT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交易产品基础信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_instruments</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数，仅适用于<code>交割/永续/期权</code>，期权必填</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
            </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctMult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctValCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1606468572000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxIcebergSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLmtAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLmtSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxMktAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxMktSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxStopSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxTriggerSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxTwapSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settleCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ruleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stk"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品id， 如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数，如 <code>BTC-USD</code>，仅适用于<code>杠杆/交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种，如 <code>BTC-USD</code>，仅适用于<code>杠杆/交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">category</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>币种类别</del>（已废弃）</td>
</tr>
<tr>
<td style="text-align: left">baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易货币币种，如 <code>BTC-USDT</code> 中的 <code>BTC</code> ，仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价货币币种，如 <code>BTC-USDT</code> 中的<code>USDT</code> ，仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">settleCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">盈亏结算和保证金币种，如 <code>BTC</code> 仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">ctVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">ctMult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约乘数，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">ctValCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值计价币种，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">optType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权类型，<code>C</code>或<code>P</code> 仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">stk</td>
<td style="text-align: left">String</td>
<td style="text-align: left">行权价格，仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">listTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">上线时间 <br>Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">auctionEndTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">集合竞价结束时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code> <br>仅适用于通过集合竞价方式上线的<code>币币</code>，其余情况返回""</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品下线时间<br>适用于<code>币币/杠杆/交割/永续/期权</code>，对于 <code>交割/期权</code>，为交割/行权日期；亦可以为产品下线时间，有变动就会推送。</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">该<code>instId</code>支持的最大杠杆倍数，不适用于<code>币币</code>、<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">tickSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单价格精度，如 <code>0.0001</code><br>对于期权来说，是梯度中的最小下单价格精度，如果想要获取期权价格梯度，请使用"获取期权价格梯度"接口</td>
</tr>
<tr>
<td style="text-align: left">lotSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单数量精度<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">minSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小下单数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">ctType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约类型<br><code>linear</code>：正向合约<br><code>inverse</code>：反向合约<br>仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">alias</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约日期别名<br><code>this_week</code>：本周 <br><code>next_week</code>：次周 <br><code>this_month</code>：本月 <br><code>next_month</code>：次月<br><code>quarter</code>：季度<br><code>next_quarter</code>：次季度 <br>仅适用于<code>交割</code> <br><strong>不建议使用，用户应通过 expTime 字段获取合约的交割日期</strong></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品状态<br><code>live</code>：交易中 <br><code>suspend</code>：暂停中<br><code>preopen</code>：预上线，交割和期权合约轮转生成到开始交易；部分交易产品上线前<br><code>test</code>：测试中（测试产品，不可交易）</td>
</tr>
<tr>
<td style="text-align: left">ruleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易规则类型<br> <code>normal</code>：普通交易<br> <code>pre_market</code>：盘前交易</td>
</tr>
<tr>
<td style="text-align: left">maxLmtSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">maxMktSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市价单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">maxLmtAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的单笔最大美元价值</td>
</tr>
<tr>
<td style="text-align: left">maxMktAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市价单的单笔最大美元价值<br>仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">maxTwapSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间加权单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code>。<br>单笔最小委托数量为 minSz*2</td>
</tr>
<tr>
<td style="text-align: left">maxIcebergSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冰山委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">maxTriggerSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">maxStopSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损市价委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>USDT</code></td>
</tr>
</tbody></table>

<aside class="notice">
当合约预上线时，状态变更为预上线（即新生成一个合约，新合约会处于预上线状态）；
listTime以及auctionEndTime<br>
对于通过集合竞价方式上线的币币，listTime为集合竞价开始时间，auctionEndTime为集合竞价结束、连续交易开始时间；对于其他情况及业务线，listTime即为连续交易开始时间，auctionEndTime将返回""
</aside>

<aside class="notice">
state<br>
状态state总是在时间到达listTime时由`preopen`转变为`live`<br>
当产品下线的时候（如交割合约被交割的时候，期权合约被行权的时候），查询不到该产品
</aside>
<h3 id="public-data-rest-api-get-delivery-exercise-history">获取交割和行权记录 </h3>
<p>获取3个月内的交割合约的交割记录和期权的行权记录</p>
<h4 id="40-2s">限速：40次/2s</h4><h4 id="ip-instrumenttype-uly">限速规则：IP + (instrumentType + uly)</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/delivery-exercise-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/delivery-exercise-history?instType<span class="o">=</span>OPTION&amp;uly<span class="o">=</span>BTC-USD
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交割和行权记录
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_delivery_exercise_history</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"FUTURES"</span><span class="p">,</span>
    <span class="n">uly</span><span class="o">=</span><span class="s">"BTC-USD"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数<br><code>uly</code>与<code>instFamily</code>必须传一个,若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种<br><code>uly</code>与<code>instFamily</code>必须传一个,若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"delivery"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"insId"</span><span class="p">:</span><span class="s2">"BTC-USD-190927"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.016"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"insId"</span><span class="p">:</span><span class="s2">"BTC-USD-200529-6000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"exercised"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.016"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"insId"</span><span class="p">:</span><span class="s2">"BTC-USD-200529-8000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"exercised"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"px"</span><span class="p">:</span><span class="s2">"0.016"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交割/行权日期，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">String</td>
<td style="text-align: left">详细数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; insId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交割/行权的合约ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交割/行权的价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">类型  <br><code>delivery</code>：交割 <br><code>exercised</code>：实值已行权 <br><code>expired_otm</code>：虚值已过期</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-open-interest">获取持仓总量 </h3>
<p>查询单个交易产品的市场的持仓总量</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip-instrumentid">限速规则：IP + instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/open-interest</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/open-interest?instType<span class="o">=</span>SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取持仓总量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_open_interest</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"FUTURES"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code><br><code>期权</code>情况下，<code>uly</code>和<code>instFamily</code>必须传一个</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code><br><code>期权</code>情况下，<code>uly</code>和<code>instFamily</code>必须传一个</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如  <code>BTC-USDT-SWAP</code>  <br>仅适用于<code>交割</code>/<code>永续</code>/<code>期权</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"oi"</span><span class="p">:</span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"oiCcy"</span><span class="p">:</span><span class="s2">"555.55"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"oiUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">oi</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓量（按<code>张</code>折算）</td>
</tr>
<tr>
<td style="text-align: left">oiCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓量（按<code>币</code>折算）</td>
</tr>
<tr>
<td style="text-align: left">oiUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓量（按<code>USD</code>折算）</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据返回时间，Unix时间戳的毫秒数格式 ，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-funding-rate">获取永续合约当前资金费率 </h3>
<p>获取当前资金费率</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip-instrumentid">限速规则：IP +instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/funding-rate</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/funding-rate?instId<span class="o">=</span>BTC-USD-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取永续合约当前资金费率
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_funding_rate</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD-SWAP"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID ，如 <code>BTC-USD-SWAP</code> <br>仅适用于<code>永续</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000792386885340"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703088000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_period"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00375"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.00375"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nextFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0002061194322149"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nextFundingTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703116800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"premium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001233824646391"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001418433662153"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703070685309"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型  <code>SWAP</code>：永续合约</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如<code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">method</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费收取逻辑 <br><code>current_period</code>：当期收 <br><code>next_period</code>：跨期收</td>
</tr>
<tr>
<td style="text-align: left">fundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费率</td>
</tr>
<tr>
<td style="text-align: left">nextFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期预测资金费率 <br>当收取逻辑为<code>current_period</code>时，nextFundingRate字段将返回""</td>
</tr>
<tr>
<td style="text-align: left">fundingTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费时间 ，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">nextFundingTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期资金费时间 ，Unix时间戳的毫秒数格式，如 <code>1622851200000</code></td>
</tr>
<tr>
<td style="text-align: left">minFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期的预测资金费率下限</td>
</tr>
<tr>
<td style="text-align: left">maxFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期的预测资金费率上限</td>
</tr>
<tr>
<td style="text-align: left">settState</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费率结算状态 <br><code>processing</code>：结算中 <br><code>settled</code>：已结算</td>
</tr>
<tr>
<td style="text-align: left">settFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">若 settState = <code>processing</code>，该字段代表用于本轮结算的资金费率；若 settState = <code>settled</code>，该字段代表用于上轮结算的资金费率</td>
</tr>
<tr>
<td style="text-align: left">premium</td>
<td style="text-align: left">String</td>
<td style="text-align: left">溢价，为合约的中间价和指数价格的差异</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
针对一些资金费率波动较大的小币种，OKX也将实时关注行情变化，在必要时候，将资金费率收取频率从8小时收付，改成频率较高的6小时/4小时/2小时/1小时收付。因此，用户应关注`fundingTime`及`nextFundingTime`字段以确定合约的资金费收取频率。
</aside>
<h3 id="public-data-rest-api-get-funding-rate-history">获取永续合约历史资金费率 </h3>
<p>获取最近3个月的历史资金费率</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip-instrumentid">限速规则：IP +instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/funding-rate-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/funding-rate-history?instId<span class="o">=</span>BTC-USD-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取永续合约历史资金费率
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">funding_rate_history</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD-SWAP"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID ，如 <code>BTC-USD-SWAP</code> <br>仅适用于<code>永续</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>fundingTime</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>fundingTime</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000746604960499"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703059200000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_period"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000746572360545"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000227985782722"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fundingTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703030400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_period"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realizedRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0002279755647389"</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">fundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预计资金费率</td>
</tr>
<tr>
<td style="text-align: left">realizedRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际资金费率</td>
</tr>
<tr>
<td style="text-align: left">fundingTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">method</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费收取逻辑 <br><code>current_period</code>：当期收 <br><code>next_period</code>：跨期收</td>
</tr>
</tbody></table>

<aside class="notice">
针对一些资金费率波动较大的小币种，OKX也将实时关注行情变化，在必要时候，将资金费率收取频率从8小时收付，改成频率较高的6小时/4小时/2小时/1小时收付。因此，用户应关注`fundingTime`及`nextFundingTime`字段以确定合约的资金费收取频率。
</aside>
<h3 id="public-data-rest-api-get-limit-price">获取限价 </h3>
<p>查询单个交易产品的最高买价和最低卖价</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/price-limit</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/price-limit?instId<span class="o">=</span>BTC-USDT-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取限价
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_price_limit</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD-SWAP"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buyLmt"</span><span class="p">:</span><span class="s2">"17057.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sellLmt"</span><span class="p">:</span><span class="s2">"16388.9"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权 <br>若产品ID支持杠杆交易，则返回<code>MARGIN</code>；否则，返回<code>SPOT</code>。</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID ，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">buyLmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高买价 <br>当enabled为false时，返回""</td>
</tr>
<tr>
<td style="text-align: left">sellLmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低卖价 <br>当enabled为false时，返回""</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价数据更新时间 ，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">enabled</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">限价是否生效 <br><code>true</code>：限价生效 <br><code>false</code>：限价不生效</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-option-market-data">获取期权定价 </h3>
<p>查询期权详细信息</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip-uly">限速规则：IP +uly</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/opt-summary</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/opt-summary?uly<span class="o">=</span>BTC-USD
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取期权定价
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_opt_summary</span><span class="p">(</span>
    <span class="n">uly</span><span class="o">=</span><span class="s">"BTC-USD"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数，仅适用于期权<br><code>uly</code>与<code>instFamily</code>必须传一个,若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种，仅适用于期权<br><code>uly</code>与<code>instFamily</code>必须传一个,若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">合约到期日，格式为"YYMMDD"，如 "200527"</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
            </span><span class="nl">"askVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.7207056835937498"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8310206676289528"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.9857332101544538"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39016.8143629068452065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1.1965483553276135"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000011933182397798109"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-220309-33000-C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5551965233045728"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0014131955002093717"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-66.03526900575946"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646733631242"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000018173851073258973"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.7089307622132419"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"askVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.7968814062499998"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.014668822072611904"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.01426678984554619"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39016.8143629068452065"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.49483062407551576"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000011933182397798109"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-220309-33000-P"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5551965233045728"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0014131955002093717"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-54.93377294845015"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646733631242"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000018173851073258973"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.7089307622132419"</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-200103-5500-C</code></td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">delta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">gamma</td>
<td style="text-align: left">String</td>
<td style="text-align: left">delta对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">vega</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格对隐含波动率的敏感度</td>
</tr>
<tr>
<td style="text-align: left">theta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格对剩余期限的敏感度</td>
</tr>
<tr>
<td style="text-align: left">deltaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下期权价格对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">gammaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下delta对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">vegaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下期权价格对隐含波动率的敏感度</td>
</tr>
<tr>
<td style="text-align: left">thetaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下期权价格对剩余期限的敏感度</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">markVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记波动率</td>
</tr>
<tr>
<td style="text-align: left">bidVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">bid波动率</td>
</tr>
<tr>
<td style="text-align: left">askVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">ask波动率</td>
</tr>
<tr>
<td style="text-align: left">realVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现波动率（目前该字段暂未启用）</td>
</tr>
<tr>
<td style="text-align: left">volLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价平期权的隐含波动率</td>
</tr>
<tr>
<td style="text-align: left">fwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">远期价格</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-estimated-delivery-exercise-price">获取预估交割/行权价格 </h3>
<p>获取交割合约和期权预估交割/行权价。交割/行权预估价只有交割/行权前一小时才有返回值</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip-instrumentid">限速规则：IP +instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/estimated-price</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/estimated-price?instId<span class="o">=</span>BTC-USDT-191227
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取预估交割/行权价格
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_estimated_price</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-220916"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID， 如 <code>BTC-USD-200214</code> <br>仅适用于<code>交割/期权</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT-201227"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settlePx"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID， 如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">settlePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估交割、行权价格</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据返回时间 ，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-discount-rate-and-interest-free-quota">获取免息额度和币种折算率等级 </h3>
<p>获取免息额度和币种折算率等级</p>
<h4 id="2-2s">限速：2 次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/public/discount-rate-interest-free-quota</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/discount-rate-interest-free-quota?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取免息额度和币种折算率等级
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">discount_interest_free_quota</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">discountLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left"><del>折算率等级（已废弃）<del></del></del></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"discountRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.98"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"liqPenaltyRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disCcyEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"discountRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.9775"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"liqPenaltyRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0225"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disCcyEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"discountLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minDiscountRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">免息金额</td>
</tr>
<tr>
<td style="text-align: left">discountLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>折算率等级<del>（已废弃）</del></del></td>
</tr>
<tr>
<td style="text-align: left">minDiscountRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小折算率，针对数量超过最后一档的最大值时</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">新的币种折算率详情</td>
</tr>
<tr>
<td style="text-align: left">&gt; discountRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">折算率</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">梯度区间上限，单位为币种，如 BTC，"" 表示正无穷</td>
</tr>
<tr>
<td style="text-align: left">&gt; minAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">梯度区间下限，单位为币种，如 BTC，最小值是0</td>
</tr>
<tr>
<td style="text-align: left">&gt; tier</td>
<td style="text-align: left">String</td>
<td style="text-align: left">档位</td>
</tr>
<tr>
<td style="text-align: left">&gt; liqPenaltyRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">强平罚金费率</td>
</tr>
<tr>
<td style="text-align: left">&gt; disCcyEq</td>
<td style="text-align: left">String</td>
<td style="text-align: left">折扣后的币种权益（取当前梯度区间上限），便于快速计算</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-system-time">获取系统时间 </h3>
<p>获取系统时间</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/time</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/time
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取系统时间
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_system_time</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-mark-price">获取标记价格 </h3>
<p>为了防止个别用户恶意操控市场导致合约价格波动剧烈，我们根据现货指数和合理基差设定标记价格。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip-instrumentid">限速规则：IP +instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/mark-price</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/mark-price?instType<span class="o">=</span>SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取标记价格
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_mark_price</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SWAP"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markPx"</span><span class="p">:</span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-200214</code></td>
</tr>
<tr>
<td style="text-align: left">markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">接口数据返回时间，Unix时间戳的毫秒数格式，如<code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-position-tiers">获取衍生品仓位档位 </h3>
<p>全部仓位档位对应信息，当前最高可开杠杆倍数由您的借币持仓和保证金率决定。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/position-tiers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/position-tiers?tdMode<span class="o">=</span>cross&amp;instType<span class="o">=</span>SWAP&amp;instFamily<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取衍生品仓位档位
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_position_tiers</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SWAP"</span><span class="p">,</span>
    <span class="n">tdMode</span><span class="o">=</span><span class="s">"cross"</span><span class="p">,</span>
    <span class="n">uly</span><span class="o">=</span><span class="s">"BTC-USD"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">tdMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">保证金模式<br><code>isolated</code>：逐仓 ；<code>cross</code>：全仓</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数，支持多uly，半角逗号分隔，最大不超过3个<br>当产品类型是<code>永续</code>、<code>交割</code>、<code>期权</code> 之一时，<code>uly</code>与<code>instFamily</code>必须传一个，若传两个，以<code>instFamily</code>为主<br>当产品类型是 <code>MARGIN</code> 时忽略</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种，支持多instFamily，半角逗号分隔，最大不超过5个<br>当产品类型是<code>永续</code>、<code>交割</code>、<code>期权</code> 之一时，<code>uly</code>与<code>instFamily</code>必须传一个，若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID，支持多instId，半角逗号分隔，最大不超过5个<br>仅适用<code>币币杠杆</code>，<code>instId</code>和<code>ccy</code>必须传一个，若传两个，以<code>instId</code>为主</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">保证金币种<br>仅适用杠杆全仓，该值生效时，返回的是<code>跨币种保证金模式</code>和<code>组合保证金模式</code>下的借币量</td>
</tr>
<tr>
<td style="text-align: left">tier</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查指定档位</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
            </span><span class="nl">"baseMaxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"optMgnFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteMaxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币对</td>
</tr>
<tr>
<td style="text-align: left">tier</td>
<td style="text-align: left">String</td>
<td style="text-align: left">仓位档位</td>
</tr>
<tr>
<td style="text-align: left">minSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">该档位最少借币量或者持仓数量  杠杆/期权/永续/交割 最小持仓量 默认0  <br>当 <code>ccy</code> 参数生效时，返回 <code>ccy</code> 的最小借币量</td>
</tr>
<tr>
<td style="text-align: left">maxSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">该档位最多借币量或者持仓数量  杠杆/期权/永续/交割<br>当 <code>ccy</code> 参数生效时，返回 <code>ccy</code> 的最大借币量</td>
</tr>
<tr>
<td style="text-align: left">mmr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维持保证金率</td>
</tr>
<tr>
<td style="text-align: left">imr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低初始保证金率</td>
</tr>
<tr>
<td style="text-align: left">maxLever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高可用杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">optMgnFactor</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权保证金系数  （仅适用于期权）</td>
</tr>
<tr>
<td style="text-align: left">quoteMaxLoan</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价货币  最大借币量（仅适用于杠杆，且<code>instId</code>参数生效时），例如 BTC-USDT   里的 USDT最大借币量</td>
</tr>
<tr>
<td style="text-align: left">baseMaxLoan</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易货币  最大借币量（仅适用于杠杆，且<code>instId</code>参数生效时），例如 BTC-USDT   里的 BTC最大借币量</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-interest-rate-and-loan-quota">获取市场借币杠杆利率和借币限额 </h3><h4 id="2-2s">限速：2次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/interest-rate-loan-quota</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/interest-rate-loan-quota
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取市场借币杠杆利率和借币限额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_interest_rate_loan_quota</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"basic"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"quota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00043728"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"quota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00019992"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"vip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"irDiscount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"loanQuotaCoef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIP1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"irDiscount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"loanQuotaCoef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIP2"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"regular"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"irDiscount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"loanQuotaCoef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lv1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"irDiscount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"loanQuotaCoef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lv2"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">basic</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">基础利率和借币限额</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">基础杠杆日利率</td>
</tr>
<tr>
<td style="text-align: left">&gt; quota</td>
<td style="text-align: left">String</td>
<td style="text-align: left">基础借币限额</td>
</tr>
<tr>
<td style="text-align: left">vip</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">专业用户</td>
</tr>
<tr>
<td style="text-align: left">&gt; level</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户交易手续费等级，如 <code>VIP1</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; loanQuotaCoef</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借币限额系数，借币限额 = 基础借币限额 * 该系数</td>
</tr>
<tr>
<td style="text-align: left">&gt; irDiscount</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>利率的折扣率</del>(已废弃)</td>
</tr>
<tr>
<td style="text-align: left">regular</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">普通用户</td>
</tr>
<tr>
<td style="text-align: left">&gt; level</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户交易手续费等级，如 <code>Lv1</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; loanQuotaCoef</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借币限额系数，借币限额 = 基础借币限额 * 该系数</td>
</tr>
<tr>
<td style="text-align: left">&gt; irDiscount</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>利率的折扣率</del>(已废弃)</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-underlying">获取衍生品标的指数 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/underlying</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/underlying?instType<span class="o">=</span>FUTURES
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取衍生品标的指数
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_underlying</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"FUTURES"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"LTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ETC-USDT"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">标的指数   如：BTC-USDT</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-insurance-fund">获取风险准备金余额 </h3>
<p>通过该接口获取系统风险准备金余额信息</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/insurance-fund</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/insurance-fund?instType<span class="o">=</span>SWAP&amp;uly<span class="o">=</span>BTC-USD
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>


<span class="c1"># 获取风险准备金余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_insurance_fund</span><span class="p">(</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SWAP"</span><span class="p">,</span>
    <span class="n">uly</span><span class="o">=</span><span class="s">"BTC-USD"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">风险准备金类型<br><code>regular_update</code>：定期更新 <br><code>liquidation_balance_deposit</code>：强平注入 <br><code>bankruptcy_loss</code>：穿仓亏损 <br><code>platform_revenue</code>：平台收入注入 <br><code>adl</code>：自动减仓历史数据 <br>默认返回全部类型</td>
</tr>
<tr>
<td style="text-align: left">uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">标的指数<br><code>交割/永续/期权</code>情况下，<code>uly</code>与<code>instFamily</code>必须传一个，若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种<br><code>交割/永续/期权</code>情况下，<code>uly</code>与<code>instFamily</code>必须传一个，若传两个，以<code>instFamily</code>为主</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种， 仅适用<code>币币杠杆</code>，且必填写</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"adlType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1343.1308"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"decRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxBalTs"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1704883083000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regular_update"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1369179138.7489"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">total</td>
<td style="text-align: left">String</td>
<td style="text-align: left">平台风险准备金总计，单位为USD</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种<br>适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">风险准备金详情</td>
</tr>
<tr>
<td style="text-align: left">&gt; balance</td>
<td style="text-align: left">String</td>
<td style="text-align: left">风险准备金总量</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">风险准备金更新数量 <br>在type为<code>liquidation_balance_deposit</code>，<code>bankruptcy_loss</code>，<code>platform_revenue</code>时适用</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">风险准备金总量对应的币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">风险准备金类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">过去八小时内的风险准备金余额最大值 <br>仅在type为<code>adl</code>时适用</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxBalTs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">过去八小时内风险准备金余额最大值对应的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code> <br>仅在type为<code>adl</code>时适用</td>
</tr>
<tr>
<td style="text-align: left">&gt; decRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">风险准备金实时下降率（balance与maxBal相比较） <br>仅在type为<code>adl</code>时适用</td>
</tr>
<tr>
<td style="text-align: left">&gt; adlType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">关于自动减仓的事件 <br><code>rate_adl_start</code>：由于风险准备金下降率过高造成的自动减仓开始 <br><code>bal_adl_start</code>：由于风险准备金余额下降过高造成的自动减仓开始 <br><code>pos_adl_start</code>：由于强平单的规模积累到一定程度的自动减仓开始（仅适用于盘前交易市场）<br><code>adl_end</code>：自动减仓结束 <br>仅在type为<code>adl</code>时适用</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">风险准备金更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
`regular_update` 提供分钟级别的风险准备金余额更新。更新后，amt 字段用于展示 type 为 `liquidation_balance_deposit`， `bankruptcy_loss` 或 `platform_revenue` 时的风险准备金余额差值，数据一天产生一次，每天下午4点左右（UTC 8）更新。当 type 为 `regular_update`时，amt字段将返回""。
</aside>
<h3 id="public-data-rest-api-unit-convert">张币转换 </h3>
<p>由币转换为张，或者张转换为币。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/convert-contract-coin</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/convert-contract-coin?instId<span class="o">=</span>BTC-USD-SWAP&amp;px<span class="o">=</span>35000&amp;sz<span class="o">=</span>0.888
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.PublicData</span> <span class="k">as</span> <span class="n">PublicData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">publicDataAPI</span> <span class="o">=</span> <span class="n">PublicData</span><span class="p">.</span><span class="n">PublicAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>


<span class="c1"># 张币转换
</span><span class="n">result</span> <span class="o">=</span> <span class="n">publicDataAPI</span><span class="p">.</span><span class="n">get_convert_contract_coin</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD-SWAP"</span><span class="p">,</span>
    <span class="n">px</span><span class="o">=</span><span class="s">"35000"</span><span class="p">,</span>
    <span class="n">sz</span><span class="o">=</span><span class="s">"0.888"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">转换类型<br><code>1</code>：币转张 <br><code>2</code>：张转币<br>默认为<code>1</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">数量，币转张时，为币的数量，张转币时，为张的数量。</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">委托价格<br>币本位合约的张币转换时必填<br>U本位合约，usdt 与张的转换时，必填；coin 与张的转换时，可不填<br>期权的张币转换时，可不填。</td>
</tr>
<tr>
<td style="text-align: left">unit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币的单位<br><code>coin</code>：币<br><code>usds</code>：usdt/usdc<br>仅适用于<code>交割</code>/<code>永续</code>的U本位合约</td>
</tr>
<tr>
<td style="text-align: left">opType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">将要下单的类型<br><code>open</code>：开仓时将sz舍位<br><code>close</code>：平仓时将sz四舍五入<br>默认值为<code>close</code><br>适用于<code>交割</code>/<code>永续</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"311"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coin"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转换类型 <br><code>1</code>：币转张 <br><code>2</code>：张转币</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">px</td>
<td style="text-align: left">String</td>
<td style="text-align: left">委托价格</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数量<br>张转币时，为币的数量；币转张时，为张的数量。</td>
</tr>
<tr>
<td style="text-align: left">unit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币的单位<br><code>coin</code>：币<br><code>usds</code>：usdt/usdc</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-option-tickbands">获取期权价格梯度</h3>
<p>获取期权价格梯度信息</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/instrument-tick-bands</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/instrument-tick-bands?instType<span class="o">=</span>OPTION
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种，仅适用于期权</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickBand"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickBand"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"minPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">tickBand</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单价格精度梯度</td>
</tr>
<tr>
<td style="text-align: left">&gt; minPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低下单价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高下单价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; tickSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单价格精度，如 0.0001</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-premium-history">获取溢价历史数据 </h3>
<p>获取最近6个月的溢价历史数据</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/premium-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/premium-history?instId<span class="o">=</span>BTC-USDT-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code></code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT-SWAP</code><br>适用于<code>永续</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳（不包含）之前的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳（不包含）之后的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为<code>100</code>。默认返回<code>100</code>条。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"premium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000578896878167"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1713925924000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID ，如 <code>BTC-USDT-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">premium</td>
<td style="text-align: left">String</td>
<td style="text-align: left">溢价，为合约的中间价和指数价格的差异</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-index-tickers">获取指数行情 </h3>
<p>获取指数行情数据</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/index-tickers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/index-tickers?instId<span class="o">=</span>BTC-USDT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取指数行情
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_index_tickers</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">指数计价单位， 目前只有 <code>USD/USDT/BTC/USDC</code>为计价单位的指数，<code>quoteCcy</code>和<code>instId</code>必须填写一个</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">指数，如 <code>BTC-USD</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43350"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43649.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sodUtc0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43444.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43640.8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43261.9"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sodUtc8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43328.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1649419644492"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">指数</td>
</tr>
<tr>
<td style="text-align: left">idxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新指数价格</td>
</tr>
<tr>
<td style="text-align: left">high24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时指数最高价格</td>
</tr>
<tr>
<td style="text-align: left">low24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时指数最低价格</td>
</tr>
<tr>
<td style="text-align: left">open24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时指数开盘价格</td>
</tr>
<tr>
<td style="text-align: left">sodUtc0</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC 0  时开盘价</td>
</tr>
<tr>
<td style="text-align: left">sodUtc8</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC+8 时开盘价</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">指数价格更新时间，Unix时间戳的毫秒数格式，如<code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-index-candlesticks">获取指数K线数据 </h3>
<p>指数K线数据每个粒度最多可获取最近1,440条。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/index-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/index-candles?instId<span class="o">=</span>BTC-USD
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取指数K线数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_index_candlesticks</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">现货指数，如 <code>BTC-USD</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code>, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">bar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>1m</code><br>如 [<code>1m</code>/<code>3m</code>/<code>5m</code>/<code>15m</code>/<code>30m</code>/<code>1H</code>/<code>2H</code>/<code>4H</code>] <br>香港时间开盘价k线：[<code>6H</code>/<code>12H</code>/<code>1D</code>/<code>1W</code>/<code>1M</code>/<code>3M</code>]<br>UTC时间开盘价k线：[<code>6Hutc</code>/<code>12Hutc</code>/<code>1Dutc</code>/<code>1Wutc</code>/<code>1Mutc</code>/<code>3Mutc</code>]</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为<code>100</code>，不填默认返回<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如  <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态 <br><code>0</code> 代表 K 线未完结，<code>1</code> 代表 K 线已完结。</td>
</tr>
</tbody></table>

<aside class="notice">
返回的第一条K线数据可能不是完整周期k线，返回值数组顺序分别为是：[ts,o,h,l,c,confirm]
</aside>
<h3 id="public-data-rest-api-get-index-candlesticks-history">获取指数历史K线数据 </h3>
<p>获取最近几年的指数K线数据</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/history-index-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/history-index-candles?instId<span class="o">=</span>BTC-USD
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">现货指数，如<code>BTC-USD</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code>, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">bar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>1m</code><br>如 [1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/1W/1M]<br>UTC时间开盘价k线：[/6Hutc/12Hutc/1Dutc/1Wutc/1Mutc]</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如  <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态 <br><code>0</code> 代表 K 线未完结，<code>1</code> 代表 K 线已完结。</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,o,h,l,c,confirm]
</aside>
<h3 id="public-data-rest-api-get-mark-price-candlesticks">获取标记价格K线数据 </h3>
<p>标记价格K线数据每个粒度最多可获取最近1,440条。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/mark-price-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/mark-price-candles?instId<span class="o">=</span>BTC-USD-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取标记价格K线数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_mark_price_candlesticks</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USD-SWAP"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code>, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">bar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>1m</code><br>如 [1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/1W/1M/3M]<br>UTC时间开盘价k线：[6Hutc/12Hutc/1Dutc/1Wutc/1Mutc/3Mutc]</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如  <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态 <br><code>0</code> 代表 K 线未完结，<code>1</code> 代表 K 线已完结。</td>
</tr>
</tbody></table>

<aside class="notice">
返回的第一条K线数据可能不是完整周期k线，返回值数组顺序分别为是：[ts,o,h,l,c,confirm]
</aside>
<h3 id="public-data-rest-api-get-mark-price-candlesticks-history">获取标记价格历史K线数据 </h3>
<p>获取最近几年的标记价格K线数据</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/history-mark-price-candles</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/history-mark-price-candles?instId<span class="o">=</span>BTC-USD-SWAP
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID，如<code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之前（更旧的数据）的分页内容，传的值为对应接口的<code>ts</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此时间戳之后（更新的数据）的分页内容，传的值为对应接口的<code>ts</code>, 单独使用时，会返回最新的数据。</td>
</tr>
<tr>
<td style="text-align: left">bar</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>1m</code><br>如 [1m/3m/5m/15m/30m/1H/2H/4H] <br>香港时间开盘价k线：[6H/12H/1D/1W/1M]<br>UTC时间开盘价k线：[6Hutc/12Hutc/1Dutc/1Wutc/1Mutc]</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
     </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如  <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态 <br><code>0</code> 代表 K 线未完结，<code>1</code> 代表 K 线已完结。</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,o,h,l,c,confirm]
</aside>
<h3 id="public-data-rest-api-get-exchange-rate">获取法币汇率 </h3>
<p>该接口提供的是2周的平均汇率数据</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/exchange-rate</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/exchange-rate
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取法币汇率
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_exchange_rate</span><span class="p">(</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"usdCny"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.162"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">usdCny</td>
<td style="text-align: left">String</td>
<td style="text-align: left">人民币兑美元汇率</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-index-components">获取指数成分数据 </h3>
<p>查询市场上的指数成分信息数据</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/market/index-components</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/market/index-components?index<span class="o">=</span>BTC-USD
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.MarketData</span> <span class="k">as</span> <span class="n">MarketData</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">marketDataAPI</span> <span class="o">=</span>  <span class="n">MarketData</span><span class="p">.</span><span class="n">MarketAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取指数成分数据
</span><span class="n">result</span> <span class="o">=</span> <span class="n">marketDataAPI</span><span class="p">.</span><span class="n">get_index_components</span><span class="p">(</span>
    <span class="n">index</span><span class="o">=</span><span class="s">"BTC-USD"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">index</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">指数，如 <code>BTC-USDT</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"components"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52733.2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"wgt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cnvPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52733.2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"exch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKEx"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52739.87000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"wgt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cnvPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52739.87000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"exch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Binance"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52729.1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"wgt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cnvPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52729.1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"exch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Huobi"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52739.47929397"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"wgt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"cnvPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52739.47929397"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"exch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Poloniex"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52735.4123234925"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1630985335599"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">index</td>
<td style="text-align: left">String</td>
<td style="text-align: left">指数名称</td>
</tr>
<tr>
<td style="text-align: left">last</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新指数价格</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间，Unix时间戳的毫秒数格式， 如<code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">components</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成分</td>
</tr>
<tr>
<td style="text-align: left">&gt; exch</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易所名称</td>
</tr>
<tr>
<td style="text-align: left">&gt; symbol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">采集的币对名称</td>
</tr>
<tr>
<td style="text-align: left">&gt; symPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">采集的币对价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; wgt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">权重</td>
</tr>
<tr>
<td style="text-align: left">&gt; cnvPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">换算成指数后的价格</td>
</tr>
</tbody></table>
<h3 id="public-data-rest-api-get-economic-calendar-data">获取经济日历数据 </h3>
<aside class="notice">
该接口需验证后使用。仅支持实盘服务。
</aside>

<p>获取过去三个月的宏观经济日历数据。三个月前的历史数据仅开放给交易费等级VIP1及以上的用户。</p>
<h4 id="1-5s">限速：1次/5s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/public/economic-calendar</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/public/economic-calendar
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>region</td>
<td>string</td>
<td>否</td>
<td>国家，地区或实体 <br><code>afghanistan</code>, <code>albania</code>, <code>algeria</code>, <code>andorra</code>, <code>angola</code>, <code>antigua_and_barbuda</code>, <code>argentina</code>, <code>armenia</code>, <code>aruba</code>, <code>australia</code>, <code>austria</code>, <code>azerbaijan</code>, <code>bahamas</code>, <code>bahrain</code>, <code>bangladesh</code>, <code>barbados</code>, <code>belarus</code>, <code>belgium</code>, <code>belize</code>, <code>benin</code>, <code>bermuda</code>, <code>bhutan</code>, <code>bolivia</code>, <code>bosnia_and_herzegovina</code>, <code>botswana</code>, <code>brazil</code>, <code>brunei</code>, <code>bulgaria</code>, <code>burkina_faso</code>, <code>burundi</code>, <code>cambodia</code>, <code>cameroon</code>, <code>canada</code>, <code>cape_verde</code>, <code>cayman_islands</code>, <code>central_african_republic</code>, <code>chad</code>, <code>chile</code>, <code>china</code>, <code>colombia</code>, <code>comoros</code>, <code>congo</code>, <code>costa_rica</code>, <code>croatia</code>, <code>cuba</code>, <code>cyprus</code>, <code>czech_republic</code>, <code>denmark</code>, <code>djibouti</code>, <code>dominica</code>, <code>dominican_republic</code>, <code>east_timor</code>, <code>ecuador</code>, <code>egypt</code>, <code>el_salvador</code>, <code>equatorial_guinea</code>, <code>eritrea</code>, <code>estonia</code>, <code>ethiopia</code>, <code>euro_area</code>, <code>european_union</code>, <code>faroe_islands</code>, <code>fiji</code>, <code>finland</code>, <code>france</code>, <code>g20</code>, <code>g7</code>, <code>gabon</code>, <code>gambia</code>, <code>georgia</code>, <code>germany</code>, <code>ghana</code>, <code>greece</code>, <code>greenland</code>, <code>grenada</code>, <code>guatemala</code>, <code>guinea</code>, <code>guinea_bissau</code>, <code>guyana</code>, <code>hungary</code>, <code>haiti</code>, <code>honduras</code>, <code>hong_kong</code>, <code>hungary</code>, <code>imf</code>, <code>indonesia</code>, <code>iceland</code>, <code>india</code>, <code>indonesia</code>, <code>iran</code>, <code>iraq</code>, <code>ireland</code>, <code>isle_of_man</code>, <code>israel</code>, <code>italy</code>, <code>ivory_coast</code>, <code>jamaica</code>, <code>japan</code>, <code>jordan</code>, <code>kazakhstan</code>, <code>kenya</code>, <code>kiribati</code>, <code>kosovo</code>, <code>kuwait</code>, <code>kyrgyzstan</code>, <code>laos</code>, <code>latvia</code>, <code>lebanon</code>, <code>lesotho</code>, <code>liberia</code>, <code>libya</code>, <code>liechtenstein</code>, <code>lithuania</code>, <code>luxembourg</code>, <code>macau</code>, <code>macedonia</code>, <code>madagascar</code>, <code>malawi</code>, <code>malaysia</code>, <code>maldives</code>, <code>mali</code>, <code>malta</code>, <code>mauritania</code>, <code>mauritius</code>, <code>mexico</code>, <code>micronesia</code>, <code>moldova</code>, <code>monaco</code>, <code>mongolia</code>, <code>montenegro</code>, <code>morocco</code>, <code>mozambique</code>, <code>myanmar</code>, <code>namibia</code>, <code>nepal</code>, <code>netherlands</code>, <code>new_caledonia</code>, <code>new_zealand</code>, <code>nicaragua</code>, <code>niger</code>, <code>nigeria</code>, <code>north_korea</code>, <code>northern_mariana_islands</code>, <code>norway</code>, <code>opec</code>, <code>oman</code>, <code>pakistan</code>, <code>palau</code>, <code>palestine</code>, <code>panama</code>, <code>papua_new_guinea</code>, <code>paraguay</code>, <code>peru</code>, <code>philippines</code>, <code>poland</code>, <code>portugal</code>, <code>puerto_rico</code>, <code>qatar</code>, <code>russia</code>, <code>republic_of_the_congo</code>, <code>romania</code>, <code>russia</code>, <code>rwanda</code>, <code>slovakia</code>, <code>samoa</code>, <code>san_marino</code>, <code>sao_tome_and_principe</code>, <code>saudi_arabia</code>, <code>senegal</code>, <code>serbia</code>, <code>seychelles</code>, <code>sierra_leone</code>, <code>singapore</code>, <code>slovakia</code>, <code>slovenia</code>, <code>solomon_islands</code>, <code>somalia</code>, <code>south_africa</code>, <code>south_korea</code>, <code>south_sudan</code>, <code>spain</code>, <code>sri_lanka</code>, <code>st_kitts_and_nevis</code>, <code>st_lucia</code>, <code>sudan</code>, <code>suriname</code>, <code>swaziland</code>, <code>sweden</code>, <code>switzerland</code>, <code>syria</code>, <code>taiwan</code>, <code>tajikistan</code>, <code>tanzania</code>, <code>thailand</code>, <code>togo</code>, <code>tonga</code>, <code>trinidad_and_tobago</code>, <code>tunisia</code>, <code>turkey</code>, <code>turkmenistan</code>, <code>uganda</code>, <code>ukraine</code>, <code>united_arab_emirates</code>, <code>united_kingdom</code>, <code>united_states</code>, <code>uruguay</code>, <code>uzbekistan</code>, <code>vanuatu</code>, <code>venezuela</code>, <code>vietnam</code>, <code>world</code>, <code>yemen</code>, <code>zambia</code>, <code>zimbabwe</code></td>
</tr>
<tr>
<td>importance</td>
<td>string</td>
<td>否</td>
<td>重要性 <br><code>1</code>: 低 <br><code>2</code>: 中等 <br><code>3</code>: 高</td>
</tr>
<tr>
<td>before</td>
<td>String</td>
<td>否</td>
<td>查询发布日期(date)之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>after</td>
<td>String</td>
<td>否</td>
<td>查询发布日期(date)之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code> <br>默认值为请求时刻的时间戳</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回结果的数量，最大为100，默认100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.8%"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"calendarId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"330631"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Harmonised Inflation Rate YoY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1700121600000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dateSpan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Harmonised Inflation Rate YoY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"forecast"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.8%"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"importance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"prevInitial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"previous"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9%"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"refDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1698710400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Slovakia"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1700121605007"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>calendarId</td>
<td>string</td>
<td>经济日历ID</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>actual字段值的预期发布时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>region</td>
<td>string</td>
<td>国家，地区或实体</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>类别名</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>事件名</td>
</tr>
<tr>
<td>refDate</td>
<td>string</td>
<td>当前事件指向的日期</td>
</tr>
<tr>
<td>actual</td>
<td>string</td>
<td>事件实际值</td>
</tr>
<tr>
<td>previous</td>
<td>string</td>
<td>当前事件上个周期的最新实际值。<br>若发生数据修正，该字段存储上个周期修正后的实际值。</td>
</tr>
<tr>
<td>forecast</td>
<td>string</td>
<td>由权威经济学家共同得出的预测值</td>
</tr>
<tr>
<td>dateSpan</td>
<td>string</td>
<td><code>0</code>：事件的具体发生时间已知<br><code>1</code>：事件的具体发生日期已知，但时间未知</td>
</tr>
<tr>
<td>importance</td>
<td>string</td>
<td>重要性 <br><code>1</code>: 低 <br><code>2</code>: 中等 <br><code>3</code>: 高</td>
</tr>
<tr>
<td>uTime</td>
<td>string</td>
<td>当前事件的最新更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>prevInitial</td>
<td>string</td>
<td>该事件上一周期的初始值<br>仅在修正发生时有值</td>
</tr>
<tr>
<td>ccy</td>
<td>string</td>
<td>事件实际值对应的货币</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>事件实际值对应的单位</td>
</tr>
</tbody></table>
<h2 id="public-data-websocket">WebSocket </h2><h3 id="public-data-websocket-instruments-channel">产品频道 </h3>
<p>当有产品状态变化时（如期货交割、期权行权、新合约/币对上线、人工暂停/恢复交易等），推送产品的增量数据。<br>
(2022年12月28日起不再推送全量数据，<a href="https://www.okx.com/docs-v5/log_zh/#2022-12-06">点此查看详情</a>)；</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span> 
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,  
  <span class="s2">"args"</span>:   <span class="o">[</span>    
    <span class="o">{</span>     
      <span class="s2">"channel"</span>: <span class="s2">"instruments"</span>,
      <span class="s2">"instType"</span>: <span class="s2">"SPOT"</span>
    <span class="o">}</span>
  <span class="o">]</span> 
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>instruments</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instruments"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">instruments</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instruments"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"auctionEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ctMult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ctType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ctVal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ctValCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"expTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"listTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1606468572000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lotSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxIcebergSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxLmtAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxLmtSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxMktAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxMktSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxStopSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxTriggerSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxTwapSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999999999.0000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"optType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ruleType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stk"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; category</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>币种类别</del>（已废弃）</td>
</tr>
<tr>
<td style="text-align: left">&gt; uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数，如 <code>BTC-USD</code>，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种，如 <code>BTC-USD</code>，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易货币币种，如 <code>BTC-USDT</code>中<code>BTC</code>，仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价货币币种，如 <code>BTC-USDT</code>中<code>USDT</code>，仅适用于<code>币币/币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; settleCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">盈亏结算和保证金币种，如 <code>BTC</code>，仅适用于 <code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ctVal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值</td>
</tr>
<tr>
<td style="text-align: left">&gt; ctMult</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约乘数</td>
</tr>
<tr>
<td style="text-align: left">&gt; ctValCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约面值计价币种</td>
</tr>
<tr>
<td style="text-align: left">&gt; optType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权类型<br><code>C</code>：看涨期权<br><code>P</code>：看跌期权<br>仅适用于<code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; stk</td>
<td style="text-align: left">String</td>
<td style="text-align: left">行权价格，仅适用于 <code>期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; listTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">上线时间</td>
</tr>
<tr>
<td style="text-align: left">&gt; auctionEndTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">集合竞价结束时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code> <br>仅适用于通过集合竞价方式上线的<code>币币</code>，其余情况返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品下线时间<br>适用于<code>币币/杠杆/交割/永续/期权</code>，对于 <code>交割/期权</code>，为自然的交割/行权时间；如果<code>币币/杠杆/交割/永续</code>产品人工下线，为产品下线时间，有变动就会推送。</td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">该产品支持的最大杠杆倍数<br>不适用于<code>币币</code>/<code>期权</code>。可用来区分<code>币币杠杆</code>和<code>币币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tickSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单价格精度，如 <code>0.0001</code><br>对于期权来说，是梯度中的最小下单价格精度。</td>
</tr>
<tr>
<td style="text-align: left">&gt; lotSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下单数量精度<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; minSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小下单数<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ctType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约类型<br><code>linear</code>：正向合约<br><code>inverse</code>：反向合约<br>仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; alias</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约日期别名<br><code>this_week</code>：本周<br><code>next_week</code>：次周<br><code>this_month</code>：本月<br><code>next_month</code>：次月<br><code>quarter</code>：季度<br><code>next_quarter</code>：次季度 <br><br>仅适用于<code>交割</code> <br><strong>不建议使用，用户应通过 expTime 字段获取合约的交割日期</strong></td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品状态<br><code>live</code>：交易中 <br><code>suspend</code>：暂停中<br><code>expired</code>：已过期<br><code>preopen</code>：预上线，交割和期权合约轮转生成到开始交易；部分交易产品上线前<br><code>test</code>：测试中（测试产品，不可交易）</td>
</tr>
<tr>
<td style="text-align: left">&gt; ruleType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易规则类型<br> <code>normal</code>：普通交易<br> <code>pre_market</code>：盘前交易</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxLmtSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxMktSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市价单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxTwapSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间加权单的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxIcebergSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冰山委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxTriggerSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计划委托委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>交易货币</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxStopSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">止盈止损市价委托的单笔最大委托数量<br>合约的数量单位是<code>张</code>，现货的数量单位是<code>USDT</code></td>
</tr>
</tbody></table>

<aside class="notice">
产品状态变更，是触发instrument接口推送条件：
当合约预上线时，状态变更为预上线（即新生成一个合约，新合约会处于预上线状态）；
当产品下线的时候（如交割合约被交割的时候，期权合约被行权的时候），状态变更为已过期
listTime以及auctionEndTime<br>
对于通过集合竞价方式上线的币币，listTime为集合竞价开始时间，auctionEndTime为集合竞价结束、连续交易开始时间；对于其他情况及业务线，listTime即为连续交易开始时间，auctionEndTime将返回""
</aside>

<aside class="notice">
state<br>
状态state总是在时间到达listTime时由`preopen`转变为`live`。上线前，交易产品频道将推送预上线产品，状态为`state:preopen`；若上线被取消，频道将全量推送数据，其中不包括被取消的预上线产品，不做额外通知。交易产品上线时（到达listTime），频道将推送状态为交易中`state:live`。用户亦可以通过REST接口查询到相应数据。<br>
当产品下线的时候（如交割合约被交割的时候，期权合约被行权的时候），查询不到该产品
</aside>
<h3 id="public-data-websocket-open-interest-channel">持仓总量频道 </h3>
<p>获取持仓总量，每3s有数据更新推送一次数据</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"open-interest"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"LTC-USD-SWAP"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>open-interest</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open-interest"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">open-interest</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-SWAP</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例 </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open-interest"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"oi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"oiCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555.55"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>产品类型</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>产品ID，如 <code>LTC-USD-SWAP</code></td>
</tr>
<tr>
<td>&gt; oi</td>
<td>String</td>
<td>持仓量，按张为单位，open interest</td>
</tr>
<tr>
<td>&gt; oiCcy</td>
<td>String</td>
<td>持仓量，按币为单位</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据更新的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-funding-rate-channel">资金费率频道 </h3>
<p>获取永续合约资金费率，30秒到90秒内推送一次数据</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"funding-rate"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USD-SWAP"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>funding-rate</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding-rate"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">funding-rate</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-SWAP</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"funding-rate"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-SWAP"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="s2">"0.0001875391284828"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"fundingTime"</span><span class="p">:</span><span class="s2">"1700726400000"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTC-USD-SWAP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_period"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxFundingRate"</span><span class="p">:</span><span class="s2">"0.00375"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"minFundingRate"</span><span class="p">:</span><span class="s2">"-0.00375"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"nextFundingRate"</span><span class="p">:</span><span class="s2">"0.0002608059239328"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"nextFundingTime"</span><span class="p">:</span><span class="s2">"1700755200000"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"premium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001233824646391"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"settFundingRate"</span><span class="p">:</span><span class="s2">"0.0001699799259033"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"settState"</span><span class="p">:</span><span class="s2">"settled"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1700724675402"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型，<code>SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; method</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费收取逻辑 <br><code>current_period</code>：当期收 <br><code>next_period</code>：跨期收</td>
</tr>
<tr>
<td style="text-align: left">&gt; fundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费率</td>
</tr>
<tr>
<td style="text-align: left">&gt; fundingTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新的到期结算的资金费时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; nextFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期预测资金费率</td>
</tr>
<tr>
<td style="text-align: left">&gt; nextFundingTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期资金费时间，Unix时间戳的毫秒数格式，如 <code>1622851200000</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; minFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期的预测资金费率下限</td>
</tr>
<tr>
<td style="text-align: left">&gt; maxFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一期的预测资金费率上限</td>
</tr>
<tr>
<td style="text-align: left">&gt; settState</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金费率结算状态 <br><code>processing</code>：结算中 <br><code>settled</code>：已结算</td>
</tr>
<tr>
<td style="text-align: left">&gt; settFundingRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">若 settState = <code>processing</code>，该字段代表用于本轮结算的资金费率；若 settState = <code>settled</code>，该字段代表用于上轮结算的资金费率</td>
</tr>
<tr>
<td style="text-align: left">&gt; premium</td>
<td style="text-align: left">String</td>
<td style="text-align: left">溢价，为合约的中间价和指数价格的差异</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>

<aside class="notice">
针对一些资金费率波动较大的小币种，OKX也将实时关注行情变化，在必要时候，将资金费率收取频率从8小时收付，改成频率较高的6小时/4小时/2小时/1小时收付。因此，用户应关注`fundingTime`及`nextFundingTime`字段以确定合约的资金费收取频率。
</aside>
<h3 id="public-data-websocket-price-limit-channel">限价频道 </h3>
<p>获取交易产品的最高买价和最低卖价。限价有变化时，每秒推送一次数据，限价没变化时，不推送数据</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"price-limit"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"LTC-USD-190628"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>price-limit</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price-limit"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-190628"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">price-limit</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-190628</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price-limit"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-190628"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-USD-190628"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buyLmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sellLmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; buyLmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高买价 <br>当enabled为false时，返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; sellLmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低卖价 <br>当enabled为false时，返回""</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">限价数据更新时间 ，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; enabled</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">限价是否生效 <br><code>true</code>：限价生效 <br><code>false</code>：限价不生效</td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-option-summary-channel">期权定价频道 </h3>
<p>获取所有期权合约详细定价信息，一次性推送所有</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"opt-summary"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>opt-summary</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种</td>
</tr>
</tbody></table>

<blockquote>
<p>返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opt-summary"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">opt-summary</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instFamily</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opt-summary"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPTION"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-241013-70000-P"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"delta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1.1180902625"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gamma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.2361957091"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vega"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"theta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000032334"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.465747567"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3675503331"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bidVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"askVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1669998535"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"realVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.9999672034"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28.2649858387"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000114332"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1728703155650"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fwdPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62604.6993093463"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volLv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2044711229"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型， <code>OPTION</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数</td>
</tr>
<tr>
<td style="text-align: left">&gt; delta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; gamma</td>
<td style="text-align: left">String</td>
<td style="text-align: left">delta对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; vega</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格对隐含波动率的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; theta</td>
<td style="text-align: left">String</td>
<td style="text-align: left">期权价格对剩余期限的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下期权价格对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下delta对<code>uly</code>价格的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下期权价格对隐含波动率的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">BS模式下期权价格对剩余期限的敏感度</td>
</tr>
<tr>
<td style="text-align: left">&gt; lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left">&gt; markVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记波动率</td>
</tr>
<tr>
<td style="text-align: left">&gt; bidVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">bid波动率</td>
</tr>
<tr>
<td style="text-align: left">&gt; askVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">ask波动率</td>
</tr>
<tr>
<td style="text-align: left">&gt; realVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已实现波动率，目前该字段暂未启用</td>
</tr>
<tr>
<td style="text-align: left">&gt; volLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">价平期权的隐含波动率</td>
</tr>
<tr>
<td style="text-align: left">&gt; fwdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">远期价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-estimated-delivery-exercise-price-channel">预估交割/行权价格频道 </h3>
<p>获取永续合约，交割合约和期权预估交割/行权价。交割/行权预估价只有交割/行权前一小时开始推送预估交割/行权价，有价格变化就推送</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"estimated-price"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>estimated-price</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>FUTURES</code>：交割合约<br><code>SWAP</code>：永续合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易品种<br><code>instFamily</code>和<code>instId</code>必须指定一个</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">产品ID<br><code>instFamily</code>和<code>instId</code>必须指定一个</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"estimated-price"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">estimated-price</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">instFamily</span><span class="se">\"</span><span class="s2"> :</span><span class="se">\"</span><span class="s2">BTC-USD</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>FUTURES</code>：交割合约<br><code>SWAP</code>：永续合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"estimated-price"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-170310"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settlePx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型<br><code>FUTURES</code>：交割合约<br><code>SWAP</code>：永续合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td style="text-align: left">&gt; instFamily</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-170310</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; settlePx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估交割/行权价</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-mark-price-channel">标记价格频道 </h3>
<p>获取标记价格，标记价格有变化时，每200ms推送一次数据，标记价格没变化时，每10s推送一次数据</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"mark-price"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>mark-price</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark-price"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">mark-price</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-190628</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark-price"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARGIN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"markPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42310.6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1630049139746"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易品种</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; markPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标记价格数据更新时间 ，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-index-tickers-channel">指数行情频道 </h3>
<p>获取指数的行情数据。每100ms有变化就推送一次数据，否则一分钟推一次。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"index-tickers"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left"><code>subscribe</code>      <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>index-tickers</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">指数，以USD、USDT、BTC、USDC 为计价货币的指数，如 <code>BTC-USDT</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index-tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">index-tickers</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USDT</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left"><code>subscribe</code>      <code>unsubscribe</code>    <code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>index-tickers</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">指数，以USD、USDT、BTC、USDC 为计价货币的指数，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index-tickers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"idxPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc0"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sodUtc8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">指数</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">指数，以USD、USDT、BTC 为计价货币的指数，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; idxPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新指数价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; open24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时开盘价</td>
</tr>
<tr>
<td style="text-align: left">&gt; high24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时指数最高价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; low24h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">24小时指数最低价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; sodUtc0</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC 0  时开盘价</td>
</tr>
<tr>
<td style="text-align: left">&gt; sodUtc8</td>
<td style="text-align: left">String</td>
<td style="text-align: left">UTC+8 时开盘价</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">指数价格更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-mark-price-candlesticks-channel">标记价格K线频道 </h3>
<p>获取标记价格的K线数据，推送频率最快是间隔1秒推送一次数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"mark-price-candle1D"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USD-190628"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>mark-price-candle3M</code> <br><code>mark-price-candle1M</code> <br><code>mark-price-candle1W</code> <br><code>mark-price-candle1D</code><br><code>mark-price-candle2D</code><br><code>mark-price-candle3D</code> <br><code>mark-price-candle5D</code><br><code>mark-price-candle12H</code> <br><code>mark-price-candle6H</code> <br><code>mark-price-candle4H</code><br><code>mark-price-candle2H</code><br><code>mark-price-candle1H</code> <br><code>mark-price-candle30m</code><br><code>mark-price-candle15m</code> <br><code>mark-price-candle5m</code> <br><code>mark-price-candle3m</code> <br><code>mark-price-candle1m</code> <br><code>mark-price-candle3Mutc</code><br><code>mark-price-candle1Mutc</code> <br><code>mark-price-candle1Wutc</code><br><code>mark-price-candle1Dutc</code><br><code>mark-price-candle2Dutc</code><br><code>mark-price-candle3Dutc</code><br><code>mark-price-candle5Dutc</code> <br><code>mark-price-candle12Hutc</code><br><code>mark-price-candle6Hutc</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark-price-candle1D"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-190628"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">mark-price-candle1D</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD-190628</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mark-price-candle1D"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-190628"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.721"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.743"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.677"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.708"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.731"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.799"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.494"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3.72"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态 <br><code>0</code> 代表 K 线未完结，<code>1</code> 代表 K 线已完结。</td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-index-candlesticks-channel">指数K线频道 </h3>
<p>获取指数的K线数据，推送频率最快是间隔1秒推送一次数据。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/business</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"index-candle30m"</span>,
        <span class="s2">"instId"</span>: <span class="s2">"BTC-USD"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>index-candle3M</code><br><code>index-candle1M</code><br><code>index-candle1W</code><br><code>index-candle1D</code><br><code>index-candle2D</code><br><code>index-candle3D</code><br><code>index-candle5D</code><br><code>index-candle12H</code><br><code>index-candle6H</code><br><code>index-candle4H</code><br><code>index -candle2H</code><br><code>index-candle1H</code><br><code>index-candle30m</code><br><code>index-candle15m</code><br><code>index-candle5m</code><br><code>index-candle3m</code><br><code>index-candle1m</code><br><code>index-candle3Mutc</code> <br><code>index-candle1Mutc</code><br><code>index-candle1Wutc</code><br><code>index-candle1Dutc</code><br><code>index-candle2Dutc</code><br><code>index-candle3Dutc</code><br><code>index-candle5Dutc</code><br><code>index-candle12Hutc</code><br><code>index-candle6Hutc</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">现货指数，如 <code>BTC-USD</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index-candle30m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">index-candle30m</span><span class="se">\"</span><span class="s2">,&nbsp;</span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left"><code>subscribe</code>      <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">现货指数</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index-candle30m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3811.31"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3811.31"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3811.31"</span><span class="p">,</span><span class="w"> </span><span class="s2">"3811.31"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">现货指数</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; o</td>
<td style="text-align: left">String</td>
<td style="text-align: left">开盘价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; h</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最高价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; l</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最低价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; c</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收盘价格</td>
</tr>
<tr>
<td style="text-align: left">&gt; confirm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">K线状态 <br><code>0</code> 代表 K 线未完结，<code>1</code> 代表 K 线已完结。</td>
</tr>
</tbody></table>

<aside class="notice"> 
返回值数组顺分别为是：[ts,o,h,l,c,confirm]
</aside> 
<h3 id="public-data-websocket-liquidation-orders-channel">平台公共爆仓单频道</h3>
<p>获取爆仓单信息。对于交割和永续合约，强平数据代表每个交易对在任何一秒内的最多一个强平订单。因此，显示的强平数据并不准确代表欧易的总强平量，亦不应被当做总强平量使用。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"liquidation-orders"</span>,
      <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>liquidation-orders</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>MARGIN</code>：币币杠杆<br><code>SWAP</code>：永续合约<br><code>FUTURES</code>：交割合约<br><code>OPTION</code>：期权</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"liquidation-orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"bkLoss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"bkPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007831"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"short"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1692266434010"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOST-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOST-USDT-SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOST-USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">产品ID，如 <code>BTC-USD-SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uly</td>
<td style="text-align: left">String</td>
<td style="text-align: left">标的指数，仅适用于<code>交割/永续/期权</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; details</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">详细内容</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">订单方向 <br><code>buy</code>：买<br><code>sell</code>：卖，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓方向 <br><code>long</code>：多<br><code>short</code>：空 <br><code>side</code>和<code>posSide</code>组合方式，sell/long：强平多 ; buy/short:强平空，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; bkPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">破产价格，与系统爆仓账号委托成交的价格，仅适用于<code>交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">强平数量，仅适用于<code>杠杆/交割/永续</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; bkLoss</td>
<td style="text-align: left">String</td>
<td style="text-align: left">穿仓亏损数量</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">强平币种，仅适用于<code>币币杠杆</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">强平发生的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code>    /</td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-adl-warning-channel">自动减仓预警频道 </h3>
<p>自动减仓预警。</p>

<p>普通状态（<code>normal</code>）下，每分钟推送一次，展示风险准备金的余额等信息。</p>

<p>预警状态下或有自动减仓风险（<code>warning/adl</code>）时，每1秒推送一次数据，展示风险准备金的实时下降率等信息。</p>

<p>更多自动减仓细节，请见<a href="https://www.okx.com/cn/help/iv-introduction-to-auto-deleveraging-adl">自动减仓机制介绍</a></p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"adl-warning"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"FUTURES"</span>,
        <span class="s2">"instFamily"</span>: <span class="s2">"BTC-USDT"</span>
    <span class="o">}]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td>是</td>
<td>操作，<code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>adl-warning</code></td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>是</td>
<td>产品类型<br><code>FUTURES</code>：交割合约<br><code>SWAP</code>：永续合约<br><code>OPTION</code>：期权</td>
</tr>
<tr>
<td>&gt; instFamily</td>
<td>String</td>
<td>否</td>
<td>交易品种</td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"adl-warning"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"48d8960a"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"error"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"Illegal request: { </span><span class="se">\"</span><span class="s2">event</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">arg</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">adl-warning</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instFamily</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">BTC-USDT</span><span class="se">\"</span><span class="s2"> } }"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"48d8960a"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>String</td>
<td>是</td>
<td>事件，<code>subscribe</code> <code>unsubscribe</code> <code>error</code></td>
</tr>
<tr>
<td>arg</td>
<td>Object</td>
<td>否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>是</td>
<td>频道名<br><code>adl-warning</code></td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>是</td>
<td>产品类型</td>
</tr>
<tr>
<td>&gt; instFamily</td>
<td>String</td>
<td>否</td>
<td>交易品种</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>否</td>
<td>错误码</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>否</td>
<td>错误消息</td>
</tr>
<tr>
<td>connId</td>
<td>String</td>
<td>是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"adl-warning"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"decRate"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxBal"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"adlRecRate"</span><span class="p">:</span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"adlRecBal"</span><span class="p">:</span><span class="s2">"8000.0"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"bal"</span><span class="p">:</span><span class="s2">"280784384.9564228289548144"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"instType"</span><span class="p">:</span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"adlRate"</span><span class="p">:</span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"instFamily"</span><span class="p">:</span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxBalTs"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"adlType"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"adlBal"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1700210763001"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>请求订阅的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名<br><code>adl-warning</code></td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>是</td>
</tr>
<tr>
<td>&gt; instFamily</td>
<td>String</td>
<td>可选</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; instType</td>
<td>String</td>
<td>是</td>
</tr>
<tr>
<td>&gt; instFamily</td>
<td>String</td>
<td>交易品种</td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>状态 <br><code>normal</code>：普通状态 <br><code>warning</code>：预警状态 <br><code>adl</code>：已开启自动减仓</td>
</tr>
<tr>
<td>&gt; bal</td>
<td>String</td>
<td>实时风险准备金余额</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>风险准备金余额对应币种</td>
</tr>
<tr>
<td>&gt; maxBal</td>
<td>String</td>
<td>过去八小时内的风险准备金余额最大值 <br>仅在状态为<code>warning</code>及<code>adl</code>时推送，状态为<code>normal</code>时推送空字符串""</td>
</tr>
<tr>
<td>&gt; maxBalTs</td>
<td>String</td>
<td>过去八小时内风险准备金余额最大值对应的时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>&gt; decRate</td>
<td>String</td>
<td>风险准备金实时下降率（bal与maxBal相比较） <br>仅在状态为<code>warning</code>及<code>adl</code>时推送，状态为<code>normal</code>时推送空字符串""</td>
</tr>
<tr>
<td>&gt; adlType</td>
<td>String</td>
<td>关于自动减仓的事件 <br><code>rate_adl_start</code>：由于风险准备金下降率过高造成的自动减仓开始 <br><code>bal_adl_start</code>：由于风险准备金余额下降过高造成的自动减仓开始 <br><code>pos_adl_start</code>：由于强平单的规模积累到一定程度的自动减仓开始（仅适用于盘前交易市场） <br><code>adl_end</code>：自动减仓结束</td>
</tr>
<tr>
<td>&gt; adlBal</td>
<td>String</td>
<td>触发自动减仓的风险准备金余额</td>
</tr>
<tr>
<td>&gt; adlRate</td>
<td>String</td>
<td>触发自动减仓的风险准备金下降率</td>
</tr>
<tr>
<td>&gt; adlRecBal</td>
<td>String</td>
<td>自动减仓结束的风险准备金余额</td>
</tr>
<tr>
<td>&gt; adlRecRate</td>
<td>String</td>
<td>自动减仓结束的风险准备金下降率</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>数据更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
</tbody></table>
<h3 id="public-data-websocket-economic-calendar-channel">经济日历频道 </h3>
<aside class="notice">
仅支持实盘服务
</aside>

<p>获取最新经济日历数据。 该频道仅开放给交易费等级VIP1及以上的用户。</p>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
      <span class="o">{</span>
          <span class="s2">"channel"</span>: <span class="s2">"economic-calendar"</span>
      <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>economic-calendar</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"economic-calendar"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">economic-calendar</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">LTC-USD-190628</span><span class="se">\"</span><span class="s2">}]}"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>economic-calendar</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"economic-calendar"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"calendarId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"319275"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manufacturing PMI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S&amp;P Global Manufacturing PMI Final"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"refDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"actual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"previous"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"forecast"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"importance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"prevInitial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1698648096590"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; event</td>
<td>string</td>
<td>事件名</td>
</tr>
<tr>
<td>&gt; region</td>
<td>string</td>
<td>国家，地区或实体</td>
</tr>
<tr>
<td>&gt; category</td>
<td>string</td>
<td>类别名</td>
</tr>
<tr>
<td>&gt; actual</td>
<td>string</td>
<td>事件实际值</td>
</tr>
<tr>
<td>&gt; previous</td>
<td>string</td>
<td>当前事件上个周期的最新实际值 <br>若发生数据修正，该字段存储上个周期修正后的实际值</td>
</tr>
<tr>
<td>&gt; forecast</td>
<td>string</td>
<td>由权威经济学家共同得出的预测值</td>
</tr>
<tr>
<td>&gt; prevInitial</td>
<td>string</td>
<td>该事件上一周期的初始值 <br>仅在修正发生时有值</td>
</tr>
<tr>
<td>&gt; date</td>
<td>string</td>
<td>actual字段值的预期发布时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>&gt; refDate</td>
<td>string</td>
<td>当前事件指向的日期</td>
</tr>
<tr>
<td>&gt; calendarId</td>
<td>string</td>
<td>经济日历ID</td>
</tr>
<tr>
<td>&gt; unit</td>
<td>string</td>
<td>事件实际值对应的单位</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>string</td>
<td>事件实际值对应的货币</td>
</tr>
<tr>
<td>&gt; importance</td>
<td>string</td>
<td>重要性 <br><code>1</code>: 低 <br><code>2</code>: 中等 <br><code>3</code>: 高</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>string</td>
<td>推送时间</td>
</tr>
</tbody></table>
<h1 id="trading-statistics">交易大数据 </h1><h2 id="trading-statistics-rest-api">REST API </h2><h3 id="trading-statistics-rest-api-get-support-coin">获取交易大数据支持币种 </h3>
<p>获取支持交易大数据的币种</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/trading-data/support-coin</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/trading-data/support-coin
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取交易大数据支持币种
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_support_coin</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contract"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"ADA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"option"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"spot"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"ADA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">contract</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">合约交易大数据接口功能支持的币种</td>
</tr>
<tr>
<td style="text-align: left">option</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">期权交易大数据接口功能支持的币种</td>
</tr>
<tr>
<td style="text-align: left">spot</td>
<td style="text-align: left">Array of strings</td>
<td style="text-align: left">现货交易大数据接口功能支持的币种</td>
</tr>
</tbody></table>
<h3 id="trading-statistics-rest-api-get-contract-open-interest-history">获取合约持仓量历史 </h3>
<p>获取交割及永续合约的历史持仓量数据。每个粒度最多可获取最近1,440条数据。<br></p>

<p>对于时间粒度period=1D，数据时间范围最早至2024年1月1日；对于其他时间粒度period，最早至2024年2月初。</p>
<h4 id="10-2s">限速：10次/2s</h4><h4 id="ip-instrumentid">限速规则：IP + instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/contracts/open-interest-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/contracts/open-interest-history?instId<span class="o">=</span>BTC-USDT-SWAP

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取持仓量历史
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_open_interest_history</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>string</td>
<td>是</td>
<td>产品ID，如 BTC-USDT-SWAP <br>仅适用于<code>交割</code>，<code>永续</code></td>
</tr>
<tr>
<td>period</td>
<td>string</td>
<td>否</td>
<td>时间粒度，默认值<code>5m</code>, 如 [<code>5m/15m/30m/1H/2H/4H</code>] <br>香港时间开盘价k线：[<code>6H/12H/1D/2D/3D/5D/1W/1M/3M</code>] <br>UTC时间开盘价k线： [<code>6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/5Dutc/1Wutc/1Mutc/3Mutc</code>]</td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td>否</td>
<td>筛选的结束时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>begin</td>
<td>string</td>
<td>否</td>
<td>筛选的开始时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>否</td>
<td>分页返回的结果集数量，最大为<code>100</code>，不填默认返回<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"731377.57500501"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">interest</span><span class="w"> </span><span class="err">(oi</span><span class="p">,</span><span class="w"> </span><span class="err">contracts)</span><span class="w">
            </span><span class="s2">"111"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">interest</span><span class="w"> </span><span class="err">(oiCcy</span><span class="p">,</span><span class="w"> </span><span class="err">coin)</span><span class="w">
            </span><span class="s2">"8888888"</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">interest</span><span class="w"> </span><span class="err">(oiUsd</span><span class="p">,</span><span class="w"> </span><span class="err">USD)</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417500000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"731377.57500501"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">interest</span><span class="w"> </span><span class="err">(oi</span><span class="p">,</span><span class="w"> </span><span class="err">contracts)</span><span class="w">
            </span><span class="s2">"111"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">interest</span><span class="w"> </span><span class="err">(oiCcy</span><span class="p">,</span><span class="w"> </span><span class="err">coin)</span><span class="w">
            </span><span class="s2">"8888888"</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">interest</span><span class="w"> </span><span class="err">(oiUsd</span><span class="p">,</span><span class="w"> </span><span class="err">USD)</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>oi</td>
<td>String</td>
<td>合约单位的持仓量</td>
</tr>
<tr>
<td>oiCcy</td>
<td>String</td>
<td>币种单位的持仓量</td>
</tr>
<tr>
<td>oiUsd</td>
<td>String</td>
<td>USD单位的持仓量</td>
</tr>
</tbody></table>

<p>返回值数组顺序分别为是：[ts, oi, oiCcy, oiUsd]</p>
<h3 id="trading-statistics-rest-api-get-taker-volume">获取主动买入/卖出情况 </h3>
<p>获取taker主动买入和卖出的交易量</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/taker-volume</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/taker-volume?ccy<span class="o">=</span>BTC&amp;instType<span class="o">=</span>SPOT
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取主动买入/卖出情况
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_taker_volume</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
    <span class="n">instType</span><span class="o">=</span><span class="s">"SPOT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">instType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">产品类型<br><code>SPOT</code>：币币<br><code>CONTRACTS</code>：衍生品</td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">开始时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">结束时间，Unix时间戳的毫秒数格式，如 <code>1597026383011</code></td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>5m</code>。支持[<code>5m</code>/<code>1H</code>/<code>1D</code>] <br><code>5m</code>粒度最多只能查询两天之内的数据<br><code>1H</code>粒度最多只能查询30天之内的数据<br><code>1D</code>粒度最多只能查询180天之内的数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630425600000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"7596.2651"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"7149.4855"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630339200000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"5312.7876"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"7002.7541"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">sellVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">卖出量</td>
</tr>
<tr>
<td style="text-align: left">buyVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">买入量</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,sellVol,buyVol]
</aside>
<h3 id="trading-statistics-rest-api-get-contract-taker-volume">获取合约主动买入/卖出情况 </h3>
<p>获取合约维度taker主动买入和卖出的交易量。每个粒度最多可获取最近1,440条数据。<br></p>

<p>对于时间粒度period=1D，数据时间范围最早至2024年1月1日；对于其他时间粒度period，最早至2024年2月初。</p>
<h4 id="5-2s">限速： 5次/2s</h4><h4 id="ip-instrumentid">限速规则： IP + instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/taker-volume-contract</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/taker-volume-contract?instId<span class="o">=</span>BTC-USDT-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取合约taker主动买入和卖出的交易量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_contract_taker_volume</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>string</td>
<td>是</td>
<td>产品ID，如 BTC-USDT <br>仅适用于<code>交割</code>，<code>永续</code></td>
</tr>
<tr>
<td>period</td>
<td>string</td>
<td>否</td>
<td>时间粒度，默认值<code>5m</code>, 如 [<code>5m/15m/30m/1H/2H/4H</code>] <br>香港时间开盘价k线：[<code>6H/12H/1D/2D/3D/5D/1W/1M/3M</code>] <br>UTC时间开盘价k线： [<code>6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/5Dutc/1Wutc/1Mutc/3Mutc</code>]</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>买入、卖出的单位，默认值是<code>1</code> <br><code>0</code>: 币 <br><code>1</code>: 合约 <br><code>2</code>: U</td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td>否</td>
<td>筛选的结束时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>begin</td>
<td>string</td>
<td>否</td>
<td>筛选的开始时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>否</td>
<td>分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"200"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">taker</span><span class="w"> </span><span class="err">sell</span><span class="w"> </span><span class="err">volume</span><span class="w">
            </span><span class="s2">"380"</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">taker</span><span class="w"> </span><span class="err">buy</span><span class="w"> </span><span class="err">volume</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"100"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">taker</span><span class="w"> </span><span class="err">sell</span><span class="w"> </span><span class="err">volume</span><span class="w">
            </span><span class="s2">"300"</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">taker</span><span class="w"> </span><span class="err">buy</span><span class="w"> </span><span class="err">volume</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>sellVol</td>
<td>String</td>
<td>卖出量</td>
</tr>
<tr>
<td>buyVol</td>
<td>String</td>
<td>买入量</td>
</tr>
</tbody></table>

<p>返回值数组顺序分别为是：[ts, sellVol, buyVol]</p>
<h3 id="trading-statistics-rest-api-get-margin-lending-ratio">获取杠杆多空比 </h3>
<p>获取借入计价货币与借入交易货币的累计数额比值。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/margin/loan-ratio</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/margin/loan-ratio?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取杠杆多空比
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_margin_lending_ratio</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">开始时间，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">结束时间，如 <code>1597026383011</code></td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度<br><code>m</code>：分钟，<code>H</code>：小时，<code>D</code>：天<br>默认值<code>5m</code>，支持[<code>5m</code>/<code>1H</code>/<code>1D</code>]  <br> <code>5m</code>粒度最多只能查询两天之内的数据<br><code>1H</code>粒度最多只能查询30天之内的数据 <br><code>1D</code>粒度最多只能查询180天之内的数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630492800000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.4614"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630492500000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.5767"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">多空比值</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,ratio]
</aside>
<h3 id="trading-statistics-rest-api-get-top-traders-contract-long-short-ratio">获取精英交易员合约多空持仓人数比 </h3>
<p>获取精英交易员交割永续净开多持仓用户数与净开空持仓用户数的比值。精英交易员指持仓价值前5%的用户。每个粒度最多可获取最近1,440条数据。数据时间范围最早至2024年3月22日。</p>
<h4 id="5-2s">限速： 5次/2s</h4><h4 id="ip-instrumentid">限速规则： IP + instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/contracts/long-short-account-ratio-contract-top-trader</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/contracts/long-short-account-ratio-contract-top-trader?instId<span class="o">=</span>BTC-USDT-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取精英交易员合约多空持仓人数比
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_top_trader_long_short_account_ratio</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>string</td>
<td>是</td>
<td>产品ID，如 BTC-USDT-SWAP <br>仅适用于<code>交割</code>，<code>永续</code></td>
</tr>
<tr>
<td>period</td>
<td>string</td>
<td>否</td>
<td>时间粒度，默认值<code>5m</code>, 如 [<code>5m/15m/30m/1H/2H/4H</code>] <br>香港时间开盘价k线：[<code>6H/12H/1D/2D/3D/5D/1W/1M/3M</code>] <br>UTC时间开盘价k线： [<code>6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/5Dutc/1Wutc/1Mutc/3Mutc</code>]</td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td>否</td>
<td>筛选的结束时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>begin</td>
<td>string</td>
<td>否</td>
<td>筛选的开始时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>否</td>
<td>分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"1.1739"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">long/short</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">num</span><span class="w"> </span><span class="err">ratio</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">top</span><span class="w"> </span><span class="err">traders</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"0.1236"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">long/short</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">num</span><span class="w"> </span><span class="err">ratio</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">top</span><span class="w"> </span><span class="err">traders</span><span class="w">
        </span><span class="p">],</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>longShortAcctRatio</td>
<td>String</td>
<td>多空人数比</td>
</tr>
</tbody></table>

<p>返回值数组顺序分别为是：[ts, longShortAcctRatio]</p>
<h3 id="trading-statistics-rest-api-get-top-traders-contract-long-short-ratio-by-position">获取精英交易员合约多空持仓仓位比 </h3>
<p>获取交割永续开多、开空仓位占总持仓的比值。精英交易员指持仓价值前5%的用户。每个粒度最多可获取最近1,440条数据。数据时间范围最早至2024年3月22日。</p>
<h4 id="5-2s">限速： 5次/2s</h4><h4 id="ip-instrumentid">限速规则： IP + instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/contracts/long-short-position-ratio-contract-top-trader</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/contracts/long-short-position-ratio-contract-top-trader?instId<span class="o">=</span>BTC-USDT-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取精英交易员合约多空持仓仓位比
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_top_trader_long_short_position_ratio</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>string</td>
<td>是</td>
<td>产品ID，如 <code>BTC-USDT-SWAP</code> <br>仅适用于<code>交割</code>/<code>永续</code></td>
</tr>
<tr>
<td>period</td>
<td>string</td>
<td>否</td>
<td>时间粒度，默认值<code>5m</code>, 如 [<code>5m/15m/30m/1H/2H/4H</code>] <br>香港时间开盘价k线：[<code>6H/12H/1D/2D/3D/5D/1W/1M/3M</code>] <br>UTC时间开盘价k线： [<code>6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/5Dutc/1Wutc/1Mutc/3Mutc</code>]</td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td>否</td>
<td>筛选的结束时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>begin</td>
<td>string</td>
<td>否</td>
<td>筛选的开始时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>否</td>
<td>分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"1.1739"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">long/short</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">num</span><span class="w"> </span><span class="err">ratio</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">top</span><span class="w"> </span><span class="err">traders</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"0.1236"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">long/short</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">num</span><span class="w"> </span><span class="err">ratio</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">top</span><span class="w"> </span><span class="err">traders</span><span class="w">
        </span><span class="p">],</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>longShortPosRatio</td>
<td>String</td>
<td>多空仓位占总持仓比值</td>
</tr>
</tbody></table>

<p>返回值数组顺序分别为是：[ts, longShortPosRatio]</p>
<h3 id="trading-statistics-rest-api-get-contract-long-short-ratio">获取合约多空持仓人数比 </h3>
<p>获取交割永续净开多持仓用户数与净开空持仓用户数的比值。每个粒度最多可获取最近1,440条数据。<br></p>

<p>对于时间粒度period=1D，数据时间范围最早至2024年1月1日；对于其他时间粒度period，最早至2024年2月初。</p>
<h4 id="5-2s">限速： 5次/2s</h4><h4 id="ip-instrumentid">限速规则： IP + instrumentID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/contracts/long-short-account-ratio-contract</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/contracts/long-short-account-ratio-contract?instId<span class="o">=</span>BTC-USDT-SWAP
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取合约净开多持仓用户数与净开空持仓用户数的比值
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_contract_long_short_ratio</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT-SWAP"</span>
<span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>string</td>
<td>是</td>
<td>产品ID，如 BTC-USDT <br>仅适用于<code>交割</code>，<code>永续</code></td>
</tr>
<tr>
<td>period</td>
<td>string</td>
<td>否</td>
<td>时间粒度，默认值<code>5m</code>, 如 [<code>5m/15m/30m/1H/2H/4H</code>] <br>香港时间开盘价k线：[<code>6H/12H/1D/2D/3D/5D/1W/1M/3M</code>] <br>UTC时间开盘价k线： [<code>6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/5Dutc/1Wutc/1Mutc/3Mutc</code>]</td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td>否</td>
<td>筛选的结束时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597027383085</code></td>
</tr>
<tr>
<td>begin</td>
<td>string</td>
<td>否</td>
<td>筛选的开始时间戳 ts，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>否</td>
<td>分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"1.1739"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">long/short</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">num</span><span class="w"> </span><span class="err">ratio</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">traders</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1701417600000"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
            </span><span class="s2">"0.1236"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">long/short</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">num</span><span class="w"> </span><span class="err">ratio</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">traders</span><span class="w">
        </span><span class="p">],</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ts</td>
<td>String</td>
<td>时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>longShortAcctRatio</td>
<td>String</td>
<td>多空人数比</td>
</tr>
</tbody></table>

<p>返回值数组顺序分别为是：[ts, longAcctPosRatio]</p>
<h3 id="trading-statistics-rest-api-get-long-short-ratio">获取多空持仓人数比 </h3>
<p>获取交割永续净开多持仓用户数与净开空持仓用户数的比值。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/contracts/long-short-account-ratio</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/contracts/long-short-account-ratio?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取合约多空持仓人数比
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_long_short_ratio</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">开始时间，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">结束时间，如 <code>1597026383011</code></td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>5m</code>。支持[5m/1H/1D]  <br> <code>5m</code>粒度最多只能查询两天之内的数据<br><code>1H</code>粒度最多只能查询30天之内的数据 <br><code>1D</code>粒度最多只能查询180天之内的数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630502100000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1.25"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">ratio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">多空人数比</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,ratio]
</aside>
<h3 id="trading-statistics-rest-api-get-contracts-open-interest-and-volume">获取合约持仓量及交易量 </h3>
<p>获取交割永续的持仓量和交易量。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/contracts/open-interest-volume</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/contracts/open-interest-volume?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取合约持仓量及交易量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_contracts_interest_volume</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">开始时间，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">结束时间，如 <code>1597026383011</code></td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>5m</code>。支持[5m/1H/1D]  <br> <code>5m</code>粒度最多只能查询两天之内的数据<br><code>1H</code>粒度最多只能查询30天之内的数据 <br><code>1D</code>粒度最多只能查询180天之内的数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630502400000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1713028741.6898"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"39800873.554"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">oi</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓总量（USD）</td>
</tr>
<tr>
<td style="text-align: left">vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易总量（USD）</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,oi,vol]
</aside>
<h3 id="trading-statistics-rest-api-get-options-open-interest-and-volume">获取期权持仓量及交易量 </h3>
<p>获取期权的持仓量和交易量。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/option/open-interest-volume</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/option/open-interest-volume?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取期权持仓量及交易量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_options_interest_volume</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>8H</code>。支持[<code>8H/1D</code>]  <br> 每个粒度最多只能查询72条数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630368000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"3458.1000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"78.8000"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">oi</td>
<td style="text-align: left">String</td>
<td style="text-align: left">持仓总量，单位为请求参数的<code>ccy</code></td>
</tr>
<tr>
<td style="text-align: left">vol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易总量，单位为请求参数的<code>ccy</code></td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,oi,vol]
</aside>
<h3 id="trading-statistics-rest-api-get-put-call-ratio">看涨/看跌期权合约 持仓总量比/交易总量比 </h3>
<p>获取看涨期权和看跌期权的持仓量比值，以及交易量比值。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/option/open-interest-volume-ratio</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/option/open-interest-volume-ratio?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 看涨/看跌期权合约 持仓总量比/交易总量比
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_put_call_ratio</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>8H</code>。支持[<code>8H/1D</code>]  <br> 每个粒度最多只能查询72条数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630512000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2.7261"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2.3447"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630425600000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2.8101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2.3438"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">oiRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨/看跌 持仓总量比</td>
</tr>
<tr>
<td style="text-align: left">volRatio</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨/看跌 交易总量比</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,oiRatio,volRatio]
</aside>
<h3 id="trading-statistics-rest-api-get-open-interest-and-volume-expiry">看涨看跌持仓总量及交易总量（按到期日分） </h3>
<p>获取每个到期日上看涨期权和看跌期权的持仓量和交易量。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/option/open-interest-volume-expiry</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/option/open-interest-volume-expiry?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 看涨看跌持仓总量及交易总量（按到期日分）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_interest_volume_expiry</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>8H</code>。支持[<code>8H/1D</code>]  <br> 每个粒度仅展示最新的一份数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630540800000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"20210902"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"6.4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"18.4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.4"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630540800000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"20210903"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"47"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"36.6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"10.7"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">到期日（格式: YYYYMMDD，如 "20210623"）</td>
</tr>
<tr>
<td style="text-align: left">callOI</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨持仓总量（以<code>币</code>为单位）</td>
</tr>
<tr>
<td style="text-align: left">putOI</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌持仓总量（以<code>币</code>为单位）</td>
</tr>
<tr>
<td style="text-align: left">callVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨交易总量（以<code>币</code>为单位）</td>
</tr>
<tr>
<td style="text-align: left">putVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌交易总量（以<code>币</code>为单位）</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,expTime,callOI,putOI,callVol,putVol]
</aside>
<h3 id="trading-statistics-rest-api-get-open-interest-and-volume-strike">看涨看跌持仓总量及交易总量（按执行价格分） </h3>
<p>获取看涨期权和看跌期权的taker主动买入和卖出的交易量。</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/option/open-interest-volume-strike</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/option/open-interest-volume-strike?ccy<span class="o">=</span>BTC&amp;expTime<span class="o">=</span>20210901
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 看涨看跌持仓总量及交易总量（按执行价格分）
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_interest_volume_strike</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
    <span class="n">expTime</span><span class="o">=</span><span class="s">"20210623"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">expTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">到期日（格式: <code>YYYYMMdd</code>，如 "20210623"）</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>8H</code>。支持[<code>8H/1D</code>]  <br> 每个粒度仅展示最新的一份数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630540800000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="s2">"1630540800000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"14000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"5.2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">strike</td>
<td style="text-align: left">String</td>
<td style="text-align: left">执行价格</td>
</tr>
<tr>
<td style="text-align: left">callOI</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨持仓总量（以<code>币</code>为单位）</td>
</tr>
<tr>
<td style="text-align: left">putOI</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌持仓总量（以<code>币</code>为单位）</td>
</tr>
<tr>
<td style="text-align: left">callVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨交易总量（以<code>币</code>为单位）</td>
</tr>
<tr>
<td style="text-align: left">putVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌交易总量（以<code>币</code>为单位）</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,strike,callOI,putOI,callVol,putVol]
</aside>
<h3 id="trading-statistics-rest-api-get-taker-flow">看跌/看涨期权合约 主动买入/卖出量 </h3>
<p>该指标展示某一时刻，单位时间内看跌/看涨期权的主动（taker）买入/卖出交易量</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/rubik/stat/option/taker-block-volume</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/rubik/stat/option/taker-block-volume?ccy<span class="o">=</span>BTC
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.TradingData</span> <span class="k">as</span> <span class="n">TradingData_api</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">tradingDataAPI</span> <span class="o">=</span> <span class="n">TradingData_api</span><span class="p">.</span><span class="n">TradingDataAPI</span><span class="p">(</span><span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">)</span>

<span class="c1"># 看跌/看涨期权合约 主动买入/卖出量
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradingDataAPI</span><span class="p">.</span><span class="n">get_taker_block_volume</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">时间粒度，默认值<code>8H</code>。支持[<code>8H/1D</code>]  <br> 每个粒度仅展示最新的一份数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1630512000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"8.55"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"67.3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"16.05"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"16.3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"126.4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"40.7"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据产生时间</td>
</tr>
<tr>
<td style="text-align: left">callBuyVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨买入量  以结算货币为单位</td>
</tr>
<tr>
<td style="text-align: left">callSellVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨卖出量  以结算货币为单位</td>
</tr>
<tr>
<td style="text-align: left">putBuyVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌买入量  以结算货币为单位</td>
</tr>
<tr>
<td style="text-align: left">putSellVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌卖出量  以结算货币为单位</td>
</tr>
<tr>
<td style="text-align: left">callBlockVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看涨大单</td>
</tr>
<tr>
<td style="text-align: left">putBlockVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">看跌大单</td>
</tr>
</tbody></table>

<aside class="notice">
返回值数组顺序分别为是：[ts,callBuyVol,callSellVol,putBuyVol,putSellVol,callBlockVol,putBlockVol]
</aside>
<h1 id="funding-account">资金账户 </h1>
<p><code>资金</code>功能模块下的API接口需要身份验证。</p>
<h2 id="funding-account-rest-api">REST API </h2><h3 id="funding-account-rest-api-get-currencies">获取币种列表 </h3>
<p>获取当前用户KYC实体支持的币种列表。</p>
<h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/currencies</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/currencies

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取币种列表
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_currencies</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>支持多币种查询，币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"burningFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canDep"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canInternal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canWd"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-Bitcoin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ctAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depEstOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depQuotaFixed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depQuoteDailyLayer2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"logoLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.coinall.ltd/cdn/oksupport/asset/currency/icon/btc20230419112752.png"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mainNet"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxFeeForCtAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minDep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minDepArrivalConfirm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minFeeForCtAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minInternal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"minWdUnlockConfirm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"needTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"usedDepQuotaFixed"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"usedWdQuota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wdEstOpenTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wdQuota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wdTickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>币种名称，不显示则无对应名称</td>
</tr>
<tr>
<td>logoLink</td>
<td>String</td>
<td>币种Logo链接</td>
</tr>
<tr>
<td>chain</td>
<td>String</td>
<td>币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td>ctAddr</td>
<td>String</td>
<td>合约地址</td>
</tr>
<tr>
<td>canDep</td>
<td>Boolean</td>
<td>当前是否可充值<br><code>false</code>：不可链上充值<br><code>true</code>：可以链上充值</td>
</tr>
<tr>
<td>canWd</td>
<td>Boolean</td>
<td>当前是否可提币<br><code>false</code>：不可链上提币<br><code>true</code>：可以链上提币</td>
</tr>
<tr>
<td>canInternal</td>
<td>Boolean</td>
<td>当前是否可内部转账<br><code>false</code>：不可内部转账<br><code>true</code>：可以内部转账</td>
</tr>
<tr>
<td>depEstOpenTime</td>
<td>String</td>
<td>充值预期开放时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>wdEstOpenTime</td>
<td>String</td>
<td>提币预期开放时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>minDep</td>
<td>String</td>
<td>币种单笔最小充值量</td>
</tr>
<tr>
<td>minWd</td>
<td>String</td>
<td>币种单笔最小<code>链上提币</code>量</td>
</tr>
<tr>
<td>minInternal</td>
<td>String</td>
<td>币种单笔最小<code>内部转账</code>量<br>无单笔最大<code>内部转账</code>量限制，受24小时内提币额度(<code>wdQuota</code>)限制</td>
</tr>
<tr>
<td>maxWd</td>
<td>String</td>
<td>币种单笔最大<code>链上提币</code>量</td>
</tr>
<tr>
<td>wdTickSz</td>
<td>String</td>
<td>提币精度,表示小数点后的位数。提币手续费精度与提币精度保持一致。<br>内部转账提币精度为小数点后8位。</td>
</tr>
<tr>
<td>wdQuota</td>
<td>String</td>
<td>过去24小时内提币额度（包含<code>链上提币</code>和<code>内部转账</code>），单位为<code>USD</code></td>
</tr>
<tr>
<td>usedWdQuota</td>
<td>String</td>
<td>过去24小时内已用提币额度，单位为<code>USD</code></td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>固定的提币手续费数量<br>适用于<code>链上提币</code></td>
</tr>
<tr>
<td>minFee</td>
<td>String</td>
<td><del>普通地址最小提币手续费数量<br>适用于<code>链上提币</code></del><br>该字段已废弃</td>
</tr>
<tr>
<td>maxFee</td>
<td>String</td>
<td><del>普通地址最大提币手续费数量<br>适用于<code>链上提币</code></del><br>该字段已废弃</td>
</tr>
<tr>
<td>minFeeForCtAddr</td>
<td>String</td>
<td><del>合约地址最小提币手续费数量<br>适用于<code>链上提币</code></del><br>该字段已废弃</td>
</tr>
<tr>
<td>maxFeeForCtAddr</td>
<td>String</td>
<td><del>合约地址最大提币手续费数量<br>适用于<code>链上提币</code></del><br>该字段已废弃</td>
</tr>
<tr>
<td>burningFeeRate</td>
<td>String</td>
<td>燃烧费率，如 <code>0.05</code> 代表 <code>5%</code>。<br>部分币种会收取燃烧费用。燃烧费用按照提币数量（不含gas fee） 乘以 燃烧费率，在提币数量基础上扣除。<br>适用于<code>链上提币</code></td>
</tr>
<tr>
<td>mainNet</td>
<td>Boolean</td>
<td>当前链是否为主链</td>
</tr>
<tr>
<td>needTag</td>
<td>Boolean</td>
<td>当前链提币是否需要标签（tag/memo）信息，如 <code>EOS</code>该字段为<code>true</code></td>
</tr>
<tr>
<td>minDepArrivalConfirm</td>
<td>String</td>
<td>充值到账最小网络确认数。币已到账但不可提。</td>
</tr>
<tr>
<td>minWdUnlockConfirm</td>
<td>String</td>
<td>提现解锁最小网络确认数</td>
</tr>
<tr>
<td>depQuotaFixed</td>
<td>String</td>
<td>充币固定限额，单位为<code>USD</code><br>没有充币限制则返回""</td>
</tr>
<tr>
<td>usedDepQuotaFixed</td>
<td>String</td>
<td>已用充币固定额度，单位为<code>USD</code><br>没有充币限制则返回""</td>
</tr>
<tr>
<td>depQuoteDailyLayer2</td>
<td>String</td>
<td>Layer2网络每日充值上限</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-balance">获取资金账户余额 </h3>
<p>获取资金账户所有资产列表，查询各币种的余额、冻结和可用等信息。</p>

<aside class="notice">
只返回余额大于0的币资产信息。
</aside>  
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/balances</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/balances

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取资金账户余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_balances</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>支持多币种查询（不超过20个），币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.11827078"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.11827078"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">bal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">余额</td>
</tr>
<tr>
<td style="text-align: left">frozenBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冻结余额</td>
</tr>
<tr>
<td style="text-align: left">availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用余额</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-non-tradable-assets">获取不可交易资产 </h3><h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/non-tradable-assets</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/non-tradable-assets

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API initialization
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># Production trading: 0, Demo trading: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_non_tradable_assets</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>支持多币种查询（不超过20个），币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"989.84719571"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"burningFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"canWd"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CELT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CELT-OKTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f403fb"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.coinall.ltd/cdn/assets/imgs/221/460DA8A592400393.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"needTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"wdAll"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"wdTickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"burningFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"canWd"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEME"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEME-ERC20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09b760"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"logoLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.coinall.ltd/cdn/assets/imgs/207/2E664E470103C613.png"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minWd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MEME Inu"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"needTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"wdAll"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"wdTickSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>CELT</code></td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>币种中文名称，不显示则无对应名称</td>
</tr>
<tr>
<td>logoLink</td>
<td>String</td>
<td>币种Logo链接</td>
</tr>
<tr>
<td>bal</td>
<td>String</td>
<td>可提余额</td>
</tr>
<tr>
<td>canWd</td>
<td>Boolean</td>
<td>是否可提<br><code>false</code>: 不可提  <code>true</code>: 可提</td>
</tr>
<tr>
<td>chain</td>
<td>String</td>
<td>支持提币的链</td>
</tr>
<tr>
<td>minWd</td>
<td>String</td>
<td>币种单笔最小提币量</td>
</tr>
<tr>
<td>wdAll</td>
<td>Boolean</td>
<td>该币种资产是否必须一次性全部提取</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>提币固定手续费。提币手续费精度为小数点后8位。</td>
</tr>
<tr>
<td>feeCcy</td>
<td>String</td>
<td>提币固定手续费单位</td>
</tr>
<tr>
<td>burningFeeRate</td>
<td>String</td>
<td>燃烧费率，如 <code>0.05</code> 代表 <code>5%</code>。<br>部分币种会收取燃烧费用。燃烧费用按照提币数量（不含gas fee） 乘以 燃烧费率，在提币数量基础上扣除。</td>
</tr>
<tr>
<td>ctAddr</td>
<td>String</td>
<td>合约地址后6位</td>
</tr>
<tr>
<td>wdTickSz</td>
<td>String</td>
<td>提币精度,表示小数点后的位数</td>
</tr>
<tr>
<td>needTag</td>
<td>Boolean</td>
<td>提币的链是否需要标签（tag/memo）信息</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-account-asset-valuation">获取账户资产估值 </h3>
<p>查看账户资产估值</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/asset-valuation</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/asset-valuation
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取账户资产估值
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_asset_valuation</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">资产估值对应的单位<br>BTC 、USDT<br>USD 、CNY 、JPY、KRW、RUB、EUR<br>VND 、IDR 、INR、PHP、THB、TRY <br>AUD 、SGD 、ARS、SAR、AED、IQD <br>默认为<code>BTC</code>为单位的估值</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"classic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"124.6"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"earn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1122.73"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"funding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"trading"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2544.28"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"totalBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3790.09"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1637566660769"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">totalBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户总资产估值</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数据更新时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">各个账户的资产估值</td>
</tr>
<tr>
<td style="text-align: left">&gt; funding</td>
<td style="text-align: left">String</td>
<td style="text-align: left">资金账户</td>
</tr>
<tr>
<td style="text-align: left">&gt; trading</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易账户</td>
</tr>
<tr>
<td style="text-align: left">&gt; classic</td>
<td style="text-align: left">String</td>
<td style="text-align: left">经典账户 (已废弃)</td>
</tr>
<tr>
<td style="text-align: left">&gt; earn</td>
<td style="text-align: left">String</td>
<td style="text-align: left">金融账户</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-funds-transfer">资金划转 </h3>
<p>调用时，API Key 需要有交易权限。</p>

<p>支持母账户的资金账户划转到交易账户，母账户到子账户的资金账户和交易账户划转。</p>

<p>子账户默认可转出至母账户，划转到同一母账户下的其他子账户，需要先调用 <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-set-permission-of-transfer-out">设置子账户主动转出权限</a> 接口进行授权。</p>

<aside class="notice">
请求失败不代表划转失败，建议以获取资金划转状态接口返回的状态为准。
</aside>
<h4 id="2-s">限速：2 次/s</h4><h4 id="userid-currency">限速规则：UserID + Currency</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/asset/transfer</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 母账户USDT从资金账户划转1.5USDT到交易账户</span>
POST /api/v5/asset/transfer
body 
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"1.5"</span>,
    <span class="s2">"from"</span>:<span class="s2">"6"</span>,
    <span class="s2">"to"</span>:<span class="s2">"18"</span>
<span class="o">}</span>

<span class="c"># 母账户从资金账户划转1.5USDT到子账户的资金账户</span>
POST /api/v5/asset/transfer
body 
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
    <span class="s2">"type"</span>:<span class="s2">"1"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"1.5"</span>,
    <span class="s2">"from"</span>:<span class="s2">"6"</span>,
    <span class="s2">"to"</span>:<span class="s2">"6"</span>,
    <span class="s2">"subAcct"</span>:<span class="s2">"mini"</span>
<span class="o">}</span>

<span class="c"># 子账户从资金账户划转1.5USDT到另一子账户的资金账户</span>
POST /api/v5/asset/transfer
body 
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
    <span class="s2">"type"</span>:<span class="s2">"4"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"1.5"</span>,
    <span class="s2">"from"</span>:<span class="s2">"6"</span>,
    <span class="s2">"to"</span>:<span class="s2">"6"</span>,
    <span class="s2">"subAcct"</span>:<span class="s2">"mini"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 资金划转
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">funds_transfer</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"USDT"</span><span class="p">,</span>
    <span class="n">amt</span><span class="o">=</span><span class="s">"1.5"</span><span class="p">,</span>
    <span class="n">from_</span><span class="o">=</span><span class="s">"6"</span><span class="p">,</span>
    <span class="n">to</span><span class="o">=</span><span class="s">"18"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">划转类型<br><code>0</code>：账户内划转<br><code>1</code>：母账户转子账户(仅适用于母账户APIKey)<br><code>2</code>：子账户转母账户(仅适用于母账户APIKey)<br><code>3</code>：子账户转母账户(仅适用于子账户APIKey)<br><code>4</code>：子账户转子账户(仅适用于子账户APIKey，且目标账户需要是同一母账户下的其他子账户。子账户主动转出权限默认是关闭的，权限调整参考 <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-set-permission-of-transfer-out">设置子账户主动转出权限</a>。)<br>默认是<code>0</code><br>如果您希望通过母账户API Key控制子账户之间的划转，参考接口 <a href="https://www.okx.com/docs-v5/zh/#sub-account-rest-api-master-accounts-manage-the-transfers-between-sub-accounts">子账户间资金划转</a></td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">划转币种，如 <code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">划转数量</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">转出账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">转入账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">子账户名称<br>当<code>type</code>为<code>1</code>/<code>2</code>/<code>4</code>时，该字段必填</td>
</tr>
<tr>
<td style="text-align: left">loanTrans</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否支持<code>现货模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code>下的借币转出<br><code>true</code>：支持借币转出<br><code>false</code>：不支持借币转出<br>默认为<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">omitPosRisk</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否忽略仓位风险<br>默认为<code>false</code><br>仅适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"transId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"754147"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">transId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转 ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转币种</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转出账户</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转量</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转入账户</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义ID</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-funds-transfer-state">获取资金划转状态 </h3>
<p>获取最近2个星期内的资金划转状态数据</p>
<h4 id="10-s">限速：10 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/transfer-state</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/transfer-state?transId<span class="o">=</span>1&amp;type<span class="o">=</span>1
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取资金划转状态
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">transfer_state</span><span class="p">(</span>
    <span class="n">transId</span><span class="o">=</span><span class="s">"248424899"</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="s">"0"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">transId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">划转ID<br>transId和clientId必须传一个，若传两个，以transId为主</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">客户自定义ID</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">划转类型<br><code>0</code>：账户内划转<br><code>1</code>：母账户转子账户(仅适用于母账户APIKey)<br><code>2</code>：子账户转母账户(仅适用于母账户APIKey)<br><code>3</code>：子账户转母账户(仅适用于子账户APIKey)<br><code>4</code>：子账户转子账户(仅适用于子账户APIKey，且目标账户需要是同一母账户下的其他子账户)<br>默认是<code>0</code><br>对于Custody账户该参数可以不传或者传0。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//已废弃</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"toInstId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//已废弃</span><span class="w">
            </span><span class="nl">"transId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">transId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转 ID</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义 ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转币种</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转量</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转类型<br><code>0</code>：账户内划转<br><code>1</code>：母账户转子账户(仅适用于母账户APIKey)<br><code>2</code>：子账户转母账户(仅适用于母账户APIKey)<br><code>3</code>：子账户转母账户(仅适用于子账户APIKey)<br><code>4</code>：子账户转子账户(仅适用于子账户APIKey，且目标账户需要是同一母账户下的其他子账户)</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转出账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转入账户<br><code>6</code>：资金账户<br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已废弃</td>
</tr>
<tr>
<td style="text-align: left">toInstId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已废弃</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转账状态<br><code>success</code>：成功<br><code>pending</code>：处理中<br><code>failed</code>：失败</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-asset-bills-details">获取资金流水 </h3>
<p>查询最近一个月内资金账户账单流水</p>
<h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/bills</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/bills

GET /api/v5/asset/bills?type<span class="o">=</span>1

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取资金流水
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_bills</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">账单类型<br><code>1</code>：充值<br><code>2</code>：提现<br><code>13</code>：撤销提现<br><code>20</code>：转出至子账户（主体是母账户）<br><code>21</code>：从子账户转入（主体是母账户）<br><code>22</code>：转出到母账户（主体是子账户）<br><code>23</code>：母账户转入（主体是子账户）<br><code>28</code>：领取<br><code>47</code>：系统冲正<br><code>48</code>：活动得到<br><code>49</code>：活动送出<br><code>68</code>：手续费返佣(通过返佣卡)<br><code>72</code>：收币<br><code>73</code>：送币<br><code>74</code>：送币退还<br><code>75</code>：申购余币宝<br><code>76</code>：赎回余币宝<br><code>77</code>：Jumpstart派发<br><code>78</code>：Jumpstart锁定<br><code>80</code>：DEFI/锁仓挖矿 产品申购<br><code>82</code>：DEFI/锁仓挖矿 产品赎回<br><code>83</code>：锁仓挖矿收益<br><code>84</code>：违约金<br><code>116</code>：法币创建订单<br><code>117</code>：法币完成订单<br><code>118</code>：法币取消订单<br><code>124</code>：Jumpstart 解锁<br><code>130</code>：从交易账户转入<br><code>131</code>：转出至交易账户<br><code>132</code>：[P2P] 客服冻结<br><code>133</code>：[P2P] 客服解冻<br><code>134</code>：[P2P] 客服转交<br><code>135</code>：跨链兑换<br><code>137</code>：[ETH质押] 申购<br><code>138</code>：[ETH质押] 兑换<br><code>139</code>：[ETH质押] 收益<br><code>146</code>：客户回馈<br><code>150</code>：节点返佣<br><code>151</code>：邀请奖励<br><code>152</code>：经纪商返佣<br><code>160</code>：双币赢申购<br><code>161</code>：双币赢回款<br><code>162</code>：双币赢收益<br><code>163</code>：双币赢退款<br><code>172</code>：[节点计划] 助力人返佣<br><code>173</code>：[节点计划] 手续费返现<br><code>174</code>：Jumpstart支付<br><code>175</code>：锁定质押物<br><code>176</code>：借款转入<br><code>177</code>：添加质押物<br><code>178</code>：减少质押物<br><code>179</code>：还款<br><code>180</code>：释放质押物<br><code>181</code>：偿还空投糖果<br><code>185</code>：[经纪商] 闪兑返佣<br><code>187</code>：[经纪商] 闪兑划转<br><code>189</code>：盲盒奖励<br><code>195</code>：不可交易资产提币<br><code>196</code>：不可交易资产提币撤销<br><code>197</code>：不可交易资产充值<br><code>198</code>：不可交易资产减少<br><code>199</code>：不可交易资产增加<br><code>200</code>：买入<br><code>202</code>：价格锁定申购<br><code>203</code>：价格锁定回款<br><code>204</code>：价格锁定收益<br><code>205</code>：价格锁定退款<br><code>207</code>：双币赢精简版申购<br><code>208</code>：双币赢精简版回款<br><code>209</code>：双币赢精简版收益<br><code>210</code>：双币赢精简版退款<br><code>212</code>：[活期借币] 多币种借贷锁定质押物<br><code>215</code>：[活期借币] 多币种借贷释放质押物<br><code>217</code>：[活期借币] 多币种借贷借款转入<br><code>218</code>：[活期借币] 多币种借贷还款<br><code>232</code>：[活期借币] 利息补贴转出<br><code>220</code>：已下架数字货币<br><code>221</code>：提币手续费支出<br><code>222</code>：提币手续费退款<br><code>223</code>：合约带单分润<br><code>225</code>：鲨鱼鳍申购<br><code>226</code>：鲨鱼鳍回款<br><code>227</code>：鲨鱼鳍收益<br><code>228</code>：鲨鱼鳍退款<br><code>229</code>：空投发放<br><code>232</code>：利息补贴入账<br><code>233</code>：经纪商佣金补偿<br><code>240</code>：雪球申購<br><code>241</code>：雪球回款<br><code>242</code>：雪球收益<br><code>243</code>：雪球交易失败<br><code>249</code>：海鸥申购<br><code>250</code>：海鸥回款<br><code>251</code>：海鸥收益<br><code>252</code>：海鸥退款<br><code>263</code>：策略分润<br><code>265</code>：信号收入<br><code>266</code>：现货带单分润<br><code>270</code>：DCD经纪商划转<br><code>271</code>：DCD经纪商返佣<br><code>272</code>：[闪兑] 买入数字货币/法币<br><code>273</code>：[闪兑] 卖出数字货币/法币<br><code>284</code>：[Custody] 转出交易子账户<br><code>285</code>：[Custody] 转入交易子账户<br><code>286</code>：[Custody] 转出托管资金账户<br><code>287</code>：[Custody] 转入托管资金账户<br><code>288</code>：[Custody] 托管资金入金<br><code>289</code>：[Custody] 托管资金出金<br><code>299</code>：推荐节点返佣<br><code>300</code>：手续费折扣返现<br><code>303</code>：雪球做市商转账<br><code>304</code>：[定期简单赚币] 订单提交<br><code>305</code>：[定期简单赚币] 订单赎回<br><code>306</code>：[定期简单赚币] 本金发放<br><code>307</code>：[定期简单赚币] 收益发放 (提前终止订单补偿) <br><code>308</code>：[定期简单赚币] 收益发放<br><code>309</code>：[定期简单赚币] 补偿收益发放 (订单延期补偿)<br><code>311</code>：系统转入小额资产<br><code>313</code>：发送礼物<br><code>314</code>：收到礼物<br><code>315</code>：礼物退回<br><code>328</code>：[SOL质押] 流动性质押收益<br><code>329</code>：[SOL质押] 流动性质押申购<br><code>330</code>：[SOL质押] 流动性质押铸币<br><code>331</code>：[SOL质押] 流动性质押赎回<br><code>332</code>：[SOL质押] 流动性质押结算<br><code>333</code>：体验金收益</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">转账或提币的客户自定义ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为 100，不填默认返回 100 条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balChg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单 ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户余额币种</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转账或提币的客户自定义ID</td>
</tr>
<tr>
<td style="text-align: left">balChg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额变动数量</td>
</tr>
<tr>
<td style="text-align: left">bal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账户层面的余额数量</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单类型</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单创建时间，Unix 时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-deposit-address">获取充值地址信息 </h3>
<p>获取各个币种的充值地址，包括曾使用过的老地址。</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/deposit-address</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/deposit-address?ccy<span class="o">=</span>BTC

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取充值地址信息
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_deposit_address</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"USDT"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如<code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-Bitcoin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39XNxK1Ryqgg3Bsyn6HzoqV4Xji25pNkv6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verifiedName"</span><span class="p">:</span><span class="s2">"John Corner"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-OKC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x66d0edc2e63b6b992381ee668fbcb01f20ae0428"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verifiedName"</span><span class="p">:</span><span class="s2">"John Corner"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-ERC20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ctAddr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5807cf"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x66d0edc2e63b6b992381ee668fbcb01f20ae0428"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verifiedName"</span><span class="p">:</span><span class="s2">"John Corner"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">addr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">充值地址</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">部分币种充值需要标签，若不需要则不返回此字段</td>
</tr>
<tr>
<td style="text-align: left">memo</td>
<td style="text-align: left">String</td>
<td style="text-align: left">部分币种充值需要 memo，若不需要则不返回此字段</td>
</tr>
<tr>
<td style="text-align: left">pmtId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">部分币种充值需要此字段（payment_id），若不需要则不返回此字段</td>
</tr>
<tr>
<td style="text-align: left">addrEx</td>
<td style="text-align: left">Object<json></json></td>
<td style="text-align: left">充值地址备注，部分币种充值需要，若不需要则不返回此字段<br>如币种<code>TONCOIN</code>的充值地址备注标签名为<code>comment</code>,则该字段返回：{'comment':'123456'}</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如<code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">chain</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">转入账户<br><code>6</code>：资金账户 <code>18</code>：交易账户<br>某些主体用户(如巴西)只支持充值到交易账户</td>
</tr>
<tr>
<td style="text-align: left">verifiedName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">(接受方)已验证姓名</td>
</tr>
<tr>
<td style="text-align: left">selected</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">该地址是否为页面选中的地址</td>
</tr>
<tr>
<td style="text-align: left">ctAddr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">合约地址后6位</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-deposit-history">获取充值记录 </h3>
<p>根据币种，充值状态，时间范围获取充值记录，按照时间倒序排列，默认返回 100 条数据。<br>
支持Websocket订阅，参考 <a href="https://www.okx.com/docs-v5/zh/#funding-account-websocket-deposit-info-channel">充值信息频道</a>。</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/deposit-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 查询最近的充值记录</span>
GET /api/v5/asset/deposit-history

<span class="c"># 查询从2022年06月01日到2022年07月01日之间的BTC的充值记录</span>
GET /api/v5/asset/deposit-history?ccy<span class="o">=</span>BTC&amp;after<span class="o">=</span>1654041600000&amp;before<span class="o">=</span>1656633600000

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取充值记录
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_deposit_history</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">depId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">充值记录 ID</td>
</tr>
<tr>
<td style="text-align: left">fromWdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">内部转账发起者提币申请 ID<br>如果该笔充值来自于内部转账，则该字段展示内部转账发起者的提币申请 ID</td>
</tr>
<tr>
<td style="text-align: left">txId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">区块转账哈希记录</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">充值方式<br><code>3</code>：内部转账<br><code>4</code>：链上充值</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">充值状态<br><code>0</code>：等待确认<br><code>1</code>：确认到账<br><code>2</code>：充值成功<br><code>8</code>：因该币种暂停充值而未到账，恢复充值后自动到账<br><code>11</code>：命中地址黑名单<br><code>12</code>：账户或充值被冻结<br><code>13</code>：子账户充值拦截<br><code>14</code>：KYC限额</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1654041600000</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1656633600000</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">string</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回的结果集数量，默认为100，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"actualDepBlkConfirm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"areaCodeFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT-TRC20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88****33"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromWdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TN4hGjVXMzy*********9b4N1aGizqs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1674038705000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fee235b3e812********857d36bb0426917f0df1802"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>chain</td>
<td>String</td>
<td>币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>充值数量</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>充值账户<br>如果该笔充值来自于内部转账，则该字段展示内部转账发起者的账户信息，可以是手机号、邮箱、账户名称，其他情况返回""</td>
</tr>
<tr>
<td>areaCodeFrom</td>
<td>String</td>
<td>如果<code>from</code>为手机号，该字段为该手机号的区号</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>到账地址<br>如果该笔充值来自于链上充值，则该字段展示链上地址，其他情况返回""</td>
</tr>
<tr>
<td>txId</td>
<td>String</td>
<td>区块转账哈希记录</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>充值记录创建时间，Unix 时间戳的毫秒数格式，如 <code>1655251200000</code></td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>充值状态<br><code>0</code>：等待确认 <br><code>1</code>：确认到账 <br><code>2</code>：充值成功 <br><code>8</code>：因该币种暂停充值而未到账，恢复充值后自动到账<br><code>11</code>：命中地址黑名单<br><code>12</code>：账户或充值被冻结<br><code>13</code>：子账户充值拦截<br><code>14</code>：KYC限额</td>
</tr>
<tr>
<td>depId</td>
<td>String</td>
<td>充值记录 ID</td>
</tr>
<tr>
<td>fromWdId</td>
<td>String</td>
<td>内部转账发起者提币申请 ID<br>如果该笔充值来自于内部转账，则该字段展示内部转账发起者的提币申请 ID，其他情况返回""</td>
</tr>
<tr>
<td>actualDepBlkConfirm</td>
<td>String</td>
<td>最新的充币网络确认数</td>
</tr>
</tbody></table>

<aside class="notice">
关于充值状态<br>
<b>等待确认</b>是没有达到充币确认数。<br>
<b>确认到账</b>是够充币确认数，且币已经到账户中，但是不可提。<br>
<b>充值成功</b>是当前账户完成到提币确认，可以提出。
</aside>
<h3 id="funding-account-rest-api-withdrawal">提币 </h3>
<p>支持资金账户资产提币。普通子账户不支持提币。</p>

<aside class="notice">
API只能提币到免认证地址/账户上，通过 WEB/APP 可以设置免认证地址。
</aside>

<aside class="notice">
关于标签<br>
某些币种如XRP充币时同时需要一个充值地址和标签（又名memo/payment_id），标签是一种保证您的充币地址唯一性的数字串，与充币地址成对出现并一一对应。请您务必遵守正确的充值步骤，在提币时输入完整信息，否则将面临丢失币的风险！<br>
对于有标签的币种，如果是OKX用户间的提币，请走内部转账不要走链上提币。
</aside>

<aside class="notice">
下列内容仅适用于居住地为阿拉伯联合酋长国的用户<br>
根据您所在国家或地区的法律法规，一定比例的用户资产必须存储在冷钱包中。我们会不定期进行冷热钱包资产转移，但如果热钱包中的资产不足以满足用户提币需求，我们将需要进行额外步骤将冷钱包资产转移到热钱包，这可能会导致提币延迟最多24小时。<br>
更多详情参考(https://www.okx.com/zh-hans/help/what-is-a-segregated-wallet-and-why-is-my-withdrawal-delayed)
</aside>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="05c2118c62">权限：提币</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/asset/withdrawal</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 链上提币</span>
POST /api/v5/asset/withdrawal
body
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"1"</span>,
    <span class="s2">"dest"</span>:<span class="s2">"4"</span>,
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"chain"</span>:<span class="s2">"BTC-Bitcoin"</span>,
    <span class="s2">"toAddr"</span>:<span class="s2">"17DKe3kkkkiiiiTvAKKi2vMPbm1Bz3CMKw"</span>
<span class="o">}</span>

<span class="c"># 内部转账</span>
POST /api/v5/asset/withdrawal
body
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"10"</span>,
    <span class="s2">"dest"</span>:<span class="s2">"3"</span>,
    <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
    <span class="s2">"areaCode"</span>:<span class="s2">"86"</span>,
    <span class="s2">"toAddr"</span>:<span class="s2">"15651000000"</span>
<span class="o">}</span>

<span class="c"># 特定主体用户需要提供接收方信息</span>
POST /api/v5/asset/withdrawal
body
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"1"</span>,
    <span class="s2">"dest"</span>:<span class="s2">"4"</span>,
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"chain"</span>:<span class="s2">"BTC-Bitcoin"</span>,
    <span class="s2">"toAddr"</span>:<span class="s2">"17DKe3kkkkiiiiTvAKKi2vMPbm1Bz3CMKw"</span>,
    <span class="s2">"rcvrInfo"</span>:<span class="o">{</span>
        <span class="s2">"walletType"</span>:<span class="s2">"exchange"</span>,
        <span class="s2">"exchId"</span>:<span class="s2">"did:ethr:0xfeb4f99829a9acdf52979abee87e83addf22a7e1"</span>,
        <span class="s2">"rcvrFirstName"</span>:<span class="s2">"Bruce"</span>,
        <span class="s2">"rcvrLastName"</span>:<span class="s2">"Wayne"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 提币
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">withdrawal</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"USDT"</span><span class="p">,</span>
    <span class="n">toAddr</span><span class="o">=</span><span class="s">"TXtvfb7cdrn6VX9H49mgio8bUxZ3DGfvYF"</span><span class="p">,</span>
    <span class="n">amt</span><span class="o">=</span><span class="s">"100"</span><span class="p">,</span>
    <span class="n">dest</span><span class="o">=</span><span class="s">"4"</span><span class="p">,</span>
    <span class="n">chain</span><span class="o">=</span><span class="s">"USDT-TRC20"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">提币数量<br>该数量不包含手续费。提币时需预留足够的手续费。<br>链上提币所需网络手续费可以通过接口 <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-currencies">获取币种列表</a> 获取<br>内部转账无需手续费</td>
</tr>
<tr>
<td style="text-align: left">dest</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">提币方式<br><code>3</code>：内部转账 <br><code>4</code>：链上提币</td>
</tr>
<tr>
<td style="text-align: left">toAddr</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left"><code>toAddr</code>必须是认证过的地址/账户。如果选择链上提币，某些数字货币地址格式为<code>地址:标签</code>，如 <code>ARDOR-7JF3-8F2E-QUWZ-CAN7F:123456</code><br>如果选择内部转账，<code>toAddr</code>必须是接收方地址，可以是邮箱、手机或者账户名（只有子账户才有账户名）。</td>
</tr>
<tr>
<td style="text-align: left">chain</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种链信息<br>如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链<br>如果不填此参数，则默认为主链<br>对于无效资产提币，不填此参数，则默认为唯一的提币链<br>适用于<code>链上提币</code>，链信息可以通过接口 <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-currencies">获取币种列表</a> 获取</td>
</tr>
<tr>
<td style="text-align: left">areaCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">手机区号，如 <code>86</code><br>当<code>toAddr</code>为手机号时，该参数必填<br>适用于<code>内部转账</code></td>
</tr>
<tr>
<td style="text-align: left">rcvrInfo</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方信息<br>特定主体用户做<code>链上提币</code>/<code>闪电网络提币</code> 需要提供此信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; walletType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">钱包类型<br><code>exchange</code>：提币到交易所钱包<br><code>private</code>：提币到私人钱包<br>如果提币到交易所钱包，必须提供接收方相关信息。<br>对于交易所钱包接收方为公司的，<code>rcvrFirstName</code>可以填公司名称，<code>rcvrLastName</code>可以填"N/A"，地址信息可以填写公司注册地址。<br>提币到私人钱包，则不需要提供接收方信息。</td>
</tr>
<tr>
<td style="text-align: left">&gt; exchId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">交易所 ID<br>可以通过 <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-get-exchange-list-public">获取交易所列表（公共）</a> 接口查询支持的交易所<br>如果交易所不在支持的交易所列表中，该字段填<code>0</code><br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; rcvrFirstName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方名字，如 <code>Bruce</code><br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; rcvrLastName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方姓氏，如 <code>Wayne</code><br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; rcvrCountry</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方所在国家，如 <code>United States</code><br>必须输入英文国家名称，或者两字母国家代码(ISO 3166-1)。输入内容参考下方国家信息表中<code>国家名称(英)</code>，<code>国家代码</code> <br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; rcvrCountrySubDivision</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方所在州/省，如 <code>California</code><br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; rcvrTownName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方所在城镇，如 <code>San Jose</code><br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; rcvrStreetName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">接收方所在街道地址，如 <code>Clementi Avenue 1</code><br>适用于walletType=<code>exchange</code></td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户自定义ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67485"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-Bitcoin"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币币种</td>
</tr>
<tr>
<td style="text-align: left">chain</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币数量</td>
</tr>
<tr>
<td style="text-align: left">wdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币申请ID</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义ID</td>
</tr>
</tbody></table>
<h4 id="f032b9d83d">国家信息表</h4>
<table><thead>
<tr>
<th>国家名称(英)</th>
<th>国家名称(中)</th>
<th>国家代码</th>
</tr>
</thead><tbody>
<tr>
<td>Afghanistan</td>
<td>阿富汗</td>
<td>AF</td>
</tr>
<tr>
<td>Albania</td>
<td>阿尔巴尼亚</td>
<td>AL</td>
</tr>
<tr>
<td>Algeria</td>
<td>阿尔及利亚</td>
<td>DZ</td>
</tr>
<tr>
<td>Andorra</td>
<td>安道尔</td>
<td>AD</td>
</tr>
<tr>
<td>Angola</td>
<td>安哥拉</td>
<td>AO</td>
</tr>
<tr>
<td>Anguilla</td>
<td>安圭拉</td>
<td>AI</td>
</tr>
<tr>
<td>Antigua and Barbuda</td>
<td>安提瓜和巴布达</td>
<td>AG</td>
</tr>
<tr>
<td>Argentina</td>
<td>阿根廷</td>
<td>AR</td>
</tr>
<tr>
<td>Armenia</td>
<td>亚美尼亚</td>
<td>AM</td>
</tr>
<tr>
<td>Australia</td>
<td>澳大利亚</td>
<td>AU</td>
</tr>
<tr>
<td>Austria</td>
<td>奥地利</td>
<td>AT</td>
</tr>
<tr>
<td>Azerbaijan</td>
<td>阿塞拜疆</td>
<td>AZ</td>
</tr>
<tr>
<td>Bahamas</td>
<td>巴哈马</td>
<td>BS</td>
</tr>
<tr>
<td>Bahrain</td>
<td>巴林</td>
<td>BH</td>
</tr>
<tr>
<td>Bangladesh</td>
<td>孟加拉国</td>
<td>BD</td>
</tr>
<tr>
<td>Barbados</td>
<td>巴巴多斯</td>
<td>BB</td>
</tr>
<tr>
<td>Belarus</td>
<td>白俄罗斯</td>
<td>BY</td>
</tr>
<tr>
<td>Belgium</td>
<td>比利时</td>
<td>BE</td>
</tr>
<tr>
<td>Belize</td>
<td>伯利兹</td>
<td>BZ</td>
</tr>
<tr>
<td>Benin</td>
<td>贝宁</td>
<td>BJ</td>
</tr>
<tr>
<td>Bermuda</td>
<td>百慕大</td>
<td>BM</td>
</tr>
<tr>
<td>Bhutan</td>
<td>不丹</td>
<td>BT</td>
</tr>
<tr>
<td>Bolivia</td>
<td>玻利维亚</td>
<td>BO</td>
</tr>
<tr>
<td>Bosnia and Herzegovina</td>
<td>波斯尼亚和黑塞哥维那 (波黑)</td>
<td>BA</td>
</tr>
<tr>
<td>Botswana</td>
<td>博茨瓦纳</td>
<td>BW</td>
</tr>
<tr>
<td>Brazil</td>
<td>巴西</td>
<td>BR</td>
</tr>
<tr>
<td>British Virgin Islands</td>
<td>英属维尔京群岛</td>
<td>VG</td>
</tr>
<tr>
<td>Brunei</td>
<td>文莱</td>
<td>BN</td>
</tr>
<tr>
<td>Bulgaria</td>
<td>保加利亚</td>
<td>BG</td>
</tr>
<tr>
<td>Burkina Faso</td>
<td>布基纳法索</td>
<td>BF</td>
</tr>
<tr>
<td>Burundi</td>
<td>布隆迪</td>
<td>BI</td>
</tr>
<tr>
<td>Cambodia</td>
<td>柬埔寨</td>
<td>KH</td>
</tr>
<tr>
<td>Cameroon</td>
<td>喀麦隆</td>
<td>CM</td>
</tr>
<tr>
<td>Canada</td>
<td>加拿大</td>
<td>CA</td>
</tr>
<tr>
<td>Cape Verde</td>
<td>佛得角</td>
<td>CV</td>
</tr>
<tr>
<td>Cayman Islands</td>
<td>开曼群岛</td>
<td>KY</td>
</tr>
<tr>
<td>Central African Republic</td>
<td>中非共和国</td>
<td>CF</td>
</tr>
<tr>
<td>Chad</td>
<td>乍得</td>
<td>TD</td>
</tr>
<tr>
<td>Chile</td>
<td>智利</td>
<td>CL</td>
</tr>
<tr>
<td>Colombia</td>
<td>哥伦比亚</td>
<td>CO</td>
</tr>
<tr>
<td>Comoros</td>
<td>科摩罗</td>
<td>KM</td>
</tr>
<tr>
<td>Congo (Republic)</td>
<td>刚果共和国</td>
<td>CG</td>
</tr>
<tr>
<td>Congo (Democratic Republic)</td>
<td>刚果民主共和国</td>
<td>CD</td>
</tr>
<tr>
<td>Costa Rica</td>
<td>哥斯达黎加</td>
<td>CR</td>
</tr>
<tr>
<td>Cote d´Ivoire (Ivory Coast)</td>
<td>象牙海岸</td>
<td>CI</td>
</tr>
<tr>
<td>Croatia</td>
<td>克罗地亚</td>
<td>HR</td>
</tr>
<tr>
<td>Cuba</td>
<td>古巴</td>
<td>CU</td>
</tr>
<tr>
<td>Cyprus</td>
<td>塞浦路斯</td>
<td>CY</td>
</tr>
<tr>
<td>Czech Republic</td>
<td>捷克共和国</td>
<td>CZ</td>
</tr>
<tr>
<td>Denmark</td>
<td>丹麦</td>
<td>DK</td>
</tr>
<tr>
<td>Djibouti</td>
<td>吉布提</td>
<td>DJ</td>
</tr>
<tr>
<td>Dominica</td>
<td>多米尼克</td>
<td>DM</td>
</tr>
<tr>
<td>Dominican Republic</td>
<td>多明尼加共和国</td>
<td>DO</td>
</tr>
<tr>
<td>Ecuador</td>
<td>厄瓜多尔</td>
<td>EC</td>
</tr>
<tr>
<td>Egypt</td>
<td>埃及</td>
<td>EG</td>
</tr>
<tr>
<td>El Salvador</td>
<td>萨尔瓦多</td>
<td>SV</td>
</tr>
<tr>
<td>Equatorial Guinea</td>
<td>赤道几内亚</td>
<td>GQ</td>
</tr>
<tr>
<td>Eritrea</td>
<td>厄立特里亚</td>
<td>ER</td>
</tr>
<tr>
<td>Estonia</td>
<td>爱沙尼亚</td>
<td>EE</td>
</tr>
<tr>
<td>Ethiopia</td>
<td>埃塞俄比亚</td>
<td>ET</td>
</tr>
<tr>
<td>Fiji</td>
<td>斐济</td>
<td>FJ</td>
</tr>
<tr>
<td>Finland</td>
<td>芬兰</td>
<td>FI</td>
</tr>
<tr>
<td>France</td>
<td>法国</td>
<td>FR</td>
</tr>
<tr>
<td>Gabon</td>
<td>加蓬</td>
<td>GA</td>
</tr>
<tr>
<td>Gambia</td>
<td>冈比亚</td>
<td>GM</td>
</tr>
<tr>
<td>Georgia</td>
<td>格鲁吉亚</td>
<td>GE</td>
</tr>
<tr>
<td>Germany</td>
<td>德国</td>
<td>DE</td>
</tr>
<tr>
<td>Ghana</td>
<td>加纳</td>
<td>GH</td>
</tr>
<tr>
<td>Greece</td>
<td>希腊</td>
<td>GR</td>
</tr>
<tr>
<td>Grenada</td>
<td>格林纳达</td>
<td>GD</td>
</tr>
<tr>
<td>Guatemala</td>
<td>危地马拉</td>
<td>GT</td>
</tr>
<tr>
<td>Guinea</td>
<td>几内亚</td>
<td>GN</td>
</tr>
<tr>
<td>Guinea-Bissau</td>
<td>几内亚比绍</td>
<td>GW</td>
</tr>
<tr>
<td>Guyana</td>
<td>圭亚那</td>
<td>GY</td>
</tr>
<tr>
<td>Haiti</td>
<td>海地</td>
<td>HT</td>
</tr>
<tr>
<td>Honduras</td>
<td>洪都拉斯</td>
<td>HN</td>
</tr>
<tr>
<td>Hong Kong</td>
<td>香港</td>
<td>HK</td>
</tr>
<tr>
<td>Hungary</td>
<td>匈牙利</td>
<td>HU</td>
</tr>
<tr>
<td>Iceland</td>
<td>冰岛</td>
<td>IS</td>
</tr>
<tr>
<td>India</td>
<td>印度</td>
<td>IN</td>
</tr>
<tr>
<td>Indonesia</td>
<td>印度尼西亚</td>
<td>ID</td>
</tr>
<tr>
<td>Iran</td>
<td>伊朗</td>
<td>IR</td>
</tr>
<tr>
<td>Iraq</td>
<td>伊拉克</td>
<td>IQ</td>
</tr>
<tr>
<td>Ireland</td>
<td>爱尔兰</td>
<td>IE</td>
</tr>
<tr>
<td>Israel</td>
<td>以色列</td>
<td>IL</td>
</tr>
<tr>
<td>Italy</td>
<td>意大利</td>
<td>IT</td>
</tr>
<tr>
<td>Jamaica</td>
<td>牙买加</td>
<td>JM</td>
</tr>
<tr>
<td>Japan</td>
<td>日本</td>
<td>JP</td>
</tr>
<tr>
<td>Jordan</td>
<td>约旦</td>
<td>JO</td>
</tr>
<tr>
<td>Kazakhstan</td>
<td>哈萨克斯坦</td>
<td>KZ</td>
</tr>
<tr>
<td>Kenya</td>
<td>肯尼亚</td>
<td>KE</td>
</tr>
<tr>
<td>Kiribati</td>
<td>基里巴斯</td>
<td>KI</td>
</tr>
<tr>
<td>North Korea</td>
<td>朝鲜</td>
<td>KP</td>
</tr>
<tr>
<td>South Korea</td>
<td>韩国</td>
<td>KR</td>
</tr>
<tr>
<td>Kuwait</td>
<td>科威特</td>
<td>KW</td>
</tr>
<tr>
<td>Kyrgyzstan</td>
<td>吉尔吉斯斯坦</td>
<td>KG</td>
</tr>
<tr>
<td>Laos</td>
<td>老挝</td>
<td>LA</td>
</tr>
<tr>
<td>Latvia</td>
<td>拉脱维亚</td>
<td>LV</td>
</tr>
<tr>
<td>Lebanon</td>
<td>黎巴嫩</td>
<td>LB</td>
</tr>
<tr>
<td>Lesotho</td>
<td>莱索托</td>
<td>LS</td>
</tr>
<tr>
<td>Liberia</td>
<td>利比里亚</td>
<td>LR</td>
</tr>
<tr>
<td>Libya</td>
<td>利比亚</td>
<td>LY</td>
</tr>
<tr>
<td>Liechtenstein</td>
<td>列支敦士登</td>
<td>LI</td>
</tr>
<tr>
<td>Lithuania</td>
<td>立陶宛</td>
<td>LT</td>
</tr>
<tr>
<td>Luxembourg</td>
<td>卢森堡</td>
<td>LU</td>
</tr>
<tr>
<td>Macau</td>
<td>澳门</td>
<td>MO</td>
</tr>
<tr>
<td>Macedonia</td>
<td>马其顿</td>
<td>MK</td>
</tr>
<tr>
<td>Madagascar</td>
<td>马达加斯加</td>
<td>MG</td>
</tr>
<tr>
<td>Malawi</td>
<td>马拉维</td>
<td>MW</td>
</tr>
<tr>
<td>Malaysia</td>
<td>马来西亚</td>
<td>MY</td>
</tr>
<tr>
<td>Maldives</td>
<td>马尔代夫</td>
<td>MV</td>
</tr>
<tr>
<td>Mali</td>
<td>马里</td>
<td>ML</td>
</tr>
<tr>
<td>Malta</td>
<td>马耳他</td>
<td>MT</td>
</tr>
<tr>
<td>Marshall Islands</td>
<td>马绍尔群岛</td>
<td>MH</td>
</tr>
<tr>
<td>Mauritania</td>
<td>毛里塔尼亚</td>
<td>MR</td>
</tr>
<tr>
<td>Mauritius</td>
<td>毛里求斯</td>
<td>MU</td>
</tr>
<tr>
<td>Mexico</td>
<td>墨西哥</td>
<td>MX</td>
</tr>
<tr>
<td>Micronesia</td>
<td>密克罗尼西亚</td>
<td>FM</td>
</tr>
<tr>
<td>Moldova</td>
<td>摩尔多瓦</td>
<td>MD</td>
</tr>
<tr>
<td>Monaco</td>
<td>摩纳哥</td>
<td>MC</td>
</tr>
<tr>
<td>Mongolia</td>
<td>蒙古</td>
<td>MN</td>
</tr>
<tr>
<td>Montenegro</td>
<td>黑山</td>
<td>ME</td>
</tr>
<tr>
<td>Morocco</td>
<td>摩洛哥</td>
<td>MA</td>
</tr>
<tr>
<td>Mozambique</td>
<td>莫桑比克</td>
<td>MZ</td>
</tr>
<tr>
<td>Myanmar (Burma)</td>
<td>缅甸</td>
<td>MM</td>
</tr>
<tr>
<td>Namibia</td>
<td>纳米比亚</td>
<td>NA</td>
</tr>
<tr>
<td>Nauru</td>
<td>瑙鲁</td>
<td>NR</td>
</tr>
<tr>
<td>Nepal</td>
<td>尼泊尔</td>
<td>NP</td>
</tr>
<tr>
<td>Netherlands</td>
<td>荷兰</td>
<td>NL</td>
</tr>
<tr>
<td>New Zealand</td>
<td>新西兰</td>
<td>NZ</td>
</tr>
<tr>
<td>Nicaragua</td>
<td>尼加拉瓜</td>
<td>NI</td>
</tr>
<tr>
<td>Niger</td>
<td>尼日尔</td>
<td>NE</td>
</tr>
<tr>
<td>Nigeria</td>
<td>尼日利亚</td>
<td>NG</td>
</tr>
<tr>
<td>Norway</td>
<td>挪威</td>
<td>NO</td>
</tr>
<tr>
<td>Oman</td>
<td>阿曼</td>
<td>OM</td>
</tr>
<tr>
<td>Pakistan</td>
<td>巴基斯坦</td>
<td>PK</td>
</tr>
<tr>
<td>Palau</td>
<td>帕劳</td>
<td>PW</td>
</tr>
<tr>
<td>Panama</td>
<td>巴拿马</td>
<td>PA</td>
</tr>
<tr>
<td>Papua New Guinea</td>
<td>巴布亚新几内亚</td>
<td>PG</td>
</tr>
<tr>
<td>Paraguay</td>
<td>巴拉圭</td>
<td>PY</td>
</tr>
<tr>
<td>Peru</td>
<td>秘鲁</td>
<td>PE</td>
</tr>
<tr>
<td>Philippines</td>
<td>菲律宾</td>
<td>PH</td>
</tr>
<tr>
<td>Poland</td>
<td>波兰</td>
<td>PL</td>
</tr>
<tr>
<td>Portugal</td>
<td>葡萄牙</td>
<td>PT</td>
</tr>
<tr>
<td>Qatar</td>
<td>卡塔尔</td>
<td>QA</td>
</tr>
<tr>
<td>Romania</td>
<td>罗马尼亚</td>
<td>RO</td>
</tr>
<tr>
<td>Russia</td>
<td>俄国</td>
<td>RU</td>
</tr>
<tr>
<td>Rwanda</td>
<td>卢旺达</td>
<td>RW</td>
</tr>
<tr>
<td>Saint Kitts and Nevis</td>
<td>圣基茨和尼维斯</td>
<td>KN</td>
</tr>
<tr>
<td>Saint Lucia</td>
<td>圣卢西亚</td>
<td>LC</td>
</tr>
<tr>
<td>Saint Vincent and the Grenadines</td>
<td>圣文森特和格林纳丁斯</td>
<td>VC</td>
</tr>
<tr>
<td>Samoa</td>
<td>萨摩亚</td>
<td>WS</td>
</tr>
<tr>
<td>San Marino</td>
<td>圣马力诺</td>
<td>SM</td>
</tr>
<tr>
<td>Sao Tome and Principe</td>
<td>圣多美和普林西比</td>
<td>ST</td>
</tr>
<tr>
<td>Saudi Arabia</td>
<td>沙特阿拉伯</td>
<td>SA</td>
</tr>
<tr>
<td>Senegal</td>
<td>塞内加尔</td>
<td>SN</td>
</tr>
<tr>
<td>Serbia</td>
<td>塞尔维亚</td>
<td>RS</td>
</tr>
<tr>
<td>Seychelles</td>
<td>塞舌尔</td>
<td>SC</td>
</tr>
<tr>
<td>Sierra Leone</td>
<td>塞拉利昂</td>
<td>SL</td>
</tr>
<tr>
<td>Singapore</td>
<td>新加坡</td>
<td>SG</td>
</tr>
<tr>
<td>Slovakia</td>
<td>斯洛伐克</td>
<td>SK</td>
</tr>
<tr>
<td>Slovenia</td>
<td>斯洛文尼亚</td>
<td>SI</td>
</tr>
<tr>
<td>Solomon Islands</td>
<td>所罗门群岛</td>
<td>SB</td>
</tr>
<tr>
<td>Somalia</td>
<td>索马里</td>
<td>SO</td>
</tr>
<tr>
<td>South Africa</td>
<td>南非</td>
<td>ZA</td>
</tr>
<tr>
<td>Spain</td>
<td>西班牙</td>
<td>ES</td>
</tr>
<tr>
<td>Sri Lanka</td>
<td>斯里兰卡</td>
<td>LK</td>
</tr>
<tr>
<td>Sudan</td>
<td>苏丹</td>
<td>SD</td>
</tr>
<tr>
<td>Suriname</td>
<td>苏里南</td>
<td>SR</td>
</tr>
<tr>
<td>Swaziland</td>
<td>斯威士兰</td>
<td>SZ</td>
</tr>
<tr>
<td>Sweden</td>
<td>瑞典</td>
<td>SE</td>
</tr>
<tr>
<td>Switzerland</td>
<td>瑞士</td>
<td>CH</td>
</tr>
<tr>
<td>Syria</td>
<td>叙利亚</td>
<td>SY</td>
</tr>
<tr>
<td>Taiwan</td>
<td>台湾</td>
<td>TW</td>
</tr>
<tr>
<td>Tajikistan</td>
<td>塔吉克斯坦</td>
<td>TJ</td>
</tr>
<tr>
<td>Tanzania</td>
<td>坦桑尼亚</td>
<td>TZ</td>
</tr>
<tr>
<td>Thailand</td>
<td>泰国</td>
<td>TH</td>
</tr>
<tr>
<td>Timor-Leste (East Timor)</td>
<td>东帝汶</td>
<td>TL</td>
</tr>
<tr>
<td>Togo</td>
<td>多哥</td>
<td>TG</td>
</tr>
<tr>
<td>Tonga</td>
<td>汤加</td>
<td>TO</td>
</tr>
<tr>
<td>Trinidad and Tobago</td>
<td>特里尼达和多巴哥</td>
<td>TT</td>
</tr>
<tr>
<td>Tunisia</td>
<td>突尼斯</td>
<td>TN</td>
</tr>
<tr>
<td>Turkey</td>
<td>土耳其</td>
<td>TR</td>
</tr>
<tr>
<td>Turkmenistan</td>
<td>土库曼斯坦</td>
<td>TM</td>
</tr>
<tr>
<td>Tuvalu</td>
<td>图瓦卢</td>
<td>TV</td>
</tr>
<tr>
<td>U.S. Virgin Islands</td>
<td>美属维尔京群岛</td>
<td>VI</td>
</tr>
<tr>
<td>Uganda</td>
<td>乌干达</td>
<td>UG</td>
</tr>
<tr>
<td>Ukraine</td>
<td>乌克兰</td>
<td>UA</td>
</tr>
<tr>
<td>United Arab Emirates</td>
<td>阿拉伯联合酋长国</td>
<td>AE</td>
</tr>
<tr>
<td>United Kingdom</td>
<td>英国</td>
<td>GB</td>
</tr>
<tr>
<td>United States</td>
<td>美国</td>
<td>US</td>
</tr>
<tr>
<td>Uruguay</td>
<td>乌拉圭</td>
<td>UY</td>
</tr>
<tr>
<td>Uzbekistan</td>
<td>乌兹别克斯坦</td>
<td>UZ</td>
</tr>
<tr>
<td>Vanuatu</td>
<td>瓦努阿图</td>
<td>VU</td>
</tr>
<tr>
<td>Vatican City</td>
<td>梵蒂冈城</td>
<td>VA</td>
</tr>
<tr>
<td>Venezuela</td>
<td>委内瑞拉</td>
<td>VE</td>
</tr>
<tr>
<td>Vietnam</td>
<td>越南</td>
<td>VN</td>
</tr>
<tr>
<td>Yemen</td>
<td>也门</td>
<td>YE</td>
</tr>
<tr>
<td>Zambia</td>
<td>赞比亚</td>
<td>ZM</td>
</tr>
<tr>
<td>Zimbabwe</td>
<td>津巴布韦</td>
<td>ZW</td>
</tr>
<tr>
<td>Kosovo</td>
<td>科索沃</td>
<td>XK</td>
</tr>
<tr>
<td>South Sudan</td>
<td>南苏丹</td>
<td>SS</td>
</tr>
<tr>
<td>China</td>
<td>中国</td>
<td>CN</td>
</tr>
<tr>
<td>Palestine</td>
<td>巴勒斯坦</td>
<td>PS</td>
</tr>
<tr>
<td>Curacao</td>
<td>库拉索</td>
<td>CW</td>
</tr>
<tr>
<td>Dominican Republic</td>
<td>多明尼加共和国</td>
<td>DO</td>
</tr>
<tr>
<td>Dominican Republic</td>
<td>多明尼加共和国</td>
<td>DO</td>
</tr>
<tr>
<td>Gibraltar</td>
<td>英属直布罗陀</td>
<td>GI</td>
</tr>
<tr>
<td>New Caledonia</td>
<td>新喀里多尼亚</td>
<td>NC</td>
</tr>
<tr>
<td>Cook Islands</td>
<td>库克群岛</td>
<td>CK</td>
</tr>
<tr>
<td>Reunion</td>
<td>留尼旺</td>
<td>RE</td>
</tr>
<tr>
<td>Guernsey</td>
<td>根西岛</td>
<td>GG</td>
</tr>
<tr>
<td>Guadeloupe</td>
<td>瓜德罗普</td>
<td>GP</td>
</tr>
<tr>
<td>Martinique</td>
<td>马提尼克</td>
<td>MQ</td>
</tr>
<tr>
<td>French Polynesia</td>
<td>法属波利尼西亚</td>
<td>PF</td>
</tr>
<tr>
<td>Faroe Islands</td>
<td>法罗群岛</td>
<td>FO</td>
</tr>
<tr>
<td>Greenland</td>
<td>格陵兰岛</td>
<td>GL</td>
</tr>
<tr>
<td>Jersey</td>
<td>泽西岛</td>
<td>JE</td>
</tr>
<tr>
<td>Aruba</td>
<td>阿鲁巴</td>
<td>AW</td>
</tr>
<tr>
<td>Puerto Rico</td>
<td>波多黎各</td>
<td>PR</td>
</tr>
<tr>
<td>Isle of Man</td>
<td>曼岛</td>
<td>IM</td>
</tr>
<tr>
<td>Guam</td>
<td>关岛</td>
<td>GU</td>
</tr>
<tr>
<td>Sint Maarten</td>
<td>荷属圣马丁</td>
<td>SX</td>
</tr>
<tr>
<td>Turks and Caicos</td>
<td>特克斯和凯科斯群岛</td>
<td>TC</td>
</tr>
<tr>
<td>Åland Islands</td>
<td>奥兰群岛</td>
<td>AX</td>
</tr>
<tr>
<td>Caribbean Netherlands</td>
<td>荷属加勒比</td>
<td>BQ</td>
</tr>
<tr>
<td>British Indian Ocean Territory</td>
<td>英属印度洋领地</td>
<td>IO</td>
</tr>
<tr>
<td>Christmas  as Island</td>
<td>圣诞岛</td>
<td>CX</td>
</tr>
<tr>
<td>Cocos (Keeling) Islands</td>
<td>科科斯 (基林) 群岛</td>
<td>CC</td>
</tr>
<tr>
<td>Falkland Islands (Islas Malvinas)</td>
<td>福克兰群岛 (马尔维纳斯群岛)</td>
<td>FK</td>
</tr>
<tr>
<td>Mayotte</td>
<td>马约特</td>
<td>YT</td>
</tr>
<tr>
<td>Niue</td>
<td>纽埃</td>
<td>NU</td>
</tr>
<tr>
<td>Norfolk Island</td>
<td>诺福克岛</td>
<td>NF</td>
</tr>
<tr>
<td>Northern Mariana Islands</td>
<td>北马里亚纳群岛</td>
<td>MP</td>
</tr>
<tr>
<td>Pitcairn Islands</td>
<td>皮特凯恩群岛</td>
<td>PN</td>
</tr>
<tr>
<td>Saint Helena, Ascension and Tristan da Cunha</td>
<td>圣赫勒拿、阿森松岛和特里斯坦-达库尼亚</td>
<td>SH</td>
</tr>
<tr>
<td>Collectivity of Saint Martin</td>
<td>法属圣马丁</td>
<td>MF</td>
</tr>
<tr>
<td>Saint Pierre and Miquelon</td>
<td>圣皮埃尔和密克隆</td>
<td>PM</td>
</tr>
<tr>
<td>Tokelau</td>
<td>托克劳</td>
<td>TK</td>
</tr>
<tr>
<td>Wallis and Futuna</td>
<td>瓦利斯和富图纳</td>
<td>WF</td>
</tr>
<tr>
<td>American Samoa</td>
<td>美属萨摩亚</td>
<td>AS</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-cancel-withdrawal">撤销提币 </h3>
<p>可以撤销普通提币，但不支持撤销闪电网络上的提币。</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/asset/cancel-withdrawal</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/asset/cancel-withdrawal
body <span class="o">{</span>
   <span class="s2">"wdId"</span>:<span class="s2">"1123456"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 撤销提币
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">cancel_withdrawal</span><span class="p">(</span>
    <span class="n">wdId</span><span class="o">=</span><span class="s">"123456"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">wdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">提币申请ID</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"wdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1123456"</span><span class="w">   
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">wdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币申请ID</td>
</tr>
</tbody></table>

<aside class="notice">
接口返回code等于0不能严格认为提币已经被撤销，只表示您的请求被系统服务器所接受，实际结果以获取提币记录中的状态为准。
</aside>
<h3 id="funding-account-rest-api-get-withdrawal-history">获取提币记录 </h3>
<p>根据币种，提币状态，时间范围获取提币记录，按照时间倒序排列，默认返回100条数据。<br>
支持Websocket订阅，参考 <a href="https://www.okx.com/docs-v5/zh/#funding-account-websocket-withdrawal-info-channel">提币信息频道</a>。</p>
<h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/withdrawal-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 查询最近的提币记录</span>
GET /api/v5/asset/withdrawal-history

<span class="c"># 查询从2022年06月01日到2022年07月01日之间的BTC的提币记录</span>
GET /api/v5/asset/withdrawal-history?ccy<span class="o">=</span>BTC&amp;after<span class="o">=</span>1654041600000&amp;before<span class="o">=</span>1656633600000

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>否</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>wdId</td>
<td>String</td>
<td>否</td>
<td>提币申请ID</td>
</tr>
<tr>
<td>clientId</td>
<td>String</td>
<td>否</td>
<td>客户自定义ID<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td>txId</td>
<td>String</td>
<td>否</td>
<td>区块转账哈希记录</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>否</td>
<td>提币方式<br><code>3</code>：内部转账<br><code>4</code>：链上提币</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>否</td>
<td>提币状态<br><br><li>阶段1：等待提币</li><code>17</code>：钱包地址正等待国际转账规则认证<br><code>10</code>：等待划转<br><code>0</code>：等待提币<br><code>4</code>/<code>5</code>/<code>6</code>/<code>8</code>/<code>9</code>/<code>12</code>：等待客服审核<br><code>7</code>：审核通过<br><br><li>阶段2：提币处理中（适用于链上提币，内部转账无此阶段）</li><code>1</code>：正在将您的交易广播到链上<br><code>15</code>：交易待确认<br><code>16</code>：根据当地法律法规，您的提币最多可能需要 24 小时才能到账<br><code>-3</code>：撤销中<br><br><li>最终阶段</li><code>-2</code>：已撤销<br><code>-1</code>：失败<br><code>2</code>：提币成功</td>
</tr>
<tr>
<td>after</td>
<td>String</td>
<td>否</td>
<td>查询在此之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1654041600000</code></td>
</tr>
<tr>
<td>before</td>
<td>String</td>
<td>否</td>
<td>查询在此之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1656633600000</code></td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>否</td>
<td>返回的结果集数量，默认为100，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-Ethereum"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.029809"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x35c******b360a174d"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"156****359"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"areaCodeFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xa30d1fab********7CF18C7B6C579"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"areaCodeTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1655251200000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nonTradableAsset"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15447421"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">chain</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td style="text-align: left">nonTradableAsset</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否为不可交易资产<br><code>true</code>：不可交易资产，<code>false</code>：可交易资产</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">数量</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币申请时间，Unix 时间戳的毫秒数格式，如 <code>1655251200000</code></td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币账户<br>可以是<code>邮箱</code>/<code>手机号</code>/<code>子账户名</code></td>
</tr>
<tr>
<td style="text-align: left">areaCodeFrom</td>
<td style="text-align: left">String</td>
<td style="text-align: left">如果<code>from</code>为手机号，该字段为该手机号的区号</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">收币地址</td>
</tr>
<tr>
<td style="text-align: left">areaCodeTo</td>
<td style="text-align: left">String</td>
<td style="text-align: left">如果<code>to</code>为手机号，该字段为该手机号的区号</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">部分币种提币需要标签，若不需要则不返回此字段</td>
</tr>
<tr>
<td style="text-align: left">pmtId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">部分币种提币需要此字段（payment_id），若不需要则不返回此字段</td>
</tr>
<tr>
<td style="text-align: left">memo</td>
<td style="text-align: left">String</td>
<td style="text-align: left">部分币种提币需要此字段，若不需要则不返回此字段</td>
</tr>
<tr>
<td style="text-align: left">addrEx</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">提币地址备注，部分币种提币需要，若不需要则不返回此字段。如币种TONCOIN的提币地址备注标签名为comment,则该字段返回：{'comment':'123456'}</td>
</tr>
<tr>
<td style="text-align: left">txId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币哈希记录<br>内部转账该字段返回""</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币手续费数量</td>
</tr>
<tr>
<td style="text-align: left">feeCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币手续费币种，如 <code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币状态</td>
</tr>
<tr>
<td style="text-align: left">wdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币申请ID</td>
</tr>
<tr>
<td style="text-align: left">clientId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户自定义ID</td>
</tr>
<tr>
<td style="text-align: left">note</td>
<td style="text-align: left">String</td>
<td style="text-align: left">备注信息</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-deposit-withdraw-status">获取充值/提现的详细状态</h3>
<p>获取充值与提现的详细状态信息与预估完成时间。</p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/deposit-withdraw-status</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 查询充值</span>
GET /api/v5/asset/deposit-withdraw-status?txId<span class="o">=</span>xxxxxx&amp;to<span class="o">=</span>1672734730284&amp;ccy<span class="o">=</span>USDT&amp;chain<span class="o">=</span>USDT-ERC20

<span class="c"># 查询提现</span>
GET /api/v5/asset/deposit-withdraw-status?wdId<span class="o">=</span>200045249
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">wdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">提币申请ID，用于查询资金提现<br><code>wdId</code>与<code>txId</code>必传其一也仅可传其一</td>
</tr>
<tr>
<td style="text-align: left">txId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">区块转账哈希记录ID，用于查询资金充值<br><code>wdId</code>与<code>txId</code>必传其一也仅可传其一</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种，如<code>USDT</code><br>查询充值时必填，需要与<code>txId</code>一并提供</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">资金充值到账账户地址 <br>查询充值时必填，需要与<code>txId</code>一并提供</td>
</tr>
<tr>
<td style="text-align: left">chain</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">币种链信息，例如 USDT-ERC20 <br>查询充值时必填，需要与<code>txId</code>一并提供</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"wdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200045249"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16f3638329xxxxxx42d988f97"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending withdrawal: Wallet is under maintenance, please wait."</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estCompleteTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/09/2023, 8:10:48 PM"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">estCompleteTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预估完成时间<br>时区为 UTC+8；格式为 MM/dd/yyyy, h:mm:ss AM/PM <br>estCompleteTime仅为预估完成时间，仅供参考</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">充值/提现的现处于的详细阶段提示<br>冒号前面代表阶段，后面代表状态</td>
</tr>
<tr>
<td style="text-align: left">txId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">区块转账哈希记录<br>提币如果<code>txId</code>已经生成，则返回，否则返回""</td>
</tr>
<tr>
<td style="text-align: left">wdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">提币申请ID<br>如查询的是充值，该字段返回""</td>
</tr>
</tbody></table>

<aside class="notice">
阶段参考<br>
充值<br>
阶段一：监测链上交易<br>
阶段二：推送充值数据到入账环节<br>
阶段三：进行入账<br>
终态：充值已完成<br>
提现<br>
阶段一：等待提现<br>
阶段二：提现中<br>
终态：提现已完成 / 撤销已完成<br>
</aside>  
<h3 id="funding-account-rest-api-get-exchange-list-public">获取交易所列表（公共）</h3>
<p>公共接口无须鉴权</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/exchange-list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/exchange-list
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"exchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"did:ethr:0xfeb4f99829a9acdf52979abee87e83addf22a7e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exchName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1xbet"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">exchName</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易所名称，如 <code>1xbet</code></td>
</tr>
<tr>
<td style="text-align: left">exchId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易所 ID，如 <code>did:ethr:0xfeb4f99829a9acdf52979abee87e83addf22a7e1</code></td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-apply-for-monthly-statement-last-year">申请月结单 (近一年)</h3>
<p>申请最近一年的月结单。</p>
<h4 id="20">限速：20 次/月</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-request">HTTP Request</h4>
<p><code>POST /api/v5/asset/monthly-statement</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/asset/monthly-statement
body
<span class="o">{</span>
    <span class="s2">"month"</span>:<span class="s2">"Jan"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">month</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">月份,默认上一个月。有效值是<code>Jan</code>, <code>Feb</code>, <code>Mar</code>, <code>Apr</code>,<code>May</code>, <code>Jun</code>, <code>Jul</code>,<code>Aug</code>, <code>Sep</code>,<code>Oct</code>,<code>Nov</code>,<code>Dec</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646892328000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下载链接生成时间，Unix时间戳的毫秒数格式 ，如, <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-monthly-statement-last-year">获取月结单 (近一年)</h3>
<p>获取近一年的月结单</p>
<h4 id="10-2s">限速：10 次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http-request">HTTP Request</h4>
<p><code>GET /api/v5/asset/monthly-statement</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/monthly-statement?month<span class="o">=</span>Jan

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">month</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">月份, 有效值是<code>Jan</code>, <code>Feb</code>, <code>Mar</code>, <code>Apr</code>,<code>May</code>, <code>Jun</code>, <code>Jul</code>,<code>Aug</code>, <code>Sep</code>,<code>Oct</code>,<code>Nov</code>,<code>Dec</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"fileHref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://xxx"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finished"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1646892328000</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fileHref</td>
<td style="text-align: left">String</td>
<td style="text-align: left">文件链接</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">Int</td>
<td style="text-align: left">下载链接生成时间，Unix时间戳的毫秒数格式 ，如 1597026383085</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下载链接状态 <br><code>finished</code>:已生成<br><code>ongoing</code>:进行中</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-convert-currencies">获取闪兑币种列表 </h3><h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/convert/currencies</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/convert/currencies

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"min"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">已废弃</span><span class="w">
            </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">已废弃</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"min"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>min</td>
<td>String</td>
<td><del>支持闪兑的最小值</del>(已废弃)</td>
</tr>
<tr>
<td>max</td>
<td>String</td>
<td><del>支持闪兑的最大值</del>(已废弃)</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-convert-currency-pair">获取闪兑币对信息 </h3><h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/convert/currency-pair</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/convert/currency-pair?fromCcy<span class="o">=</span>USDT&amp;toCcy<span class="o">=</span>BTC

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">fromCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">消耗币种，如 <code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">toCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">获取币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcyMax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcyMin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcyMax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcyMin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>instId</td>
<td>String</td>
<td>币对，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td>baseCcy</td>
<td>String</td>
<td>交易货币币种，如 <code>BTC-USDT</code>中的<code>BTC</code></td>
</tr>
<tr>
<td>baseCcyMax</td>
<td>String</td>
<td>交易货币支持闪兑的最大值</td>
</tr>
<tr>
<td>baseCcyMin</td>
<td>String</td>
<td>交易货币支持闪兑的最小值</td>
</tr>
<tr>
<td>quoteCcy</td>
<td>String</td>
<td>计价货币币种，如 <code>BTC-USDT</code>中的<code>USDT</code></td>
</tr>
<tr>
<td>quoteCcyMax</td>
<td>String</td>
<td>计价货币支持闪兑的最大值</td>
</tr>
<tr>
<td>quoteCcyMin</td>
<td>String</td>
<td>计价货币支持闪兑的最小值</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-estimate-quote">闪兑预估询价 </h3><h4 id="10-s">限速：10次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="1-5s">限速：1次/5s</h4><h4 id="instrument">限速规则：Instrument</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/asset/convert/estimate-quote</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/asset/convert/estimate-quote
body
<span class="o">{</span>
    <span class="s2">"baseCcy"</span>: <span class="s2">"ETH"</span>,
    <span class="s2">"quoteCcy"</span>: <span class="s2">"USDT"</span>,
    <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
    <span class="s2">"rfqSz"</span>: <span class="s2">"30"</span>,
    <span class="s2">"rfqSzCcy"</span>: <span class="s2">"USDT"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易货币币种，如 <code>BTC-USDT</code>中的<code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">计价货币币种，如 <code>BTC-USDT</code>中的<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易方向<br>买：<code>buy</code> 卖：<code>sell</code><br>描述的是对于baseCcy的交易方向</td>
</tr>
<tr>
<td style="text-align: left">rfqSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">询价数量</td>
</tr>
<tr>
<td style="text-align: left">rfqSzCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">询价币种</td>
</tr>
<tr>
<td style="text-align: left">clQReqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">客户端自定义的订单标识<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>适用于broker用户</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01023052"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clQReqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cnvtPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2932.40104429"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"origRfqSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quoterETH-USDT16461885104612381"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646188510461"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqSzCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ttlMs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quoteTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">生成报价时间，Unix时间戳的毫秒数格式</td>
</tr>
<tr>
<td style="text-align: left">ttlMs</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价有效期，单位为毫秒</td>
</tr>
<tr>
<td style="text-align: left">clQReqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">客户端自定义的订单标识</td>
</tr>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价ID</td>
</tr>
<tr>
<td style="text-align: left">baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易货币币种，如 BTC-USDT 中BTC</td>
</tr>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价货币币种，如 BTC-USDT 中USDT</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易方向<br>买：<code>buy</code> 卖：<code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">origRfqSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">原始报价的数量</td>
</tr>
<tr>
<td style="text-align: left">rfqSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">实际报价的数量</td>
</tr>
<tr>
<td style="text-align: left">rfqSzCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价的币种</td>
</tr>
<tr>
<td style="text-align: left">cnvtPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">闪兑价格，单位为计价币</td>
</tr>
<tr>
<td style="text-align: left">baseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">闪兑交易币数量</td>
</tr>
<tr>
<td style="text-align: left">quoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">闪兑计价币数量</td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-convert-trade">闪兑交易 </h3>
<p>闪兑交易前需要先 <a href="https://www.okx.com/docs-v5/zh/#funding-account-rest-api-estimate-quote">询价</a>。</p>

<aside class="warning">
闪兑只能使用交易账户中的资产
</aside>
<h4 id="10-s">限速：10次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4>
<p>同一方向(buy/sell) 1次/5s 交易限制</p>
<h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/asset/convert/trade</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/asset/convert/trade
body
<span class="o">{</span>
    <span class="s2">"baseCcy"</span>: <span class="s2">"ETH"</span>,
    <span class="s2">"quoteCcy"</span>: <span class="s2">"USDT"</span>,
    <span class="s2">"side"</span>: <span class="s2">"buy"</span>,
    <span class="s2">"sz"</span>: <span class="s2">"30"</span>,
    <span class="s2">"szCcy"</span>: <span class="s2">"USDT"</span>,
    <span class="s2">"quoteId"</span>: <span class="s2">"quoterETH-USDT16461885104612381"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">报价ID</td>
</tr>
<tr>
<td style="text-align: left">baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易货币币种，如 <code>BTC-USDT</code>中的<code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">计价货币币种，如 <code>BTC-USDT</code>中的<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">交易方向<br><code>buy</code>：买<br><code>sell</code>：卖<br>描述的是对于<code>baseCcy</code>的交易方向</td>
</tr>
<tr>
<td style="text-align: left">sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">用户报价数量<br>报价数量应不大于预估询价中的询价数量</td>
</tr>
<tr>
<td style="text-align: left">szCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">用户报价币种</td>
</tr>
<tr>
<td style="text-align: left">clTReqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义的订单标识<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>适用于broker用户</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clTReqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillBaseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01023052"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2932.40104429"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillQuoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quoterETH-USDT16461885104612381"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fullyFilled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trader16461885203381437"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646188520338"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">tradeId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交ID</td>
</tr>
<tr>
<td style="text-align: left">quoteId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">报价ID</td>
</tr>
<tr>
<td style="text-align: left">clTReqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">用户自定义的订单标识</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">状态<br><code>fullyFilled</code>：交易成功<br><code>rejected</code>：交易失败</td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币对，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td style="text-align: left">baseCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易货币币种，如 <code>BTC-USDT</code>中<code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">quoteCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">计价货币币种，如 <code>BTC-USDT</code>中<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易方向<br>买：<code>buy</code> 卖：<code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">fillPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交价格，单位为计价币</td>
</tr>
<tr>
<td style="text-align: left">fillBaseSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交的交易币数量</td>
</tr>
<tr>
<td style="text-align: left">fillQuoteSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">成交的计价币数量</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">闪兑交易时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="funding-account-rest-api-get-convert-history">获取闪兑交易历史 </h3><h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/asset/convert/history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/convert/history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">clTReqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">用户自定义的订单标识<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字且长度要在1-32位之间。</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回的结果集数量，默认为100，最大为100</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>适用于broker用户<br>如果闪兑交易带上了<code>tag</code>,查询时必须也带上此参数</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clTReqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2932.401044"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillBaseSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01023052"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fullyFilled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trader16461885203381437"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fillQuoteSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1646188520000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>tradeId</td>
<td>String</td>
<td>成交ID</td>
</tr>
<tr>
<td>clTReqId</td>
<td>String</td>
<td>用户自定义的订单标识</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td><code>fullyFilled</code>：交易成功<br><code>rejected</code>：交易失败</td>
</tr>
<tr>
<td>instId</td>
<td>String</td>
<td>币对，如 <code>BTC-USDT</code></td>
</tr>
<tr>
<td>baseCcy</td>
<td>String</td>
<td>交易货币币种，如 <code>BTC-USDT</code>中的<code>BTC</code></td>
</tr>
<tr>
<td>quoteCcy</td>
<td>String</td>
<td>计价货币币种，如 <code>BTC-USDT</code>中的<code>USDT</code></td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>交易方向<br>买：<code>buy</code> 卖：<code>sell</code></td>
</tr>
<tr>
<td>fillPx</td>
<td>String</td>
<td>成交价格，单位为计价币</td>
</tr>
<tr>
<td>fillBaseSz</td>
<td>String</td>
<td>成交的交易币数量</td>
</tr>
<tr>
<td>fillQuoteSz</td>
<td>String</td>
<td>成交的计价币数量</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>闪兑交易时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="funding-account-websocket">WebSocket </h2><h3 id="funding-account-websocket-deposit-info-channel">充值信息频道 </h3>
<p>当发起充值或者充值状态发生变化时会触发消息推送。<br>
支持母账户或者子账户的订阅  <br></p>

<ul>
<li>如果是母账户订阅，可以同时接受母账户与子账户的充值信息的推送<br></li>
<li>如果是子账户订阅，则仅支持子账户充值信息的推送<br></li>
</ul>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"channel"</span>: <span class="s2">"deposit-info"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>deposit-info</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit-info"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">deposit-info</span><span class="se">\"</span><span class="s2">"</span><span class="p">}]}</span><span class="s2">",
    "</span><span class="err">connId</span><span class="s2">": "</span><span class="err">a</span><span class="mi">4</span><span class="err">d</span><span class="mi">3</span><span class="err">ae</span><span class="mi">55</span><span class="s2">"
}
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>deposit-info</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit-info"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"289320****60975104"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"actualDepBlkConfirm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"areaCodeFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT-TRC20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88165462"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromWdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1674103661147"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEhFAqpuHa3LY*****8ByNoGnrmexeGMw"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1674103661123"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc5376817*****************dbb0d729f6b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"289320****60975104"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>(产生数据者的）用户标识</td>
</tr>
<tr>
<td>&gt; subAcct</td>
<td>String</td>
<td>子账户名称<br>如果是母账户产生的数据，该字段返回""</td>
</tr>
<tr>
<td>&gt; pTime</td>
<td>String</td>
<td>推送时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; chain</td>
<td>String</td>
<td>币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>充值数量</td>
</tr>
<tr>
<td>&gt; from</td>
<td>String</td>
<td>充值账户，只显示内部账户转账地址，不显示区块链充值地址</td>
</tr>
<tr>
<td>&gt; areaCodeFrom</td>
<td>String</td>
<td>如果<code>from</code>为手机号，该字段为该手机号的区号</td>
</tr>
<tr>
<td>&gt; to</td>
<td>String</td>
<td>到账地址</td>
</tr>
<tr>
<td>&gt; txId</td>
<td>String</td>
<td>区块转账哈希记录</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>充值记录创建时间，Unix 时间戳的毫秒数格式，如 <code>1655251200000</code></td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>充值状态<br><code>0</code>：等待确认 <br><code>1</code>：确认到账 <br><code>2</code>：充值成功 <br><code>8</code>：因该币种暂停充值而未到账，恢复充值后自动到账<br><code>11</code>：命中地址黑名单<br><code>12</code>：账户或充值被冻结<br><code>13</code>：子账户充值拦截<br><code>14</code>：KYC限额</td>
</tr>
<tr>
<td>&gt; depId</td>
<td>String</td>
<td>充值记录 ID</td>
</tr>
<tr>
<td>&gt; fromWdId</td>
<td>String</td>
<td>内部转账发起者提币申请 ID<br>如果该笔充值来自于内部转账，则该字段展示内部转账发起者的提币申请 ID，其他情况返回""</td>
</tr>
<tr>
<td>&gt; actualDepBlkConfirm</td>
<td>String</td>
<td>最新的充币网络确认数</td>
</tr>
</tbody></table>
<h3 id="funding-account-websocket-withdrawal-info-channel">提币信息频道 </h3>
<p>当发起提币或者提币状态发生变化时会触发消息推送。<br>
支持母账户或者子账户的订阅<br></p>

<ul>
<li>如果是母账户订阅，可以同时接受母账户与子账户的提币信息的推送<br></li>
<li>如果是子账户订阅，则仅支持子账户提币信息的推送<br></li>
</ul>
<h4 id="86e118291e">服务地址</h4>
<p>/ws/v5/business (需要登录)</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"channel"</span>: <span class="s2">"withdrawal-info"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td>请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>withdrawal-info</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdrawal-info"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">withdrawal-info</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必填</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>操作<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td>订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>频道名<br><code>withdrawal-info</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td>错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td>WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdrawal-info"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"289320*****0975104"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"addrEx"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"areaCodeFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"areaCodeTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT-TRC20"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"memo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nonTradableAsset"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1674103268578"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pmtId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TN8CKTQMnpWfT******8KipbJ24ErguhF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1674103268472"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"289333*****1101696"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63754560"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>频道名</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>用户标识</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>data</td>
<td>Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>(产生数据者的）用户标识</td>
</tr>
<tr>
<td>&gt; subAcct</td>
<td>String</td>
<td>子账户名称<br>如果是母账户产生的数据，该字段返回""</td>
</tr>
<tr>
<td>&gt; pTime</td>
<td>String</td>
<td>推送时间，Unix时间戳的毫秒数格式，如 1597026383085</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>&gt; chain</td>
<td>String</td>
<td>币种链信息<br>有的币种下有多个链，必须要做区分，如<code>USDT</code>下有<code>USDT-ERC20</code>，<code>USDT-TRC20</code>多个链</td>
</tr>
<tr>
<td>&gt; nonTradableAsset</td>
<td>String</td>
<td>是否为不可交易资产<br><code>true</code>：不可交易资产，<code>false</code>：可交易资产</td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>数量</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>提币申请时间，Unix 时间戳的毫秒数格式，如 <code>1655251200000</code></td>
</tr>
<tr>
<td>&gt; from</td>
<td>String</td>
<td>提币账户<br>可以是<code>邮箱</code>/<code>手机号</code>/<code>子账户名</code></td>
</tr>
<tr>
<td>&gt; areaCodeFrom</td>
<td>String</td>
<td>如果<code>from</code>为手机号，该字段为该手机号的区号</td>
</tr>
<tr>
<td>&gt; to</td>
<td>String</td>
<td>收币地址</td>
</tr>
<tr>
<td>&gt; areaCodeTo</td>
<td>String</td>
<td>如果<code>to</code>为手机号，该字段为该手机号的区号</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>部分币种提币需要标签</td>
</tr>
<tr>
<td>&gt; pmtId</td>
<td>String</td>
<td>部分币种提币需要此字段（payment_id）</td>
</tr>
<tr>
<td>&gt; memo</td>
<td>String</td>
<td>部分币种提币需要此字段</td>
</tr>
<tr>
<td>&gt; addrEx</td>
<td>Object</td>
<td>提币地址备注。如币种TONCOIN的提币地址备注标签名为comment,则该字段返回：{'comment':'123456'}</td>
</tr>
<tr>
<td>&gt; txId</td>
<td>String</td>
<td>提币哈希记录<br>内部转账该字段返回""</td>
</tr>
<tr>
<td>&gt; fee</td>
<td>String</td>
<td>提币手续费数量</td>
</tr>
<tr>
<td>&gt; feeCcy</td>
<td>String</td>
<td>提币手续费币种，如 <code>USDT</code></td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>提币状态<br><br><li>阶段1：等待提币</li><code>17</code>：钱包地址正等待国际转账规则认证<br><code>10</code>：等待划转<br><code>0</code>：等待提币<br><code>4</code>/<code>5</code>/<code>6</code>/<code>8</code>/<code>9</code>/<code>12</code>：等待客服审核<br><code>7</code>：审核通过<br><br><li>阶段2：提币处理中（适用于链上提币，内部转账无此阶段）</li><code>1</code>：正在将您的交易广播到链上<br><code>15</code>：交易待确认<br><code>16</code>：根据当地法律法规，您的提币最多可能需要 24 小时才能到账<br><code>-3</code>：撤销中<br><br><li>最终阶段</li><code>-2</code>：已撤销<br><code>-1</code>：失败<br><code>2</code>：提币成功</td>
</tr>
<tr>
<td>&gt; wdId</td>
<td>String</td>
<td>提币申请ID</td>
</tr>
<tr>
<td>&gt; clientId</td>
<td>String</td>
<td>客户自定义ID</td>
</tr>
<tr>
<td>&gt; note</td>
<td>String</td>
<td>备注信息</td>
</tr>
</tbody></table>
<h1 id="sub-account">子账户 </h1>
<p><code>子账户</code>功能模块下的API接口需要身份验证。</p>
<h2 id="sub-account-rest-api">REST API </h2><h3 id="sub-account-rest-api-get-sub-account-list">查看子账户列表 </h3>
<p>仅适用于母账户</p>
<h4 id="2-2s">限速：2次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/users/subaccount/list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/users/subaccount/list

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看子账户列表
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">get_subaccount_list</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">enable</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户状态 <br><code>true</code>: 正常使用   <code>false</code>: 冻结</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为子账户创建时间戳，Unix时间戳为毫秒数格式</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为子账户创建时间戳，Unix时间戳为毫秒数格式</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"canTransOut"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"enable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenFunc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"gAuth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D456DDDLx"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D456DDDL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1659334756000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3400***********7413"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户类型 <br><code>1</code>：普通子账户 <br><code>2</code>：资管子账户 <br><code>5</code>：托管交易子账户 - Copper<br>  <code>9</code>：资管交易子账户 - Copper<br> <code>12</code>：托管交易子账户 - Komainu</td>
</tr>
<tr>
<td style="text-align: left">enable</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">子账户状态 <br><code>true</code>：正常使用 <code>false</code>：冻结（全局）</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户UID</td>
</tr>
<tr>
<td style="text-align: left">label</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户备注</td>
</tr>
<tr>
<td style="text-align: left">mobile</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户绑定手机号</td>
</tr>
<tr>
<td style="text-align: left">gAuth</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">子账户是否开启的登录时的谷歌验证<br><code>true</code>：已开启<br><code>false</code>：未开启</td>
</tr>
<tr>
<td style="text-align: left">frozenFunc</td>
<td style="text-align: left">Array of string</td>
<td style="text-align: left">被冻结的功能<br><code>trading</code>：交易<br><code>convert</code>：闪兑<br><code>transfer</code>：母子账户间资金划转<br><code>withdrawal</code>：提币<br><code>deposit</code>：充值<br><code>flexible_loan</code>：活期借币</td>
</tr>
<tr>
<td style="text-align: left">canTransOut</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否可以主动转出<br><code>true</code>：可以转出 <br><code>false</code>：不可转出</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户创建时间，Unix时间戳的毫秒数格式 ，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-reset-the-api-key-of-a-sub-account">重置子账户的APIKey </h3>
<p>仅适用于母账户，且母账户APIKey必须绑定IP。仅适用于有交易权限的母账户 API key。</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/users/subaccount/modify-apikey</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/users/subaccount/modify-apikey
body
<span class="o">{</span>
    <span class="s2">"subAcct"</span>:<span class="s2">"yongxu"</span>,
    <span class="s2">"apiKey"</span>:<span class="s2">"49e1b84b-6dee-4894-80ee-ce9eb7ad614f"</span>,
    <span class="s2">"ip"</span>:<span class="s2">"1.1.1.1"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 重置子账户的APIKey
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">reset_subaccount_apikey</span><span class="p">(</span>
    <span class="n">subAcct</span><span class="o">=</span><span class="s">"hahawang1"</span><span class="p">,</span>
    <span class="n">apiKey</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
    <span class="n">ip</span><span class="o">=</span><span class="s">""</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">apiKey</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">子账户API的公钥</td>
</tr>
<tr>
<td style="text-align: left">label</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户APIKey的备注，如果填写该字段，则该字段会被重置</td>
</tr>
<tr>
<td style="text-align: left">perm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户APIKey权限<br><code>read_only</code>：读取<br><code>trade</code>：交易<br>多个权限用半角逗号隔开。<br>如果填写该字段，则该字段会被重置。</td>
</tr>
<tr>
<td style="text-align: left">ip</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户APIKey绑定ip地址，多个ip用半角逗号隔开，最多支持20个ip。<br>如果填写该字段，那该字段会被重置。<br>如果ip传""，则表示解除IP绑定。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yongxu"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arg13sdfgs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"perm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read,trade"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">label</td>
<td style="text-align: left">String</td>
<td style="text-align: left">APIKey的备注</td>
</tr>
<tr>
<td style="text-align: left">apiKey</td>
<td style="text-align: left">String</td>
<td style="text-align: left">API公钥</td>
</tr>
<tr>
<td style="text-align: left">perm</td>
<td style="text-align: left">String</td>
<td style="text-align: left">APIKey权限</td>
</tr>
<tr>
<td style="text-align: left">ip</td>
<td style="text-align: left">String</td>
<td style="text-align: left">APIKey绑定的ip地址</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">创建时间</td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-get-sub-account-trading-balance">获取子账户交易账户余额 </h3>
<p>获取子账户交易账户余额（适用于母账户）</p>
<h4 id="6-2s">限速：6次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/subaccount/balances</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/subaccount/balances?subAcct<span class="o">=</span>test1

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取子账户交易账户余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">get_account_balance</span><span class="p">(</span>
    <span class="n">subAcct</span><span class="o">=</span><span class="s">"hahawang1"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">子账户名称</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"adjEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10679688.0460531643092577"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9930359.9998"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"cashBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9930359.9998"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"crossLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9439737.0772999514"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9930359.9998"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eqUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9933041.196999946"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"smtSyncEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotCopyTradingEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fixedBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"twap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1620722938250"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"uplLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotIsoBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"accAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotUpl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotUplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"availEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.6799714158199414"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"cashBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.2009985"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"crossLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"disEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1239950.9687532129092577"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33.771820625136023"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"eqUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1239950.9687532129092577"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"smtSyncEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotCopyTradingEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"fixedBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0918492093160816"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isoLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"liab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1453.92289531493594"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalLever"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ordFrozen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"twap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1620722938250"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.570822125136023"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"uplLiab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"borrowFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotIsoBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"openAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"accAvgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotUpl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"spotUplRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"totalPnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"imr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3372.2942371050594217"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isoEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mgnRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70375.35408747017"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"mmr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"134.8917694842024"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33722.9423710505978888"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordFroz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11172992.1657531589092577"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1623392334718"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-7.571730042000012"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>uTime</td>
<td>String</td>
<td>获取账户信息的最新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>totalEq</td>
<td>String</td>
<td>美金层面权益</td>
</tr>
<tr>
<td>isoEq</td>
<td>String</td>
<td>美金层面逐仓仓位权益<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>adjEq</td>
<td>String</td>
<td>美金层面有效保证金<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>ordFroz</td>
<td>String</td>
<td>美金层面全仓挂单占用保证金<br>适用于<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td>imr</td>
<td>String</td>
<td>美金层面占用保证金<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>mmr</td>
<td>String</td>
<td>美金层面维持保证金<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>borrowFroz</td>
<td>String</td>
<td>账户美金层面潜在借币占用保证金<br>仅适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code>。在其他账户模式下为""。</td>
</tr>
<tr>
<td>mgnRatio</td>
<td>String</td>
<td>美金层面保证金率<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>notionalUsd</td>
<td>String</td>
<td>以美金价值为单位的持仓数量，即仓位美金价值<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>upl</td>
<td>String</td>
<td>账户层面全仓未实现盈亏（美元单位）<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>details</td>
<td>Array</td>
<td>各币种资产详细信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>&gt; eq</td>
<td>String</td>
<td>币种总权益</td>
</tr>
<tr>
<td>&gt; cashBal</td>
<td>String</td>
<td>币种余额</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>币种余额信息的更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>&gt; isoEq</td>
<td>String</td>
<td>币种逐仓仓位权益<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; availEq</td>
<td>String</td>
<td>可用保证金<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; disEq</td>
<td>String</td>
<td>美金层面币种折算权益</td>
</tr>
<tr>
<td>&gt; fixedBal</td>
<td>String</td>
<td>抄底宝、逃顶宝功能的币种冻结金额</td>
</tr>
<tr>
<td>&gt; availBal</td>
<td>String</td>
<td>可用余额</td>
</tr>
<tr>
<td>&gt; frozenBal</td>
<td>String</td>
<td>币种占用金额</td>
</tr>
<tr>
<td>&gt; ordFrozen</td>
<td>String</td>
<td>挂单冻结数量<br>适用于<code>现货模式</code>/<code>现货和合约模式</code>/<code>跨币种保证金模式</code></td>
</tr>
<tr>
<td>&gt; liab</td>
<td>String</td>
<td>币种负债额<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; upl</td>
<td>String</td>
<td>未实现盈亏<br>适用于<code>现货和合约模式</code>/<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; uplLiab</td>
<td>String</td>
<td>由于仓位未实现亏损导致的负债<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; crossLiab</td>
<td>String</td>
<td>币种全仓负债额<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; isoLiab</td>
<td>String</td>
<td>币种逐仓负债额<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; mgnRatio</td>
<td>String</td>
<td>币种全仓保证金率，衡量账户内某项资产风险的指标<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td>&gt; imr</td>
<td>String</td>
<td>币种维度全仓占用保证金<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td>&gt; mmr</td>
<td>String</td>
<td>币种维度全仓维持保证金<br>适用于<code>现货和合约模式</code>且有全仓仓位时</td>
</tr>
<tr>
<td>&gt; interest</td>
<td>String</td>
<td>计息<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; twap</td>
<td>String</td>
<td>当前负债币种触发系统自动换币的风险<br>0、1、2、3、4、5其中之一，数字越大代表您的负债币种触发自动换币概率越高<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code></td>
</tr>
<tr>
<td>&gt; maxLoan</td>
<td>String</td>
<td>币种最大可借<br>适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code> 的全仓</td>
</tr>
<tr>
<td>&gt; eqUsd</td>
<td>String</td>
<td>币种权益美金价值</td>
</tr>
<tr>
<td>&gt; borrowFroz</td>
<td>String</td>
<td>币种美金层面潜在借币占用保证金<br>仅适用于<code>跨币种保证金模式</code>/<code>组合保证金模式</code>。在其他账户模式下为""。</td>
</tr>
<tr>
<td>&gt; notionalLever</td>
<td>String</td>
<td>币种杠杆倍数<br>适用于<code>现货和合约模式</code></td>
</tr>
<tr>
<td>&gt; spotIsoBal</td>
<td>String</td>
<td>现货逐仓余额，仅适用于现货带单/跟单。</td>
</tr>
<tr>
<td>&gt; smtSyncEq</td>
<td>String</td>
<td>合约智能跟单权益<br>默认为0，仅适用于跟单人。</td>
</tr>
<tr>
<td>&gt; spotCopyTradingEq</td>
<td>String</td>
<td>现货智能跟单权益<br>默认为0，仅适用于跟单人。</td>
</tr>
<tr>
<td>&gt; spotBal</td>
<td>String</td>
<td>现货余额 ，单位为 币种，比如 BTC。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; openAvgPx</td>
<td>String</td>
<td>现货开仓成本价 单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; accAvgPx</td>
<td>String</td>
<td>现货累计成本价 单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; spotUpl</td>
<td>String</td>
<td>现货未实现收益，单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; spotUplRatio</td>
<td>String</td>
<td>现货未实现收益率。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; totalPnl</td>
<td>String</td>
<td>现货累计收益，单位 USD。 <a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
<tr>
<td>&gt; totalPnlRatio</td>
<td>String</td>
<td>现货累计收益率。<a href="https://www.okx.com/zh-hans/help/i-introduction-of-spot">详情</a></td>
</tr>
</tbody></table>

<aside class="notice">
当前账户等级下无效字段返回""
</aside>
<h3 id="sub-account-rest-api-get-sub-account-funding-balance">获取子账户资金账户余额 </h3>
<p>获取子账户资金账户余额（适用于母账户）</p>
<h4 id="6-2s">限速：6次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/subaccount/balances</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/subaccount/balances?subAcct<span class="o">=</span>test1

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取子账户资金账户余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">get_funding_balance</span><span class="p">(</span>
    <span class="n">subAcct</span><span class="o">=</span><span class="s">"hahawang1"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code><br>支持多币种查询（不超过20个），币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"availBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.11827078"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.11827078"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"frozenBal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">bal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">余额</td>
</tr>
<tr>
<td style="text-align: left">frozenBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">冻结余额（不可用）</td>
</tr>
<tr>
<td style="text-align: left">availBal</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可用余额</td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-get-sub-account-maximum-withdrawals">获取子账户最大可转余额 </h3>
<p>获取子账户最大可转余额（适用于母账户）。不指定币种会返回所有拥有的币种资产可划转数量。</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/account/subaccount/max-withdrawal</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/account/subaccount/max-withdrawal?subAcct<span class="o">=</span>test1

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>subAcct</td>
<td>String</td>
<td>是</td>
<td>子账户名称</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>否</td>
<td>币种，如 <code>BTC</code> <br>支持多币种查询（不超过20个），币种之间半角逗号分隔</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
   </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxWd"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxWdEx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"spotOffsetMaxWd"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"spotOffsetMaxWdEx"</span><span class="p">:</span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxWd"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxWdEx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"spotOffsetMaxWd"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"spotOffsetMaxWdEx"</span><span class="p">:</span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxWd"</span><span class="p">:</span><span class="s2">"10600"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxWdEx"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"spotOffsetMaxWd"</span><span class="p">:</span><span class="s2">"10600"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"spotOffsetMaxWdEx"</span><span class="p">:</span><span class="s2">""</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="response-parameters">Response Parameters</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>maxWd</td>
<td>String</td>
<td>最大可划转数量（不包含<code>跨币种保证金模式</code>借币金额）</td>
</tr>
<tr>
<td>maxWdEx</td>
<td>String</td>
<td>最大可划转数量（包含<code>跨币种保证金模式</code>借币金额）</td>
</tr>
<tr>
<td>spotOffsetMaxWd</td>
<td>String</td>
<td>现货对冲不支持借币最大可转数量 <br>仅适用于<code>组合保证金模式</code></td>
</tr>
<tr>
<td>spotOffsetMaxWdEx</td>
<td>String</td>
<td>现货对冲支持借币的最大可转数量 <br>仅适用于<code>组合保证金模式</code></td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-get-history-of-sub-account-transfer">查询子账户转账记录 </h3>
<p>仅适用于母账户</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/subaccount/bills</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/subaccount/bills
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查询子账户转账记录
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">bills</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 BTC</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">划转类型<br><code>0</code>：母账户转子账户<br><code>1</code>：子账户转母账户</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在billId创建时间之前(不包含)的内容，值为时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在billId创建时间之后(不包含)的内容，值为时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89887685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hahatest1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1712560959000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转币种</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转金额</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单类型</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-get-history-of-managed-sub-account-transfer">查询托管子账户转账记录 </h3>
<p>仅适用于交易团队母账户查看托管给自己的托管子账户转账记录</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/asset/subaccount/managed-subaccount-bills</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/asset/subaccount/managed-subaccount-bills
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">划转类型<br><code>0</code>：母账户转子账户<br><code>1</code>：子账户转母账户</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">subUid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户UID</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在billId创建时间之前(不包含)的内容，值为时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在billId创建时间之后(不包含)的内容，值为时间戳，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，默认返回100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subUid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxx"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">billId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转币种</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转金额</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单类型</td>
</tr>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">subUid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户UID</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">账单ID创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-master-accounts-manage-the-transfers-between-sub-accounts">子账户间资金划转 </h3>
<p>母账户控制子账户与子账户之间划转（仅适用于母账户）</p>

<p>调用时，APIKey 需要有交易权限</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/asset/subaccount/transfer</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/asset/subaccount/transfer
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"USDT"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"1.5"</span>,
    <span class="s2">"from"</span>:<span class="s2">"6"</span>,
    <span class="s2">"to"</span>:<span class="s2">"6"</span>,
    <span class="s2">"fromSubAccount"</span>:<span class="s2">"test-1"</span>,
    <span class="s2">"toSubAccount"</span>:<span class="s2">"test-2"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 子账户间资金划转
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">subAccount_transfer</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"USDT"</span><span class="p">,</span>
    <span class="n">amt</span><span class="o">=</span><span class="s">"10"</span><span class="p">,</span>
    <span class="n">froms</span><span class="o">=</span><span class="s">"6"</span><span class="p">,</span>
    <span class="n">to</span><span class="o">=</span><span class="s">"6"</span><span class="p">,</span>
    <span class="n">fromSubAccount</span><span class="o">=</span><span class="s">"test-1"</span><span class="p">,</span>
    <span class="n">toSubAccount</span><span class="o">=</span><span class="s">"test-2"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">划转数量</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">转出子账户类型<br><code>6</code>：资金账户<br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">to</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">转入子账户类型<br><code>6</code>：资金账户<br><code>18</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">fromSubAccount</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">转出子账户的子账户名称</td>
</tr>
<tr>
<td style="text-align: left">toSubAccount</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">转入子账户的子账户名称</td>
</tr>
<tr>
<td style="text-align: left">loanTrans</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否支持<code>跨币种保证金模式</code>或<code>组合保证金模式</code>下的借币转入/转出<br>默认<code>false</code></td>
</tr>
<tr>
<td style="text-align: left">omitPosRisk</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否忽略仓位风险<br>默认为<code>false</code><br>仅适用于<code>组合保证金模式</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"transId"</span><span class="p">:</span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">transId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">划转ID</td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-set-permission-of-transfer-out">设置子账户主动转出权限 </h3>
<p>设置子账户转出权限（仅适用于母账户），默认可转出至母账户。</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/users/subaccount/set-transfer-out</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/users/subaccount/set-transfer-out
body
<span class="o">{</span>
    <span class="s2">"subAcct"</span>: <span class="s2">"Test001,Test002"</span>,
    <span class="s2">"canTransOut"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 设置子账户主动转出权限
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">set_permission_transfer_out</span><span class="p">(</span>
    <span class="n">subAcct</span><span class="o">=</span><span class="s">"hahawang1"</span><span class="p">,</span>
    <span class="n">canTransOut</span><span class="o">=</span><span class="bp">False</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">子账户名称，支持设置多个（不超过20个），子账户名称之间半角逗号分隔</td>
</tr>
<tr>
<td style="text-align: left">canTransOut</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否可以主动转出，默认为<code>true</code><br><code>false</code>：不可转出<br><code>true</code>：可以转出</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"canTransOut"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"canTransOut"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
<tr>
<td style="text-align: left">canTransOut</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">是否可以主动转出 <br><code>false</code>：不可转出<br><code>true</code>：可以转出</td>
</tr>
</tbody></table>
<h3 id="sub-account-rest-api-get-custody-trading-sub-account-list">查看被托管的子账户列表 </h3>
<p>交易团队使用该接口查看当前托管中的子账户列表</p>
<h4 id="1-s">限速：1次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/users/entrust-subaccount-list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/users/entrust-subaccount-list

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.SubAccount</span> <span class="k">as</span> <span class="n">SubAccount</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span>
<span class="n">subAccountAPI</span> <span class="o">=</span> <span class="n">SubAccount</span><span class="p">.</span><span class="n">SubAccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 查看被托管的子账户列表
</span><span class="n">result</span> <span class="o">=</span> <span class="n">subAccountAPI</span><span class="p">.</span><span class="n">get_entrust_subaccount_list</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">子账户名称</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="s2">"test-1"</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="nl">"subAcct"</span><span class="p">:</span><span class="s2">"test-2"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">subAcct</td>
<td style="text-align: left">String</td>
<td style="text-align: left">子账户名称</td>
</tr>
</tbody></table>
<h1 id="financial-product">金融产品 </h1><h2 id="financial-product-on-chain-earn">链上赚币 </h2>
<p>仅资金账户中的资产支持申购。<a href="https://www.okx.com/cn/earn/onchain-earn">了解更多</a></p>
<h3 id="financial-product-earn-get-offers">GET / 查看项目 </h3><h4 id="3-s">限速：3次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/offers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/offers

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">productId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">项目ID</td>
</tr>
<tr>
<td style="text-align: left">protocolType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">投资币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Polkadot"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"protocolType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defi"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1767"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"earlyRedeem"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchasable"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"bal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maxAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"earningData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"earningType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"fastRedemptionDailyLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"redeemPeriod"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"28D"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"28D"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>productId</td>
<td>String</td>
<td>项目ID</td>
</tr>
<tr>
<td>protocol</td>
<td>String</td>
<td>项目名称</td>
</tr>
<tr>
<td>protocolType</td>
<td>String</td>
<td>项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>项目期限<br>活期为0，其他则显示定期天数</td>
</tr>
<tr>
<td>apy</td>
<td>String</td>
<td>预估年化<br>如果年化为<code>7%</code> ，则该字段为<code>0.07</code></td>
</tr>
<tr>
<td>earlyRedeem</td>
<td>Boolean</td>
<td>项目是否支持提前赎回</td>
</tr>
<tr>
<td>investData</td>
<td>Array</td>
<td>目前用户可用来投资的目标币种信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>投资币种，如<code>BTC</code></td>
</tr>
<tr>
<td>&gt; bal</td>
<td>String</td>
<td>可投数量</td>
</tr>
<tr>
<td>&gt; minAmt</td>
<td>String</td>
<td>最小申购量</td>
</tr>
<tr>
<td>&gt; maxAmt</td>
<td>String</td>
<td>最大可申购量</td>
</tr>
<tr>
<td>earningData</td>
<td>Array</td>
<td>收益信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>收益币种，如<code>BTC</code></td>
</tr>
<tr>
<td>&gt; earningType</td>
<td>String</td>
<td>收益类型<br><code>0</code>：预估收益<br><code>1</code>：累计发放收益</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>项目状态<br><code>purchasable</code>：可申购<br><code>sold_out</code>：售罄<br><code>stop</code>：暂停申购</td>
</tr>
<tr>
<td>redeemPeriod</td>
<td>Array of string</td>
<td>赎回期，形式为 [最小赎回时间,最大赎回时间]<br><code>H</code>：小时，<code>D</code>：天<br>例 ["1H","24H"] 表示赎回期时1小时到24小时。<br>["14D","14D"] 表示赎回期为14天。</td>
</tr>
<tr>
<td>fastRedemptionDailyLimit</td>
<td>String</td>
<td>快速赎回每日最高限额<br>如果不支持快速赎回，则返回""</td>
</tr>
</tbody></table>
<h3 id="financial-product-earn-post-purchase">POST / 申购项目 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/purchase</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 投资100ZIL30天的锁仓挖矿项目</span>
POST /api/v5/finance/staking-defi/purchase
body 
<span class="o">{</span>
    <span class="s2">"productId"</span>:<span class="s2">"1234"</span>,
    <span class="s2">"investData"</span>:[
      <span class="o">{</span>
        <span class="s2">"ccy"</span>:<span class="s2">"ZIL"</span>,
        <span class="s2">"amt"</span>:<span class="s2">"100"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"term"</span>:<span class="s2">"30"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">productId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">项目ID</td>
</tr>
<tr>
<td style="text-align: left">investData</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资数量</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">可选</td>
<td style="text-align: left">投资期限<br>定期项目必须指定投资期限</td>
</tr>
<tr>
<td style="text-align: left">tag</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单标签<br>字母（区分大小写）与数字的组合，可以是纯字母、纯数字，且长度在1-16位之间</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"754147"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
</tbody></table>
<h3 id="financial-product-earn-post-redeem">POST / 赎回项目 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/redeem</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="c"># 提前赎回项目投资</span>
POST /api/v5/finance/staking-defi/redeem
body 
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"754147"</span>,
    <span class="s2">"protocolType"</span>:<span class="s2">"defi"</span>,
    <span class="s2">"allowEarlyRedeem"</span>:true
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">protocolType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td style="text-align: left">allowEarlyRedeem</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否提前赎回<br>默认为<code>false</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"754147"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
</tbody></table>
<h3 id="financial-product-earn-post-cancel-purchases-redemptions">POST / 撤销项目申购/赎回 </h3>
<aside class="notice">
撤销申购后的资金返回资金账户。
</aside>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/cancel</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/staking-defi/cancel
body 
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"754147"</span>,
    <span class="s2">"protocolType"</span>:<span class="s2">"defi"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">protocolType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">项目类型<br><code>defi</code>：链上赚币</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"754147"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
</tbody></table>
<h3 id="financial-product-earn-get-active-orders">GET / 查看活跃订单 </h3><h4 id="3-s">限速：3次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/orders-active</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/orders-active

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">productId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">项目ID</td>
</tr>
<tr>
<td style="text-align: left">protocolType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">投资币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单状态<br><code>8</code>: 待上车（预约中）<br><code>13</code>: 订单取消中<br><code>9</code>: 上链中<br><code>1</code>: 收益中<br><code>2</code>: 赎回中</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLMR"</span><span class="p">,</span><span class="w">      
            </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"glimmar"</span><span class="p">,</span><span class="w">      
            </span><span class="nl">"protocolType"</span><span class="p">:</span><span class="s2">"staking"</span><span class="p">,</span><span class="w">  
            </span><span class="nl">"term"</span><span class="p">:</span><span class="s2">"15"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apy"</span><span class="p">:</span><span class="s2">"0.5496"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investData"</span><span class="p">:[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"GLMR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"earningData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLMR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"earningType"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">每日发放</span><span class="w">
                </span><span class="nl">"earnings"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
             </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"purchasedTime"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estSettlementTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelRedemptionDeadline"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fastRedemptionData"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"123457"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">      
            </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compond"</span><span class="p">,</span><span class="w">      </span><span class="err">//DEFI-loan</span><span class="w">
            </span><span class="nl">"protocolType"</span><span class="p">:</span><span class="s2">"defi"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"term"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apy"</span><span class="p">:</span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investData"</span><span class="p">:[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"20"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"minAmt"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"maxAmt"</span><span class="p">:</span><span class="s2">""</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"earningData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"earningType"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">赎回发放</span><span class="w">
                </span><span class="nl">"earnings"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">        </span><span class="err">//预估收益</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"earningType"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">每日发放</span><span class="w">
                </span><span class="nl">"earnings"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">累计收益</span><span class="w">
             </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"purchasedTime"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estSettlementTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelRedemptionDeadline"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fastRedemptionData"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"123458"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">      
            </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sushiswap"</span><span class="p">,</span><span class="w">      </span><span class="err">//DEFI</span><span class="w">
            </span><span class="nl">"protocolType"</span><span class="p">:</span><span class="s2">"defi"</span><span class="p">,</span><span class="w">  
            </span><span class="nl">"term"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apy"</span><span class="p">:</span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investData"</span><span class="p">:[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"100"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"0.03"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"earningData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUSHI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"earningType"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">每日发放</span><span class="w">
                </span><span class="nl">"earnings"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">累计收益</span><span class="w">
             </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"purchasedTime"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estSettlementTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelRedemptionDeadline"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fastRedemptionData"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"123458"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LON"</span><span class="p">,</span><span class="w">      
            </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tokenlon"</span><span class="p">,</span><span class="w">      </span><span class="err">//DEFI-pos</span><span class="w">
            </span><span class="nl">"protocolType"</span><span class="p">:</span><span class="s2">"defi"</span><span class="p">,</span><span class="w">  
            </span><span class="nl">"earningCcy"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"LON"</span><span class="p">],</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apy"</span><span class="p">:</span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investData"</span><span class="p">:[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"LON"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"1"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"earningData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LON"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"earningType"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">赎回发放</span><span class="w">
                </span><span class="nl">"earnings"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">累计收益</span><span class="w">
             </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"purchasedTime"</span><span class="p">:</span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estSettlementTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelRedemptionDeadline"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fastRedemptionData"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>productId</td>
<td>String</td>
<td>项目ID</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>订单状态<br>8: 待上车（预约中）<br>13: 订单取消中<br>9: 上链中<br>1: 收益中<br>2: 赎回中</td>
</tr>
<tr>
<td>protocol</td>
<td>String</td>
<td>项目名称</td>
</tr>
<tr>
<td>protocolType</td>
<td>String</td>
<td>项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>项目期限<br>活期为0，其他则显示定期天数</td>
</tr>
<tr>
<td>apy</td>
<td>String</td>
<td>预估年化<br>如果年化为7% ，则该字段为0.07<br>保留到小数点后4位（截位）</td>
</tr>
<tr>
<td>investData</td>
<td>Array of object</td>
<td>用户投资信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>投资币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>已投资数量</td>
</tr>
<tr>
<td>earningData</td>
<td>Array of object</td>
<td>收益信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>收益币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; earningType</td>
<td>String</td>
<td>收益类型<br><code>0</code>：预估收益<br><code>1</code>：实际到账收益</td>
</tr>
<tr>
<td>&gt; earnings</td>
<td>String</td>
<td>收益数量</td>
</tr>
<tr>
<td>fastRedemptionData</td>
<td>Array of object</td>
<td>快速赎回信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>快速赎回币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; redeemingAmt</td>
<td>String</td>
<td>赎回中的数量</td>
</tr>
<tr>
<td>purchasedTime</td>
<td>String</td>
<td>用户订单创建时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>estSettlementTime</td>
<td>String</td>
<td>预估赎回到账时间</td>
</tr>
<tr>
<td>cancelRedemptionDeadline</td>
<td>String</td>
<td>撤销赎回申请截止时间</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
</tbody></table>
<h3 id="financial-product-earn-get-order-history">GET / 查看历史订单 </h3><h4 id="3-s">限速：3次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/orders-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/orders-history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">productId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">项目ID</td>
</tr>
<tr>
<td style="text-align: left">protocolType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">投资币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，默认100条，最大值为100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1579252"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Polkadot"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"protocolType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defi"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1704"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"investData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"earningData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"earningType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"realizedEarnings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"purchasedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1712908001000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"redeemedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1712914294000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>productId</td>
<td>String</td>
<td>项目ID</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>订单状态<br>3: 订单已完成（包含撤销和已赎回两种状态）</td>
</tr>
<tr>
<td>protocol</td>
<td>String</td>
<td>项目名称</td>
</tr>
<tr>
<td>protocolType</td>
<td>String</td>
<td>项目类型<br><code>defi</code>：链上赚币</td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>项目期限<br>活期为0，其他则显示定期天数</td>
</tr>
<tr>
<td>apy</td>
<td>String</td>
<td>预估年化<br>如果年化为7% ，则该字段为0.07<br>保留到小数点后4位（截位）</td>
</tr>
<tr>
<td>investData</td>
<td>Array</td>
<td>用户投资信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>投资币种，如<code>BTC</code></td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>已投资数量</td>
</tr>
<tr>
<td>earningData</td>
<td>Array</td>
<td>收益信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>收益币种，如<code>BTC</code></td>
</tr>
<tr>
<td>&gt; earningType</td>
<td>String</td>
<td>收益类型<br><code>0</code>：预估收益<br><code>1</code>：实际到账收益</td>
</tr>
<tr>
<td>&gt; realizedEarnings</td>
<td>String</td>
<td>已赎回订单累计收益<br>该字段只在订单处于赎回状态时有效</td>
</tr>
<tr>
<td>purchasedTime</td>
<td>String</td>
<td>用户订单创建时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>redeemedTime</td>
<td>String</td>
<td>用户订单赎回时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>订单标签</td>
</tr>
</tbody></table>
<h2 id="financial-product-eth-staking">ETH质押 </h2>
<p>ETH 质押，也称为以太坊质押，是参与以太坊区块链权益证明 (Proof of Stake, PoS) 共识机制的过程。<br>
质押 ETH 即获 1:1 BETH 并赚取每日奖励，享受更高流动性<br>
<a href="https://www.okx.com/cn/earn/eth">了解更多</a></p>
<h3 id="financial-product-eth-staking-get-product-info">GET / 获取产品信息 </h3><h4 id="3-s">限速：3 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/eth/product-info</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/eth/product-info

</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fastRedemptionDailyLimit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>fastRedemptionDailyLimit</td>
<td>String</td>
<td>快速赎回每日最高份额<br>母账户和子账户共享同一个限额</td>
</tr>
</tbody></table>
<h3 id="financial-product-eth-staking-post-purchase">POST / 申购 </h3>
<p>质押ETH获取BETH<br>
仅资金账户中的资产支持ETH质押。</p>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/eth/purchase</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/staking-defi/eth/purchase
body 
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"100"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<p>code = <code>0</code>代表请求已被成功处理</p>
<h3 id="financial-product-eth-staking-post-redeem">POST / 赎回 </h3>
<p>只能赎回资金账户中的 BETH 资产，交易账户中的 BETH 资产需要您先做资金划转到资金账户后赎回。</p>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/eth/redeem</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/staking-defi/eth/redeem
body 
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"10"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">赎回数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<p>code = <code>0</code>代表请求已被成功处理</p>
<h3 id="financial-product-eth-staking-get-balance">GET / 获取余额 </h3>
<p>该余额是一个汇总账户BETH资产（含赎回中）的快照数据。</p>
<h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/eth/balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/eth/balance

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>None</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.63926191"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"latestInterestAccrual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00006549"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalInterestAccrual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01490596"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699257600000"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BETH</code></td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>币种数量</td>
</tr>
<tr>
<td>latestInterestAccrual</td>
<td>String</td>
<td>最近收益</td>
</tr>
<tr>
<td>totalInterestAccrual</td>
<td>String</td>
<td>历史总收益</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>快照时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-eth-staking-get-purchase-amp-redeem-history">GET / 获取申购赎回记录 </h3><h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/eth/purchase-redeem-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/eth/purchase-redeem-history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">类型<br><code>purchase</code>：申购<br><code>redeem</code>：赎回</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">状态<br><code>pending</code>：处理中<br><code>success</code>：成功处理<br><code>failed</code>：处理失败</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此<code>requestTime</code>之前（更旧的数据）的分页内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此<code>requestTime</code>之后（更新的数据）的分页内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，默认100条，最大值为100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.62666630"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1683413171000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estCompletedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"redeemingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"requestTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1683413171000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchase"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>String</td>
<td>类型<br><code>purchase</code>：申购<br><code>redeem</code>：赎回</td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>申购/赎回 的数量</td>
</tr>
<tr>
<td>redeemingAmt</td>
<td>String</td>
<td>赎回中的数量</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>状态<br><code>pending</code>：处理中<br><code>success</code>：成功处理<br><code>failed</code>：处理失败</td>
</tr>
<tr>
<td>requestTime</td>
<td>String</td>
<td>发起 申购/赎回 请求的时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>completedTime</td>
<td>String</td>
<td>赎回请求处理完成的时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>estCompletedTime</td>
<td>String</td>
<td>预估完成赎回的时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-eth-staking-get-apy-history-public">GET / 获取历史收益率(公共) </h3>
<p>公共接口无须鉴权</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/eth/apy-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/eth/apy-history?days<span class="o">=</span>2

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">days</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">查询最近多少天内的数据，不超过365天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02690000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1734195600000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02840000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1734109200000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>rate</td>
<td>String</td>
<td>年化收益率，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="financial-product-sol-staking">SOL质押 </h2>
<p>通过质押 SOL 代币并将其委托给 Solana 网络上的验证者，您可以收到等值的 OKSOL 并获得每日 OKSOL 奖励。<br>
在 Solana 上质押 SOL，即获 1:1 OKSOL，享受更高流动性<br>
<a href="https://www.okx.com/zh-hans/earn/solana-staking#from=finance_crypto">了解更多</a></p>
<h3 id="financial-product-sol-staking-post-purchase">POST / 申购 </h3>
<p>质押 SOL 获取 OKSOL<br>
仅资金账户中的资产支持 SOL 质押。</p>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/sol/purchase</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/staking-defi/sol/purchase
body 
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"100"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">投资数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<p>code = <code>0</code>代表请求已被成功处理</p>
<h3 id="financial-product-sol-staking-post-redeem">POST / 赎回 </h3>
<p>只能赎回资金账户中的 OKSOL 资产，交易账户中的 OKSOL 资产需要您先做资金划转到资金账户后赎回。</p>
<h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP 请求</h4>
<p><code>POST /api/v5/finance/staking-defi/sol/redeem</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/staking-defi/sol/redeem
body 
<span class="o">{</span>
    <span class="s2">"amt"</span>:<span class="s2">"10"</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">赎回数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<p>code = <code>0</code>代表请求已被成功处理</p>
<h3 id="financial-product-sol-staking-get-balance">GET / 获取余额 </h3>
<p>该余额是一个汇总账户OKSOL资产（含赎回中）的实时数据。</p>
<h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/sol/balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/sol/balance

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<p>None</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01100012"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKSOL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"latestInterestAccrual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000012"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalInterestAccrual"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000012"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>OKSOL</code></td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>币种数量</td>
</tr>
<tr>
<td>latestInterestAccrual</td>
<td>String</td>
<td>最近收益</td>
</tr>
<tr>
<td>totalInterestAccrual</td>
<td>String</td>
<td>历史总收益</td>
</tr>
</tbody></table>
<h3 id="financial-product-sol-staking-get-purchase-amp-redeem-history">GET / 获取申购赎回记录 </h3><h4 id="6-s">限速：6 次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/sol/purchase-redeem-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/sol/purchase-redeem-history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">类型<br><code>purchase</code>：申购<br><code>redeem</code>：赎回</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">状态<br><code>pending</code>：处理中<br><code>success</code>：成功处理<br><code>failed</code>：处理失败</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此<code>requestTime</code>之前（更旧的数据）的分页内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此<code>requestTime</code>之后（更新的数据）的分页内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，默认100条，最大值为100条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.62666630"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"completedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1683413171000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estCompletedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"redeemingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"requestTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1683413171000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchase"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>String</td>
<td>类型<br><code>purchase</code>：申购<br><code>redeem</code>：赎回</td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>申购/赎回 的数量</td>
</tr>
<tr>
<td>redeemingAmt</td>
<td>String</td>
<td>赎回中的数量</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>状态<br><code>pending</code>：处理中<br><code>success</code>：成功处理<br><code>failed</code>：处理失败</td>
</tr>
<tr>
<td>requestTime</td>
<td>String</td>
<td>发起 申购/赎回 请求的时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>completedTime</td>
<td>String</td>
<td>赎回请求处理完成的时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>estCompletedTime</td>
<td>String</td>
<td>预估完成赎回的时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-sol-staking-get-apy-history-public">GET / 获取历史收益率(公共) </h3>
<p>公共接口无须鉴权</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP 请求</h4>
<p><code>GET /api/v5/finance/staking-defi/sol/apy-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/staking-defi/sol/apy-history?days<span class="o">=</span>2

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">days</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">查询最近多少天内的数据，不超过365天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11280000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1734192000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11270000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1734105600000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>rate</td>
<td>String</td>
<td>年化收益率，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>时间，值为时间戳，Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="financial-product-simple-earn-flexible">活期简单赚币 </h2>
<p>活期简单赚币(余币宝)通过在借贷市场出借给杠杆交易用户获取收益。<a href="https://www.okx.com/cn/earn/simple-earn">了解更多</a></p>
<h3 id="financial-product-savings-get-saving-balance">GET / 获取余币宝余额 </h3><h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/savings/balance</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/savings/balance?ccy<span class="o">=</span>BTC

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Funding</span> <span class="k">as</span> <span class="n">Funding</span>

<span class="c1"># API 初始化
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘: 0, 模拟盘: 1
</span>
<span class="n">fundingAPI</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">.</span><span class="n">FundingAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># 获取余币宝余额
</span><span class="n">result</span> <span class="o">=</span> <span class="n">fundingAPI</span><span class="p">.</span><span class="n">get_saving_balance</span><span class="p">(</span>
    <span class="n">ccy</span><span class="o">=</span><span class="s">"USDC"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"earnings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0010737388791526"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"redemptAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0100000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.0010737453457821"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"loanAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.0010630707982819"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000106745475002"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种数量</td>
</tr>
<tr>
<td style="text-align: left">earnings</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种持仓收益</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新出借利率</td>
</tr>
<tr>
<td style="text-align: left">loanAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已出借数量</td>
</tr>
<tr>
<td style="text-align: left">pendingAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">未出借数量</td>
</tr>
<tr>
<td style="text-align: left">redemptAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left"><del>赎回中的数量</del>（已废弃）</td>
</tr>
</tbody></table>
<h3 id="financial-product-savings-post-savings-purchase-redemption">POST / 余币宝申购/赎回 </h3>
<p>仅资金账户中的资产支持余币宝申购。</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/finance/savings/purchase-redempt</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/savings/purchase-redempt
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"amt"</span>:<span class="s2">"1"</span>,
    <span class="s2">"side"</span>:<span class="s2">"purchase"</span>,
    <span class="s2">"rate"</span>:<span class="s2">"0.01"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>是</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>是</td>
<td>申购/赎回 数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>是</td>
<td>操作类型<br><code>purchase</code>：申购 <code>redempt</code>：赎回</td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>是</td>
<td>申购年利率<br>仅适用于申购，新申购的利率会覆盖上次申购的利率<br>参数取值范围在1%到365%之间</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"purchase"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="s2">"0.01"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称</td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>申购/赎回 数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>操作类型</td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>申购年利率</td>
</tr>
</tbody></table>
<h3 id="financial-product-savings-post-set-lending-rate">POST / 设置余币宝借贷利率 </h3><h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/finance/savings/set-lending-rate</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/savings/set-lending-rate
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"rate"</span>:<span class="s2">"0.02"</span>
<span class="o">}</span>

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>是</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>是</td>
<td>贷出年利率<br>参数取值范围在1%到365%之间</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种名称，如 <code>BTC</code></td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>贷出年利率</td>
</tr>
</tbody></table>
<h3 id="financial-product-savings-get-lending-history">GET / 获取余币宝出借明细  </h3>
<p>返回最近一个月的数据</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/savings/lending-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/savings/lending-history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为 100，不填默认返回 100 条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"earnings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"earnings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借数量</td>
</tr>
<tr>
<td style="text-align: left">earnings</td>
<td style="text-align: left">String</td>
<td style="text-align: left">已赚取利息</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借年利率</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-savings-get-public-borrow-info-public">GET / 获取市场借贷信息（公共）</h3>
<p>公共接口无须鉴权</p>
<h4 id="6-s">限速：6次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/savings/lending-rate-summary</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/savings/lending-rate-summary

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgAmtUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"preRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"estRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">avgAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">过去24小时平均借贷量</td>
</tr>
<tr>
<td style="text-align: left">avgAmtUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">过去24小时平均借贷美元价值</td>
</tr>
<tr>
<td style="text-align: left">avgRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">过去24小时平均借出利率</td>
</tr>
<tr>
<td style="text-align: left">preRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">上一次借贷年利率</td>
</tr>
<tr>
<td style="text-align: left">estRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">下一次预估借贷年利率</td>
</tr>
</tbody></table>
<h3 id="financial-product-savings-get-public-borrow-history-public">GET / 获取市场借贷历史（公共） </h3>
<p>公共接口无须鉴权<br>
返回2021年12月14日后的记录<br></p>
<h4 id="6-s">限速：6次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/savings/lending-rate-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/savings/lending-rate-history

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之前的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询在此之后的内容，值为时间戳，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">分页返回的结果集数量，最大为100，不填默认返回100条<br>如果不指定<code>ccy</code>,会返回同一个<code>ts</code>下的全部数据，不受<code>limit</code>限制</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">市场总出借数量</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借年利率</td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="financial-product-simple-earn-fixed">定期简单赚币 </h2><h3 id="financial-product-simple-earn-fixed-get-lending-offers-public">GET / 获取借币信息（公共） </h3>
<p>获取借币信息和年化收益率</p>
<h4 id="3-s">限速：3次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/fixed-loan/lending-offers</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/fixed-loan/lending-offers
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借贷期限<br><code>30D</code>：30天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lendQuota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minLend"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0058"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借贷期限<br><code>30D</code>：30天</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最新年化收益率，小数形式<br>如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">minLend</td>
<td style="text-align: left">String</td>
<td style="text-align: left">最小出借数量</td>
</tr>
<tr>
<td style="text-align: left">lendQuota</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借限额</td>
</tr>
</tbody></table>
<h3 id="financial-product-simple-earn-fixed-get-lending-volume-public">GET / 获取历史收益率（公共） </h3>
<p>获取借币信息和年化收益率</p>
<h4 id="3-s">限速：3次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/fixed-loan/lending-apy-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/fixed-loan/lending-apy-history?ccy<span class="o">=</span>USDT&amp;term<span class="o">=</span>30D
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借贷期限<br><code>30D</code>：30天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1712559600000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">年化收益率，小数形式<br>如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">时间戳。Unix时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-fixed-earn-get-lending-volume-public">GET / 获取借贷量（公共） </h3><h4 id="3-s">限速：3次/s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/fixed-loan/pending-lending-volume</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/fixed-loan/pending-lending-volume?ccy<span class="o">=</span>BTC&amp;term<span class="o">=</span>30D
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借贷期限<br><code>30D</code>：30天</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingVol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rateRangeFrom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rateRangeTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.031"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">币种</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">借贷期限<br><code>30D</code>：30天</td>
</tr>
<tr>
<td style="text-align: left">rateRangeFrom</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借利率的最低值，小数形式<br>如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">rateRangeTo</td>
<td style="text-align: left">String</td>
<td style="text-align: left">出借利率的最高值，小数形式<br>如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">pendingVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">挂单数量</td>
</tr>
</tbody></table>
<h3 id="financial-product-simple-earn-fixed-post-place-lending-order">POST / 定期简单赚币申购 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/finance/fixed-loan/lending-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/fixed-loan/lending-order
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>: <span class="s2">"USDT"</span>,
    <span class="s2">"amt"</span>: <span class="s2">"1"</span>,
    <span class="s2">"rate"</span>: <span class="s2">"0.01"</span>,
    <span class="s2">"term"</span>: <span class="s2">"30D"</span>,
    <span class="s2">"autoRenewal"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">出借币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">出借数量</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">出借利率，小数形式，如 <code>0.01</code> 代表 <code>1%</code>。</td>
</tr>
<tr>
<td style="text-align: left">term</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借贷期限</td>
</tr>
<tr>
<td style="text-align: left">autoRenewal</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否到期自动续借<br><code>true</code>：自动续借<br><code>false</code>：非自动续借<br>默认为<code>false</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2405162053378222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id="financial-product-simple-earn-fixed-post-amend-lending-order">POST / 定期简单赚币修改订单 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/finance/fixed-loan/amend-lending-order</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/fixed-loan/amend-lending-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"2405162053378222"</span>,
    <span class="s2">"changeAmt"</span>:<span class="s2">"-100"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">changeAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">赎回数量，如 <code>-0.1</code>代表赎回<code>0.1</code>。</td>
</tr>
<tr>
<td style="text-align: left">rate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">出借利率，小数形式，如 <code>0.01</code> 代表 <code>1%</code>。</td>
</tr>
<tr>
<td style="text-align: left">autoRenewal</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">否</td>
<td style="text-align: left">是否到期自动续借<br><code>true</code>：自动续借<br><code>false</code>：非自动续借</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"2405162053378222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id="financial-product-simple-earn-fixed-get-lending-order-list">GET / 获取定期简单赚币订单信息 </h3><h4 id="3-s">限速：3次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/fixed-loan/lending-orders-list</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/fixed-loan/lending-orders-list

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">状态<br><code>pending</code>：匹配中<br><code>earning</code>：赚币中<br><code>expired</code>：逾期<br><code>settled</code>：已结算</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>ordId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为<code>100</code>，默认<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"autoRenewal"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1718955882000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"earningAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2406211544415051"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settledTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1718955881000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>状态</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>出借数量</td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>出借年化利率，小数形式，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>借贷期限<br><code>30D</code>: 30天</td>
</tr>
<tr>
<td>autoRenewal</td>
<td>Boolean</td>
<td>是否自动续借<br><code>true</code>：自动续借<br><code>false</code>：非自动续借</td>
</tr>
<tr>
<td>totalInterest</td>
<td>String</td>
<td>总利息</td>
</tr>
<tr>
<td>pendingAmt</td>
<td>String</td>
<td>待匹配数量</td>
</tr>
<tr>
<td>earningAmt</td>
<td>String</td>
<td>赚币数量</td>
</tr>
<tr>
<td>startTime</td>
<td>String</td>
<td>开始赚币时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>settledTime</td>
<td>String</td>
<td>结算时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-simple-earn-fixed-get-lending-sub-order-list">GET / 获取定期简单赚币子订单信息 </h3><h4 id="2-s">限速：2次/s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/fixed-loan/lending-sub-orders</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/fixed-loan/lending-sub-orders?ordId<span class="o">=</span>2405231639344615

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">订单ID</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">状态<br><code>earning</code>：赚币中<br><code>expired</code>：逾期<br><code>settled</code>：已结算</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之前（更旧的数据）的分页内容，传的值为对应接口的<code>subOrdId</code></td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此ID之后（更新的数据）的分页内容，传的值为对应接口的<code>subOrdId</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为<code>100</code>，默认<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accruedInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1716453989000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"earlyTerminatedPenalty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0209"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expiryTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1719045989000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"finalSettlementTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1721637989000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2405231639344615"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"overdueInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"settledTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1716454032000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"settled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2405231646292913"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30D"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1716454032000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ordId</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>subOrdId</td>
<td>String</td>
<td>子订单ID</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>子订单状态</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>子订单币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>子订单出借数量</td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>子订单出借年化利率，小数形式，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td>term</td>
<td>String</td>
<td>子订单借贷期限，如 <code>30D</code></td>
</tr>
<tr>
<td>expiryTime</td>
<td>String</td>
<td>子订单到期时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>totalInterest</td>
<td>String</td>
<td>子订单总收益</td>
</tr>
<tr>
<td>accruedInterest</td>
<td>String</td>
<td>子订单应计利息</td>
</tr>
<tr>
<td>earlyTerminatedPenalty</td>
<td>String</td>
<td>子订单提前还币罚息</td>
</tr>
<tr>
<td>overdueInterest</td>
<td>String</td>
<td>子订单逾期罚息</td>
</tr>
<tr>
<td>finalSettlementTime</td>
<td>String</td>
<td>子订单强制偿还时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>settledTime</td>
<td>String</td>
<td>子订单实际结算时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>cTime</td>
<td>String</td>
<td>子订单创建时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td>uTime</td>
<td>String</td>
<td>子订单更新时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h2 id="financial-product-flexible-loan">活期借币 </h2>
<p>欧易活期借币是一款高端借贷产品，用户无需变卖数字货币即可增加现金流。<a href="https://www.okx.com/loan">了解更多</a></p>
<h3 id="financial-product-flexible-loan-get-borrowable-currencies">GET / 可借币种列表 </h3>
<p>获取可借币种列表</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/flexible-loan/borrow-currencies</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/flexible-loan/borrow-currencies
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"borrowCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"borrowCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>borrowCcy</td>
<td>String</td>
<td>可借币种，如 <code>BTC</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-flexible-loan-get-collateral-assets">GET / 可抵押资产 </h3>
<p>获取可抵押资产信息（仅支持资金账户中的资产）</p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/flexible-loan/collateral-assets</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/flexible-loan/collateral-assets
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.7921483143067599"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"158292.621793314105231"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.9400755578876945"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6325.6652712507628946"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63.9795959720319628"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64.3650372635940345"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>Array of object</td>
<td>可抵押资产信息</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>可用数量</td>
</tr>
<tr>
<td>&gt; notionalUsd</td>
<td>String</td>
<td>可抵押资产的美金价值</td>
</tr>
</tbody></table>
<h3 id="financial-product-flexible-loan-post-maximum-loan-amount">POST / 最大可借 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/finance/flexible-loan/max-loan</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/flexible-loan/max-loan
body
<span class="o">{</span>
    <span class="s2">"borrowCcy"</span>: <span class="s2">"USDT"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">borrowCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">借币币种，如 <code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">supCollateral</td>
<td style="text-align: left">Array of object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">补充抵押资产信息</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"borrowCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLoan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01113"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"notionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01113356"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"remainingQuota"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3395000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>borrowCcy</td>
<td>String</td>
<td>借币币种，如 <code>USDT</code></td>
</tr>
<tr>
<td>maxLoan</td>
<td>String</td>
<td>最大可借数量</td>
</tr>
<tr>
<td>notionalUsd</td>
<td>String</td>
<td>最大可借美元价值</td>
</tr>
<tr>
<td>remainingQuota</td>
<td>String</td>
<td>剩余可借额度，单位为<code>borrowCcy</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-flexible-loan-get-maximum-collateral-redeem-amount">GET / 抵押物最大可赎回数量 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/flexible-loan/max-collateral-redeem-amount</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/flexible-loan/max-collateral-redeem-amount?ccy<span class="o">=</span>USDT

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">抵押物币种，如 <code>USDT</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxRedeemAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>ccy</td>
<td>String</td>
<td>抵押物币种，如 <code>USDT</code></td>
</tr>
<tr>
<td>maxRedeemAmt</td>
<td>String</td>
<td>抵押物最大可赎回数量</td>
</tr>
</tbody></table>
<h3 id="financial-product-flexible-loan-post-adjust-collateral">POST / 调整抵押物 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="cf60d96633">权限：交易</h4><h4 id="http">HTTP请求</h4>
<p><code>POST /api/v5/finance/flexible-loan/adjust-collateral</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>POST /api/v5/finance/flexible-loan/adjust-collateral
body
<span class="o">{</span>
    <span class="s2">"type"</span>:<span class="s2">"add"</span>,
    <span class="s2">"collateralCcy"</span>: <span class="s2">"BTC"</span>,
    <span class="s2">"collateralAmt"</span>: <span class="s2">"0.1"</span>
<span class="o">}</span>

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作类型<br><code>add</code>：补充抵押物<br><code>reduce</code>：减少抵押物</td>
</tr>
<tr>
<td style="text-align: left">collateralCcy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">抵押物币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">collateralAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">抵押物数量</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<p>code = <code>0</code> 代表请求已被接受(不代表处理成功)</p>
<h3 id="financial-product-flexible-loan-get-loan-info">GET / 借贷信息 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/flexible-loan/loan-info</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/flexible-loan/loan-info
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div>
<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"collateralData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000097"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.78"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STX"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05357864"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LUNA"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"collateralNotionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5078763"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"curLTV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5742"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"liqLTV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8374"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"loanData"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.86590608"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"loanNotionalUsd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8661285"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCallLTV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.7374"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"riskWarningData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"liqPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>loanNotionalUsd</td>
<td>String</td>
<td>借币资产美金价值</td>
</tr>
<tr>
<td>loanData</td>
<td>Array of object</td>
<td>借币数据</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>借贷币种</td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>借贷数量</td>
</tr>
<tr>
<td>collateralNotionalUsd</td>
<td>String</td>
<td>抵押物美金价值</td>
</tr>
<tr>
<td>collateralData</td>
<td>Array of object</td>
<td>抵押资产数据</td>
</tr>
<tr>
<td>&gt; ccy</td>
<td>String</td>
<td>抵押币种</td>
</tr>
<tr>
<td>&gt; amt</td>
<td>String</td>
<td>抵押数量</td>
</tr>
<tr>
<td>riskWarningData</td>
<td>Object</td>
<td>风险预警信息</td>
</tr>
<tr>
<td>&gt; instId</td>
<td>String</td>
<td>清算交易产品，如 <code>BTC-USDT</code><br>仅当质押物和借币都只有一种时，该字段有效。其他情况返回""。</td>
</tr>
<tr>
<td>&gt; liqPx</td>
<td>String</td>
<td>清算价格<br>清算价格的单位为交易产品的计价币，如 <code>BTC-USDT</code>中的<code>USDT</code>。<br>仅当质押物和借币都只有一种时，该字段有效。其他情况返回""。</td>
</tr>
<tr>
<td>curLTV</td>
<td>String</td>
<td>当前质押率，如 <code>0.1</code>代表<code>10%</code><br>注：LTV(Loan-to-Value，贷款价值比)</td>
</tr>
<tr>
<td>marginCallLTV</td>
<td>String</td>
<td>预警质押率，如 <code>0.1</code>代表<code>10%</code><br>您的质押率达到预警质押率时，系统将会提示您当前质押率过高，即将触发强平。</td>
</tr>
<tr>
<td>liqLTV</td>
<td>String</td>
<td>强平质押率，如 <code>0.1</code>代表<code>10%</code><br>若您的借贷达到强平质押率并被强平，您将损失质押物及已完成的还款。</td>
</tr>
</tbody></table>
<h3 id="financial-product-flexible-loan-get-loan-history">GET / 借贷历史 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/flexible-loan/loan-history</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/flexible-loan/loan-history
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">操作类型<br><code>borrowed</code>：借入<br><code>repaid</code>：还币<br><code>collateral_locked</code>：锁定质押物<br><code>collateral_released</code>：释放质押物<br><code>forced_repayment_buy</code>：自动换币买入<br><code>forced_repayment_sell</code>：自动换币卖出<br><code>forced_liquidation</code>：强制平仓<br><code>partial_liquidation</code>：强制减仓</td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之前（更旧的数据）的分页内容，传的值为对应接口的<code>refId</code>（不包含）</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之后（更新的数据）的分页内容，传的值为对应接口的<code>refId</code>（不包含）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为<code>100</code>，默认<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17316594851045086"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1731659485000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collateral_locked"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>refId</td>
<td>String</td>
<td>对应记录ID</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>操作类型</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>amt</td>
<td>String</td>
<td>数量</td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>操作发生时间，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h3 id="financial-product-flexible-loan-get-accrued-interest">GET / 计息记录 </h3><h4 id="5-2s">限速：5次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/finance/flexible-loan/interest-accrued</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/finance/flexible-loan/interest-accrued
</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">借贷币种，如 <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">after</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之前（更旧的数据）的分页内容，传的值为对应接口的<code>refId</code>（不包含）</td>
</tr>
<tr>
<td style="text-align: left">before</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">请求此 ID 之后（更新的数据）的分页内容，传的值为对应接口的<code>refId</code>（不包含）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">返回结果的数量，最大为<code>100</code>，默认<code>100</code>条</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00004054"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interestRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.41"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"loan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.86599309"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"refId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17319133035195744"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1731913200000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td>refId</td>
<td>String</td>
<td>对应记录ID</td>
</tr>
<tr>
<td>ccy</td>
<td>String</td>
<td>币种，如 <code>BTC</code></td>
</tr>
<tr>
<td>loan</td>
<td>String</td>
<td>计息时负债</td>
</tr>
<tr>
<td>interest</td>
<td>String</td>
<td>利息</td>
</tr>
<tr>
<td>interestRate</td>
<td>String</td>
<td>小时利率，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td>ts</td>
<td>String</td>
<td>计息时间，Unix 时间戳为毫秒数格式，如 <code>1597026383085</code></td>
</tr>
</tbody></table>
<h1 id="affiliate">节点 </h1>
<p>节点API为节点用户提供灵活的直客查询功能，输入您直客的UID即可获得其相关信息，赋能您的节点业务增长和直客日常管理。
如需更多节点相关功能，或数据支持，请联系您的商务，我们会通过您的商务与您取得联系，提供更加完善的API支持。</p>
<h2 id="affiliate-rest-api">REST API </h2><h3 id="affiliate-rest-api-get-the-invitee-39-s-detail">获取被邀请人返佣信息 </h3><h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/affiliate/invitee/detail</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/affiliate/invitee/detail?uid<span class="o">=</span>11111111
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">被邀请人UID，仅支持使用被邀请人母账号的 UID<br>返回数据中涵盖了被邀请人母账户和子账户。</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"affiliateCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HIIIIII"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"depAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"firstTradeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inviteeLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inviteeRebateRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.39"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"joinTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1712546713000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"kycTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lv1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"越南"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalCommission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volMonth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">inviteeLv</td>
<td style="text-align: left">String</td>
<td style="text-align: left">被邀请人的节点层级<br>直客返回<code>2</code></td>
</tr>
<tr>
<td style="text-align: left">joinTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣关系建立的时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">inviteeRebateRate</td>
<td style="text-align: left">String</td>
<td style="text-align: left">返佣比例(小数形式)，如 <code>0.01</code>代表<code>1%</code></td>
</tr>
<tr>
<td style="text-align: left">totalCommission</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总返佣数量，单位为<code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">firstTradeTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">首次交易时间（在最近的返佣关系建立之后）<br> Unix时间戳的毫秒数格式，如 1597026383085<br>如果用户没有交易, 返回 ""</td>
</tr>
<tr>
<td style="text-align: left">level</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当前在平台上真实交易量的用户等级，例如 Lv1</td>
</tr>
<tr>
<td style="text-align: left">depAmt</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计充值金额，单位为 USDT<br>如果没有充值, 返回 0</td>
</tr>
<tr>
<td style="text-align: left">volMonth</td>
<td style="text-align: left">String</td>
<td style="text-align: left">当月累计交易量，单位为 USDT<br>如果没有交易, 返回 0</td>
</tr>
<tr>
<td style="text-align: left">accFee</td>
<td style="text-align: left">String</td>
<td style="text-align: left">累计交易手续费，单位为 USDT<br>如果没有交易手续费，返回 0</td>
</tr>
<tr>
<td style="text-align: left">kycTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">KYC2 认证时间. Unix时间戳的毫秒数格式，且精确到天<br>如果没有通过 KYC2, 返回 ""</td>
</tr>
<tr>
<td style="text-align: left">region</td>
<td style="text-align: left">String</td>
<td style="text-align: left">国家或地区，如"英国"</td>
</tr>
<tr>
<td style="text-align: left">affiliateCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">节点邀请码</td>
</tr>
</tbody></table>
<h3 id="affiliate-rest-api-get-the-user-39-s-affiliate-rebate-information">获取用户的节点返佣信息 </h3>
<p>该接口即将下线，建议使用 <a href="https://www.okx.com/docs-v5/zh/#affiliate-rest-api-get-the-invitee-39-s-detail">获取被邀请人返佣信息</a><br></p>

<p>该接口用于节点查询用户的返佣信息</p>
<h4 id="20-2s">限速：20次/2s</h4><h4 id="userid">限速规则：UserID</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/users/partner/if-rebate</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/users/partner/if-rebate?apiKey<span class="o">=</span>86b02e93-67ab-497d-9970-8cce00a028c3
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">apiKey</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">用户的 API key，仅支持使用被邀请人母账号的 API key</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>参数名</strong></th>
<th style="text-align: left"><strong>类型</strong></th>
<th style="text-align: left"><strong>描述</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">用户是否与当前节点有邀请关系。 <code>true</code>, <code>false</code></td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是否有节点返佣<br><code>0</code> 有节点返佣<br><code>1</code> 没有节点返佣，因为调用该接口的账户不是节点身份<br><code>2</code> 没有节点返佣，因为不存在邀请/召回关系，如：api key不存在 <br><code>4</code> 没有节点返佣，因为用户的手续费等级大于等于VIP6</td>
</tr>
</tbody></table>
<h1 id="status">Status </h1><h2 id="status-get-status">GET / Status </h2>
<p>获取系统升级事件的状态。</p>

<p>由计划系统维护引起的短暂不可用（&lt;5秒）和WebSocket闪断连接（用户可以立即重连）将不会公布。此类维护只会在市场波动性低的时期进行。</p>
<h4 id="1-5s">限速：1次/5s</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/system/status</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/system/status

GET /api/v5/system/status?state<span class="o">=</span>canceled

</code></pre></div><div class="highlight"><pre class="highlight python tab-python" style="display: none;"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="kn">import</span> <span class="nn">okx.Status</span> <span class="k">as</span> <span class="n">Status</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"0"</span>  <span class="c1"># 实盘:0 , 模拟盘：1
</span><span class="n">statusAPI</span> <span class="o">=</span> <span class="n">Status</span><span class="p">.</span><span class="n">StatusAPI</span><span class="p">(</span>
    <span class="n">domain</span><span class="o">=</span><span class="s">"https://www.okx.com"</span><span class="p">,</span>
    <span class="n">flag</span><span class="o">=</span><span class="n">flag</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># 获取系统升级事件的状态
</span><span class="n">result</span> <span class="o">=</span> <span class="n">statusAPI</span><span class="p">.</span><span class="n">status</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4><h4 id="57e26a6943">请求示例</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">系统的状态<br><code>scheduled</code>：等待中<br><code>ongoing</code>：进行中<br><code>pre_open</code>：预开放<br><code>completed</code>：已完成<br><code>canceled</code>：已取消 <br>当维护时间过长，会存在预开放时间，一般持续10分钟左右。<br>不填写此参数，默认返回 等待中、进行中和预开放 的数据</td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672823400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672823520000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOpenBegin"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maintType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"env"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unified"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trading account system upgrade (in batches of accounts)"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">title</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统维护说明的标题</td>
</tr>
<tr>
<td style="text-align: left">state</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统维护的状态</td>
</tr>
<tr>
<td style="text-align: left">begin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统维护的开始时间，Unix时间戳的毫秒数格式 如：<code>1617788463867</code></td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">String</td>
<td style="text-align: left">交易全面开放的时间，Unix时间戳的毫秒数格式 如：<code>1617788463867</code> <br>在维护完成前，是预期结束时间；维护完成后，会变更为实际结束时间。</td>
</tr>
<tr>
<td style="text-align: left">preOpenBegin</td>
<td style="text-align: left">String</td>
<td style="text-align: left">预开放开始的时间，开放撤单、Post Only 下单和资金转入功能的时间</td>
</tr>
<tr>
<td style="text-align: left">href</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统维护详情的超级链接,若无返回值，默认值为空，如 ""</td>
</tr>
<tr>
<td style="text-align: left">serviceType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">服务类型<br><code>0</code>：WebSocket<br><code>5</code>：交易服务<br><code>6</code>：大宗交易<br><code>7</code>：策略交易<br><code>8</code>：交易服务 (按账户分批次)<br><code>9</code>：交易服务 (按产品分批次)<br><code>10</code>：价差交易<br><code>11</code>：跟单交易<br><code>99</code>：其他（如：停止部分产品交易）</td>
</tr>
<tr>
<td style="text-align: left">system</td>
<td style="text-align: left">String</td>
<td style="text-align: left">系统<br><code>unified</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">scheDesc</td>
<td style="text-align: left">String</td>
<td style="text-align: left">改期进度说明，如 <code>由 2021-01-26T16:30:00.000Z</code>改期到<code>2021-01-28T16:30:00.000Z</code></td>
</tr>
<tr>
<td style="text-align: left">maintType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">维护类型<br><code>1</code>：计划维护<br><code>2</code>：临时维护<br><code>3</code>：系统故障</td>
</tr>
<tr>
<td style="text-align: left">env</td>
<td style="text-align: left">String</td>
<td style="text-align: left">环境<br><code>1</code>：实盘<br><code>2</code>：模拟盘</td>
</tr>
</tbody></table>
<h2 id="status-ws-status-channel">WS / Status 频道 </h2>
<p>获取系统维护的状态，当系统维护状态改变，改期，以及修改结束时间时推送。首次订阅：”推送最新一条的变化数据“；后续每次有状态变化，推送变化的内容。</p>

<p>由计划系统维护引起的短暂不可用（&lt;5秒）和WebSocket闪断连接（用户可以立即重连）将不会公布。此类维护只会在市场波动性低的时期进行。</p>
<h4 id="url-path">URL Path</h4>
<p>/ws/v5/public</p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="o">{</span>
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"status"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><h4 id="1f9ac54b15">请求参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">操作<br><code>subscribe</code><br><code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array</td>
<td style="text-align: left">是</td>
<td style="text-align: left">请求订阅的频道列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名<br><code>status</code></td>
</tr>
</tbody></table>

<blockquote>
<p>成功返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>失败返回示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{&nbsp;</span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2">&nbsp;: </span><span class="se">\"</span><span class="s2">statuss</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">事件<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">否</td>
<td style="text-align: left">订阅的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">频道名</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误码</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">错误消息</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">是</td>
<td style="text-align: left">WebSocket连接ID</td>
</tr>
</tbody></table>

<blockquote>
<p>推送示例</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672823400000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672825980000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preOpenBegin"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unified"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maintType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"env"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trading account WebSocket system upgrade"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1672826038470"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="05fa60d3da">推送数据参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>订阅成功的频道</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>频道名</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array</td>
<td>订阅的数据</td>
</tr>
<tr>
<td style="text-align: left">&gt; title</td>
<td style="text-align: left">String</td>
<td>系统维护说明的标题</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td>系统的状态，<code>scheduled</code>:等待中 ; <code>ongoing</code>:进行中 ; <code>pre_open</code>:预开放；<code>completed</code>:已完成 <code>canceled</code>:  已取消 <br>当维护时间过长，会存在预开放时间，一般持续10分钟左右。</td>
</tr>
<tr>
<td style="text-align: left">&gt; begin</td>
<td style="text-align: left">String</td>
<td>系统维护的开始时间，Unix时间戳的毫秒数格式 如：<code>1617788463867</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; end</td>
<td style="text-align: left">String</td>
<td>交易全面开放的时间，Unix时间戳的毫秒数格式 如：<code>1617788463867</code> <br>在维护完成前，是预期结束时间；维护完成后，会变更为实际结束时间。</td>
</tr>
<tr>
<td style="text-align: left">&gt; preOpenBegin</td>
<td style="text-align: left">String</td>
<td>预开放开始的时间，开放撤单、Post Only 下单和资金转入功能的时间</td>
</tr>
<tr>
<td style="text-align: left">&gt; href</td>
<td style="text-align: left">String</td>
<td>系统维护详情的超级链接,若无返回值，默认值为空，如：“”</td>
</tr>
<tr>
<td style="text-align: left">&gt; serviceType</td>
<td style="text-align: left">String</td>
<td>服务类型， <code>0</code>：WebSocket ; <code>5</code>：交易服务；<code>6</code>：大宗交易；<code>7</code>：策略交易；<code>8</code>：交易服务 (按账户分批次)；<code>9</code>：交易服务 (按产品分批次)；<code>10</code>：价差交易；<code>11</code>：跟单交易；<code>99</code>：其他（如：停止部分产品交易）</td>
</tr>
<tr>
<td style="text-align: left">&gt; system</td>
<td style="text-align: left">String</td>
<td>系统，<code>unified</code>：交易账户</td>
</tr>
<tr>
<td style="text-align: left">&gt; scheDesc</td>
<td style="text-align: left">String</td>
<td>改期进度说明，如： <code>由 2021-01-26T16:30:00.000Z 改期到 2021-01-28T16:30:00.000Z</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maintType</td>
<td style="text-align: left">String</td>
<td>维护类型。<br><code>1</code>：计划维护；<code>2</code>：临时维护；<code>3</code>：系统故障</td>
</tr>
<tr>
<td style="text-align: left">&gt; env</td>
<td style="text-align: left">String</td>
<td>环境。<br><code>1</code>：实盘，<code>2</code>：模拟盘</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td>事件变更的推送时间，Unix时间戳的毫秒数格式，如：<code>1617788463867</code></td>
</tr>
</tbody></table>
<h1 id="announcement">公告  </h1><h2 id="announcement-get-announcements">GET / 公告 </h2>
<p>获取公告信息，以发布时间倒序排序，公告更新不会影响排序。每页默认有 20 条公告<br></p>

<p>请求头中 Accept-Language 设置为 en-US 时返回英文公告；设置为 zh-CN 时返回中文公告<br><br></p>

<p>该接口鉴权是可选的：<br></p>

<p>当 HTTP 请求头中有 OK-ACCESS-KEY 时，该接口会被视为私有接口且鉴权是必须的<br>
当 HTTP 请求头中没有 OK-ACCESS-KEY 时，该接口会被视为公共接口，不需要鉴权<br><br></p>

<p>当为公共接口时，响应根据请求 IP 进行限制<br>
当为私有接口时，响应会根据居住国家进行限制<br></p>
<h4 id="5-2s">限速：5次/2s</h4><h4 id="userid-ip">限速规则：UserID(私有接口时) 或者 IP (公共接口时)</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/support/announcements</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/support/announcements


</code></pre></div><h4 id="1f9ac54b15">请求参数</h4><h4 id="57e26a6943">请求示例</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">annType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">公告类型。仅支持传从"GET / 公告类型" 接口返回的公告类型<br> 不传时返回所有类型</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">String</td>
<td style="text-align: left">否</td>
<td style="text-align: left">查询页数. <br>默认为<code>1</code></td>
</tr>
</tbody></table>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"annType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"announcements-latest-announcements"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726128000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKX to delist KISHU margin trading pairs"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.okx.com/help/okx-to-delist-kishu-margin-trading-pairs"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"annType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"announcements-latest-announcements"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1725967800000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OKX completed MATIC token migration"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.okx.com/help/okx-completed-matic-token-migration"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"totalPage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">totalPage</td>
<td style="text-align: left">String</td>
<td style="text-align: left">总的页数</td>
</tr>
<tr>
<td style="text-align: left">details</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告列表</td>
</tr>
<tr>
<td style="text-align: left">&gt; title</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告标题</td>
</tr>
<tr>
<td style="text-align: left">&gt; annType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告类型</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告发布时间，Unix时间戳的毫秒数格式，如 <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; url</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告链接</td>
</tr>
</tbody></table>
<h2 id="announcement-get-announcement-types">GET / 公告类型 </h2>
<p>公共接口不需要鉴权<br></p>

<p>获取公告类型 </p>
<h4 id="1-2s">限速：1次/2s</h4><h4 id="ip">限速规则：IP</h4><h4 id="20b846b134">权限：读取</h4><h4 id="http">HTTP请求</h4>
<p><code>GET /api/v5/support/announcement-types</code></p>

<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell" style=""><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code>GET /api/v5/support/announcement-types

</code></pre></div><h4 id="1f9ac54b15">请求参数</h4><h4 id="57e26a6943">请求示例</h4>
<p>无</p>

<blockquote>
<p>返回结果</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><div class="copy-clipboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Copy to Clipboard</title><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"></path></svg></div><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"annType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"announcements-latest-announcements"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"annTypeDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Latest announcements"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"annType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"announcements-latest-events"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"annTypeDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Latest events"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="70bdef7e25">返回参数</h4>
<table><thead>
<tr>
<th style="text-align: left">参数名</th>
<th style="text-align: left">类型</th>
<th style="text-align: left">描述</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">annType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告类型</td>
</tr>
<tr>
<td style="text-align: left">annTypeDesc</td>
<td style="text-align: left">String</td>
<td style="text-align: left">公告类型描述</td>
</tr>
</tbody></table>
<h1 id="error-code">错误码 </h1><h2 id="error-code-rest-api">REST API </h2>
<p>REST API 错误码从 50000 到 59999</p>
<h3 id="error-code-rest-api-public">公共 </h3>
<p>错误码从 50000 到 53999</p>
<h4 id="64b57cadc4">通用类</h4>
<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>200</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>200</td>
<td>操作全部失败</td>
</tr>
<tr>
<td>2</td>
<td>200</td>
<td>批量操作部分成功</td>
</tr>
<tr>
<td>50000</td>
<td>400</td>
<td>POST请求的body不能为空</td>
</tr>
<tr>
<td>50001</td>
<td>503</td>
<td>服务暂时不可用，请稍后重试</td>
</tr>
<tr>
<td>50002</td>
<td>400</td>
<td>JSON 语法错误</td>
</tr>
<tr>
<td>50004</td>
<td>400</td>
<td>接口请求超时（不代表请求成功或者失败，请检查请求结果）</td>
</tr>
<tr>
<td>50005</td>
<td>410</td>
<td>接口已下线或无法使用</td>
</tr>
<tr>
<td>50006</td>
<td>400</td>
<td>无效的 Content-Type，请使用“application/JSON”格式</td>
</tr>
<tr>
<td>50007</td>
<td>200</td>
<td>用户被冻结</td>
</tr>
<tr>
<td>50008</td>
<td>200</td>
<td>用户不存在</td>
</tr>
<tr>
<td>50009</td>
<td>200</td>
<td>用户处于爆仓冻结</td>
</tr>
<tr>
<td>50010</td>
<td>200</td>
<td>用户ID为空</td>
</tr>
<tr>
<td>50011</td>
<td>200</td>
<td>用户请求频率过快，超过该接口允许的限额。请参考 API 文档并限制请求</td>
</tr>
<tr>
<td>50011</td>
<td>429</td>
<td>请求频率太高</td>
</tr>
<tr>
<td>50012</td>
<td>200</td>
<td>账户状态无效，请检查帐户的状态</td>
</tr>
<tr>
<td>50013</td>
<td>429</td>
<td>当前系统繁忙，请稍后重试</td>
</tr>
<tr>
<td>50014</td>
<td>400</td>
<td>必填参数{param0}不能为空</td>
</tr>
<tr>
<td>50015</td>
<td>400</td>
<td>参数{param0}和{param1}不能同时为空</td>
</tr>
<tr>
<td>50016</td>
<td>400</td>
<td>参数{param0}和{param1}不匹配</td>
</tr>
<tr>
<td>50017</td>
<td>200</td>
<td>当前仓位处于自动减仓 (ADL) 冻结中，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50018</td>
<td>200</td>
<td>{param0} 处于自动减仓 (ADL) 冻结中，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50019</td>
<td>200</td>
<td>当前账户处于自动减仓 (ADL) 冻结中，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50020</td>
<td>200</td>
<td>当前仓位处于强平冻结中，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50021</td>
<td>200</td>
<td>{param0} 处于强平冻结中，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50022</td>
<td>200</td>
<td>当前账户处于强平冻结中，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50023</td>
<td>200</td>
<td>资金费冻结，无法进行相关操作，请稍后重试</td>
</tr>
<tr>
<td>50024</td>
<td>200</td>
<td>参数{param0}和{param1}不能同时存在</td>
</tr>
<tr>
<td>50025</td>
<td>200</td>
<td>参数{param0}传值个数超过最大限制{param1}</td>
</tr>
<tr>
<td>50026</td>
<td>500</td>
<td>系统错误，请稍后重试</td>
</tr>
<tr>
<td>50027</td>
<td>200</td>
<td>当前账户已被限制交易，请联系客服处理</td>
</tr>
<tr>
<td>50028</td>
<td>200</td>
<td>账户异常无法下单</td>
</tr>
<tr>
<td>50029</td>
<td>200</td>
<td>你的账户已经触发风控体系，禁止交易该标的，请检查您在欧易注册的电子邮件以便我们的客服联系</td>
</tr>
<tr>
<td>50030</td>
<td>200</td>
<td>您没有使用此 API 接口的权限</td>
</tr>
<tr>
<td>50032</td>
<td>200</td>
<td>您的账户已设置禁止该币种交易，请确认后重试</td>
</tr>
<tr>
<td>50033</td>
<td>200</td>
<td>您的账户已设置禁止该业务线交易，请确认后重试</td>
</tr>
<tr>
<td>50035</td>
<td>403</td>
<td>该接口要求APIKey必须绑定IP</td>
</tr>
<tr>
<td>50036</td>
<td>200</td>
<td>expTime 不能早于当前系统时间，请调整 expTime 后重试</td>
</tr>
<tr>
<td>50037</td>
<td>200</td>
<td>订单已过期</td>
</tr>
<tr>
<td>50038</td>
<td>200</td>
<td>模拟交易不支持该功能</td>
</tr>
<tr>
<td>50039</td>
<td>200</td>
<td>时间戳分页时，不支持使用before参数</td>
</tr>
<tr>
<td>50040</td>
<td>200</td>
<td>操作频繁，请稍后重试</td>
</tr>
<tr>
<td>50041</td>
<td>200</td>
<td>用户 ID 未被列入白名单列表，请联系客服</td>
</tr>
<tr>
<td>50042</td>
<td>200</td>
<td>请求重复</td>
</tr>
<tr>
<td>50044</td>
<td>200</td>
<td>必须指定一种broker类型</td>
</tr>
<tr>
<td>50045</td>
<td>200</td>
<td>simPos 应为空。投资组合计算器纳入真实现货仓位时，暂不支持添加模拟仓位。</td>
</tr>
<tr>
<td>50046</td>
<td>200</td>
<td>该功能暂时无法使用，我们正在进行维护，请稍后重试</td>
</tr>
<tr>
<td>50047</td>
<td>200</td>
<td>{param0} 已经交割，对应的K线请使用{param1}查询</td>
</tr>
<tr>
<td>50048</td>
<td>200</td>
<td>切换对冲单元可能导致仓位风险水平升高，引起强制平仓。请调整仓位，使保证金处于安全状态。</td>
</tr>
<tr>
<td>50049</td>
<td>200</td>
<td>无仓位档位信息，该币种不支持杠杆交易</td>
</tr>
<tr>
<td>50050</td>
<td>200</td>
<td>您已开通期权交易服务，请勿重复开通</td>
</tr>
<tr>
<td>50051</td>
<td>200</td>
<td>由于您所在国家或地区的合规限制，您无法使用该功能</td>
</tr>
<tr>
<td>50052</td>
<td>200</td>
<td>根据当地的法律法规，您无法交易您选择的币种</td>
</tr>
<tr>
<td>50053</td>
<td>200</td>
<td>该功能只支持模拟盘</td>
</tr>
<tr>
<td>50055</td>
<td>200</td>
<td>资产重置失败，超过每日设置5次资产上限</td>
</tr>
<tr>
<td>50056</td>
<td>200</td>
<td>当前账户有交易挂单或持仓，请完成全部撤单/平仓后进行重置</td>
</tr>
<tr>
<td>50057</td>
<td>200</td>
<td>资产重置失败，请稍后重试</td>
</tr>
<tr>
<td>50058</td>
<td>200</td>
<td>该币种不支持资产重置</td>
</tr>
<tr>
<td>50059</td>
<td>200</td>
<td>继续下一步之前，请按照当地监管机构的要求完成额外步骤。您可以前往欧易网页端或 App 端了解详情。</td>
</tr>
<tr>
<td>50060</td>
<td>200</td>
<td>根据当地法律法规，您需要完成身份认证方可继续使用我们的服务。</td>
</tr>
<tr>
<td>50061</td>
<td>200</td>
<td>订单请求频率过快，超过账户允许的最高限额</td>
</tr>
<tr>
<td>50062</td>
<td>200</td>
<td>该功能暂不可用</td>
</tr>
<tr>
<td>50063</td>
<td>200</td>
<td>激活失败，您的体验金可能已过期或已激活</td>
</tr>
<tr>
<td>50064</td>
<td>200</td>
<td>借币系统暂不可用，请稍后再试</td>
</tr>
<tr>
<td>50067</td>
<td>200</td>
<td>当前接口不支持跨站交易功能</td>
</tr>
</tbody></table>
<h4 id="api">API 类</h4>
<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>50100</td>
<td>400</td>
<td>Api 已被冻结，请联系客服处理</td>
</tr>
<tr>
<td>50101</td>
<td>401</td>
<td>APIKey 与当前环境不匹配</td>
</tr>
<tr>
<td>50102</td>
<td>401</td>
<td>请求时间戳过期</td>
</tr>
<tr>
<td>50103</td>
<td>401</td>
<td>请求头"OK-ACCESS-KEY"不能为空</td>
</tr>
<tr>
<td>50104</td>
<td>401</td>
<td>请求头"OK-ACCESS-PASSPHRASE"不能为空</td>
</tr>
<tr>
<td>50105</td>
<td>401</td>
<td>请求头"OK-ACCESS-PASSPHRASE"错误</td>
</tr>
<tr>
<td>50106</td>
<td>401</td>
<td>请求头"OK-ACCESS-SIGN"不能为空</td>
</tr>
<tr>
<td>50107</td>
<td>401</td>
<td>请求头"OK-ACCESS-TIMESTAMP"不能为空</td>
</tr>
<tr>
<td>50108</td>
<td>401</td>
<td>券商ID不存在</td>
</tr>
<tr>
<td>50109</td>
<td>401</td>
<td>券商域名不存在</td>
</tr>
<tr>
<td>50110</td>
<td>401</td>
<td>您的IP{param0}不在APIKey绑定IP名单中 (您可以将您的IP加入到APIKey绑定白名单中)</td>
</tr>
<tr>
<td>50111</td>
<td>401</td>
<td>无效的OK-ACCESS-KEY</td>
</tr>
<tr>
<td>50112</td>
<td>401</td>
<td>无效的OK-ACCESS-TIMESTAMP</td>
</tr>
<tr>
<td>50113</td>
<td>401</td>
<td>无效的签名</td>
</tr>
<tr>
<td>50114</td>
<td>401</td>
<td>无效的授权</td>
</tr>
<tr>
<td>50115</td>
<td>405</td>
<td>无效的请求类型</td>
</tr>
<tr>
<td>50116</td>
<td>200</td>
<td>Fast API 只能创建一个 API key</td>
</tr>
<tr>
<td>50118</td>
<td>200</td>
<td>如需将 API key 绑定 App，经纪商需要提供 IP 才能加入白名单</td>
</tr>
<tr>
<td>50119</td>
<td>200</td>
<td>API key 不存在</td>
</tr>
<tr>
<td>50120</td>
<td>200</td>
<td>API key 权限不足</td>
</tr>
<tr>
<td>50121</td>
<td>200</td>
<td>您无权通过该 IP 地址 ({param0}) 访问</td>
</tr>
<tr>
<td>50122</td>
<td>200</td>
<td>下单金额必须超过最低金额限制</td>
</tr>
</tbody></table>
<h4 id="26212500e3">交易类</h4>
<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>51000</td>
<td>400</td>
<td>{param0}参数错误</td>
</tr>
<tr>
<td>51001</td>
<td>200</td>
<td>交易产品ID不存在</td>
</tr>
<tr>
<td>51002</td>
<td>200</td>
<td>交易产品ID不匹配指数</td>
</tr>
<tr>
<td>51003</td>
<td>200</td>
<td>ordId或clOrdId至少填一个</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{instId} 逐仓的开平仓模式下，当前下单张数、同方向持有仓位以及同方向挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前下单张数：{size}张，同方向持有仓位：{posNumber}张，同方向挂单张数：{pendingNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{instId}全仓的开平仓模式下，当前下单张数、多空持有仓位以及多空挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前下单张数：{size}张，多空持有仓位{posLongShortNumber}张，多空挂单张数：{pendingLongShortNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{businessType}和交易品种{instFamily}的全仓开平仓模式下，当前下单张数、当前合约多空持有仓位、当前合约多空挂单张数以及其他合约占用额度之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前下单张数：{size}张，当前合约多空持有仓位：{posLongShortNumber}张，当前合约多空挂单张数：{pendingLongShortNumber}张，其他合约占用额度：{otherQuote}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{instId}的买卖模式下，当前买入张数、持有仓位、以及买入挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前买入张数：{size}张，持有仓位：{posNumber}张，买入挂单张数：{pendingNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{instId}的买卖模式下，当前卖出张数、持有仓位以及卖出挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前卖出张数：{size}张，持有仓位：{posNumber}张，卖出挂单张数：{pendingNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{businessType}和交易品种{instFamily}的全仓买卖模式下，当前买入张数、当前合约持有仓位、当前合约买入挂单张数以及其他合约占用额度之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前买入张数：{size}张，当前合约持有仓位：{posNumber}张，当前合约买入挂单张数：{pendingNumber}张，其他合约占用额度：{otherQuota}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>下单失败，您在{businessType}和交易品种{instFamily}的全仓买卖模式下，当前卖出张数、当前合约持有仓位、当前合约卖出挂单张数以及其他合约占用额度之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前卖出张数：{size}张，当前合约持有仓位：{posNumber}张，当前合约卖出挂单张数：{pendingNumber}张，其他合约占用额度：{otherQuota}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{instId} 逐仓的开平仓模式下，当前改单新增张数、同方向持有仓位以及同方向挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前改单新增张数：{size}张，同方向持有仓位：{posNumber}张，同方向挂单张数：{pendingNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{instId}全仓的开平仓模式下，当前改单新增张数、多空持有仓位以及多空挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前改单新增张数：{size}张，多空持有仓位{posLongShortNumber}张，多空挂单张数：{pendingLongShortNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{businessType}和交易品种{instFamily}的全仓开平仓模式下，当前改单新增张数、当前合约多空持有仓位、当前合约多空挂单张数以及其他合约占用额度之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，当前改单新增张数：{size}张，当前合约多空持有仓位：{posLongShortNumber}张，当前合约多空挂单张数：{pendingLongShortNumber}张，其他合约占用额度：{otherQuote}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{instId}的买卖模式下，修改当前买单新增张数、持有仓位、以及买入挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，修改当前买单新增张数：{size}张，持有仓位：{posNumber}张，买入挂单张数：{pendingNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{instId}的买卖模式下，修改当前卖单新增张数、持有仓位以及卖出挂单张数之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，修改当前卖单新增张数：{size}张，持有仓位：{posNumber}张，卖出挂单张数：{pendingNumber}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{businessType}和交易品种{instFamily}的全仓买卖模式下，修改当前买单新增张数、当前合约持有仓位、当前合约买入挂单张数以及其他合约占用额度之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，修改当前买单新增张数：{size}张，当前合约持有仓位：{posNumber}张，当前合约买入挂单张数：{pendingNumber}张，其他合约占用额度：{otherQuota}张)。</td>
</tr>
<tr>
<td>51004</td>
<td>200</td>
<td>修改订单失败，您在{businessType}和交易品种{instFamily}的全仓买卖模式下，修改当前卖单新增张数、当前合约持有仓位、当前合约卖出挂单张数以及其他合约占用额度之和，不能超过当前杠杆倍数允许的持仓上限{tierLimitQuantity}(张)，请调低杠杆或者使用新的子账户重新下单(当前杠杆：{leverage}×，修改当前卖单新增张数：{size}张，当前合约持有仓位：{posNumber}张，当前合约卖出挂单张数：{pendingNumber}张，其他合约占用额度：{otherQuota}张)。</td>
</tr>
<tr>
<td>51005</td>
<td>200</td>
<td>委托数量大于单笔上限</td>
</tr>
<tr>
<td>51006</td>
<td>200</td>
<td>委托价格不在限价范围内（最高买入价：{param0}，最低卖出价：{param1}）</td>
</tr>
<tr>
<td>51007</td>
<td>200</td>
<td>委托失败，委托数量不可小于 1 张</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，账户 {param0} 可用余额不足</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，账户 {param0} 可用保证金不足</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，账户 {param0} 可用余额不足，且未开启自动借币</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，账户 {param0} 可用保证金不足，且未开启自动借币（PM模式也可以尝试IOC订单降低风险）</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，因为 {param0} 剩余的档位限额不足，导致可借不足（限价挂单以及当前下单需借：{param1}， 剩余额度{param2}，限额 {param3}，已用额度{param4}）</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，因为 {param0} 剩余的限额（母账户限额+当前账户锁定的尊享借币额度）不足，导致可借不足（限价挂单以及当前下单需借 {param1}，剩余额度 {param2}，限额 {param3}，已用额度 {param4}）</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，因为 {param0} 剩余的币对限额不足，导致可借不足</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，因为 {param0} 剩余的借贷池限额不足，导致可借不足</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，账户资产不足，美金层面有效保证金小于 IMR（PM模式也可以尝试IOC订单降低风险）</td>
</tr>
<tr>
<td>51008</td>
<td>200</td>
<td>委托失败，delta 校验未通过，因为若成功下单，adjEq 的变化值将小于 IMR 的变化值。建议增加 adjEq 或减少 IMR 占用（PM模式也可以尝试IOC订单降低风险）</td>
</tr>
<tr>
<td>51009</td>
<td>200</td>
<td>下单功能被冻结，请联系客服进行处理</td>
</tr>
<tr>
<td>51010</td>
<td>200</td>
<td>当前账户模式不支持此操作</td>
</tr>
<tr>
<td>51011</td>
<td>200</td>
<td>ordId重复</td>
</tr>
<tr>
<td>51012</td>
<td>200</td>
<td>币种不存在</td>
</tr>
<tr>
<td>51014</td>
<td>200</td>
<td>指数不存在</td>
</tr>
<tr>
<td>51015</td>
<td>200</td>
<td>instId和instType不匹配</td>
</tr>
<tr>
<td>51016</td>
<td>200</td>
<td>clOrdId重复</td>
</tr>
<tr>
<td>51017</td>
<td>200</td>
<td>杠杆委托交易借币超出限额</td>
</tr>
<tr>
<td>51018</td>
<td>200</td>
<td>期权交易账户不能有净开空持仓</td>
</tr>
<tr>
<td>51019</td>
<td>200</td>
<td>期权全仓不能有净开多持仓</td>
</tr>
<tr>
<td>51020</td>
<td>200</td>
<td>委托数量必须超过单笔下限</td>
</tr>
<tr>
<td>51021</td>
<td>200</td>
<td>币对或合约待上线</td>
</tr>
<tr>
<td>51022</td>
<td>200</td>
<td>合约暂停中</td>
</tr>
<tr>
<td>51023</td>
<td>200</td>
<td>仓位不存在</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>交易账户冻结</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据服务条款，我们很遗憾地通知您，我们无法为您提供服务。如果您有任何问题，请联系我们的客服。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据您的要求，该账号已被冻结，如有问题请及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账户近期做了相关安全设置变更，为保证您的资金安全，暂无法进行此操作，如有问题请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账户已完成全部资产支取，为保证您的信息安全，该账户已永久冻结，若有问题，请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的认证信息疑似存在安全风险，为保证您的资金安全，暂无法进行此操作，请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的认证信息不符合年龄规定，为保证您的资金安全，暂无法进行此操作，请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据合规要求，您的认证国家或地区已禁止交易，您可以平掉所有仓位。如有问题请及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的认证信息疑似存在多次认证，为保证您的资金安全，暂无法进行此操作，请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账户已被司法冻结，暂无法进行此操作，如有问题请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>无法进行此操作。请首先解决您现有的 C2C申诉。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账户疑似存在合规风险，为保证您的资金安全，暂无法进行此操作，请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据您的交易需求，暂无法进行此操作，如有问题请及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>由于您的账户触发平台风控，暂无法进行此操作，有疑问请您联系客服。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>此账户暂无法使用，有任何疑问您可以联系客服。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>此账户提币功能暂无法使用，有任何疑问您可以联系客服。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>此账户资金账户划转功能暂无法使用，有任何疑问您可以联系客服。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>因您进行法币交易时违反了《平台法币交易规则》，故不再为您提供法币交易功能的相关服务，您账户的充币提币以及其他交易功能不受影响。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>请注意查收邮件内容，回复认证团队发送邮件，有任何问题，请联系认证团队。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据您的要求，该账号已被关闭，如有问题请及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账户疑似存在安全风险，为保证您的资金安全，暂无法进行此操作，请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账户疑似存在安全风险，暂无法兑换，请您及时联系客服处理</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的账号已冻结，部分功能将被禁用，如您希望解除账号限制，请前往帮助中心联系平台客服。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据合规要求，您的认证国家或地区已禁止交易，您可以撤销已有的订单。如有问题请及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>您的认证国家为交易禁止国，根据合规要求，暂无法进行此操作，如有问题请您及时联系客服处理。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>根据当地法律法规，您所在的国家或地区无法使用该产品。如果您的常居住地不是本国家或地区，并持有有效身份证件，您可继续使用欧易的交易所产品。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>请注意您在建立托管交易子账户后的前30分钟内可能无法划转或进行交易，请耐心等待并稍后再试。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>此功能暂不可用，完成高级身份认证后即可正常使用</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>由于您未能及时更新认证信息，您账户的充币与交易功能已受限。请尽快更新认证，以解除账户限制。</td>
</tr>
<tr>
<td>51024</td>
<td>200</td>
<td>超出限制的子账户不能开仓，只能减仓或平仓，请尝试使用其他账户进行交易。</td>
</tr>
<tr>
<td>51025</td>
<td>200</td>
<td>委托笔数超限</td>
</tr>
<tr>
<td>51026</td>
<td>200</td>
<td>交易产品类型不匹配指数（instType和uly不匹配）</td>
</tr>
<tr>
<td>51027</td>
<td>200</td>
<td>合约已到期</td>
</tr>
<tr>
<td>51028</td>
<td>200</td>
<td>合约交割中</td>
</tr>
<tr>
<td>51029</td>
<td>200</td>
<td>合约结算中</td>
</tr>
<tr>
<td>51030</td>
<td>200</td>
<td>资金费结算中</td>
</tr>
<tr>
<td>51031</td>
<td>200</td>
<td>委托价格不在平仓限价范围内</td>
</tr>
<tr>
<td>51032</td>
<td>200</td>
<td>市价全平中</td>
</tr>
<tr>
<td>51033</td>
<td>200</td>
<td>币对单笔交易已达限额</td>
</tr>
<tr>
<td>51034</td>
<td>200</td>
<td>成交速率超出您所设置的上限，请将做市商保护状态重置为 inactive 以继续交易。</td>
</tr>
<tr>
<td>51035</td>
<td>200</td>
<td>用户没有做市订单的下单权限</td>
</tr>
<tr>
<td>51036</td>
<td>200</td>
<td>仅 PM 账户的期权业务线支持 MMP 类型订单</td>
</tr>
<tr>
<td>51411</td>
<td>200</td>
<td>用户没有执行mass cancel的权限</td>
</tr>
<tr>
<td>51042</td>
<td>200</td>
<td>PM 账户模式下，期权仅支持持仓模式为全仓的 MMP 类型订单</td>
</tr>
<tr>
<td>51043</td>
<td>200</td>
<td>该逐仓仓位不存在</td>
</tr>
<tr>
<td>59509</td>
<td>200</td>
<td>用户没有重置做市商保护状态的权限</td>
</tr>
<tr>
<td>51037</td>
<td>200</td>
<td>当前账户风险状态，仅支持降低账户风险方向的IOC订单</td>
</tr>
<tr>
<td>51038</td>
<td>200</td>
<td>当前风险模块下已经存在降低账户风险方向的IOC类型订单</td>
</tr>
<tr>
<td>51039</td>
<td>200</td>
<td>PM账户下交割和永续的全仓不能调整杠杆倍数</td>
</tr>
<tr>
<td>51040</td>
<td>200</td>
<td>期权逐仓的买方不能调整保证金</td>
</tr>
<tr>
<td>51041</td>
<td>200</td>
<td>PM账户仅支持买卖模式</td>
</tr>
<tr>
<td>51044</td>
<td>200</td>
<td>当前订单类型{param0}， {param1}不支持设置止盈和止损</td>
</tr>
<tr>
<td>51046</td>
<td>200</td>
<td>止盈触发价格应该大于委托价格</td>
</tr>
<tr>
<td>51047</td>
<td>200</td>
<td>止损触发价格应该小于委托价格</td>
</tr>
<tr>
<td>51048</td>
<td>200</td>
<td>止盈触发价格应该小于委托价格</td>
</tr>
<tr>
<td>51049</td>
<td>200</td>
<td>止损触发价格应该大于委托价格</td>
</tr>
<tr>
<td>51050</td>
<td>200</td>
<td>止盈触发价格应该大于卖一价</td>
</tr>
<tr>
<td>51051</td>
<td>200</td>
<td>止损触发价格应该小于卖一价</td>
</tr>
<tr>
<td>51052</td>
<td>200</td>
<td>止盈触发价格应该小于买一价</td>
</tr>
<tr>
<td>51053</td>
<td>200</td>
<td>止损触发价格应该大于买一价</td>
</tr>
<tr>
<td>51054</td>
<td>500</td>
<td>请求超时，请稍候重试</td>
</tr>
<tr>
<td>51055</td>
<td>200</td>
<td>组合保证金模式暂不支持合约网格</td>
</tr>
<tr>
<td>51056</td>
<td>200</td>
<td>当前策略不支持该操作</td>
</tr>
<tr>
<td>51057</td>
<td>200</td>
<td>当前账户模式暂不支持此交易策略，请前往“交易设置 &gt; 账户模式”进行切换</td>
</tr>
<tr>
<td>51058</td>
<td>200</td>
<td>该策略无仓位</td>
</tr>
<tr>
<td>51059</td>
<td>200</td>
<td>策略当前状态不支持此操作</td>
</tr>
<tr>
<td>51065</td>
<td>200</td>
<td>algoClOrdId 重复</td>
</tr>
<tr>
<td>51066</td>
<td>200</td>
<td>期权交易不支持市价单，请用限价单平仓</td>
</tr>
<tr>
<td>51068</td>
<td>200</td>
<td>{param0} 已经在 algoClOrdId 和 attachAlgoClOrdId 中存在。</td>
</tr>
<tr>
<td>51069</td>
<td>200</td>
<td>不存在该{param0}相关的期权合约</td>
</tr>
<tr>
<td>51070</td>
<td>200</td>
<td>您当前尚未达到升级至该账户模式的要求，请先在官方网站或APP完成账户模式的升级。</td>
</tr>
<tr>
<td>51071</td>
<td>200</td>
<td>当前维护的标签维度倒计时全部撤单达到数量上限</td>
</tr>
<tr>
<td>51072</td>
<td>200</td>
<td>您当前身份为现货带单员，设置的带单币对买入时，tdMode 需要使用 spot_isolated</td>
</tr>
<tr>
<td>51073</td>
<td>200</td>
<td>您当前身份为现货带单员，卖出带单资产需要使用'/copytrading/close-subposition'接口</td>
</tr>
<tr>
<td>51074</td>
<td>200</td>
<td>仅现货带单员设置的带单币对支持使用 tdMode：spot_isolated</td>
</tr>
<tr>
<td>51075</td>
<td>200</td>
<td>现货跟单平仓单只支持修改价格，不支持修改数量</td>
</tr>
<tr>
<td>51076</td>
<td>200</td>
<td>分批止盈的每笔止盈止损订单仅支持单向止盈止损，slTriggerPx&amp;slOrdPx 与 tpTriggerPx&amp;tpOrdPx 只能填写一组</td>
</tr>
<tr>
<td>51077</td>
<td>200</td>
<td>现货和杠杆暂不支持多笔止盈和成交价止损</td>
</tr>
<tr>
<td>51078</td>
<td>200</td>
<td>您当前身份为带单交易员，不支持分批止盈</td>
</tr>
<tr>
<td>51079</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止盈委托单不能超过 {param0} 笔</td>
</tr>
<tr>
<td>51080</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止盈触发价类型 (tpTriggerPxType) 必须保持一致</td>
</tr>
<tr>
<td>51081</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止盈触发价 (tpTriggerPx) 不能相等</td>
</tr>
<tr>
<td>51082</td>
<td>200</td>
<td>同一笔订单上附带分批止盈，其中触发止盈的止盈委托价 (tpOrdPx) 只能是市价</td>
</tr>
<tr>
<td>51083</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止盈数量之和需要等于订单的委托数量</td>
</tr>
<tr>
<td>51084</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止损委托单不能超过 {param0} 笔</td>
</tr>
<tr>
<td>51085</td>
<td>200</td>
<td>附带止盈止损开启'开仓价止损'时 (amendPxOnTriggerType 设置为 1)，该笔订单上的止盈委托单必须大于等于 2 笔</td>
</tr>
<tr>
<td>51086</td>
<td>200</td>
<td>同一笔订单上附带止盈止损委托单不能超过 {param0} 笔</td>
</tr>
<tr>
<td>51538</td>
<td>200</td>
<td>若下单时使用了 attachAlgoOrds 参数，也需要使用 attachAlgoOrds 参数改单；若下单时没有使用 attachAlgoOrds 参数，则不支持使用 attachAlgoOrds 参数改单。</td>
</tr>
<tr>
<td>51539</td>
<td>200</td>
<td>修改同一笔订单上分批止盈中的止盈止损订单时，attachAlgoId 或者 attachAlgoClOrdId 的值不能重复</td>
</tr>
<tr>
<td>51527</td>
<td>200</td>
<td>改单失败，其中至少有一个附带的止盈止损订单不存在</td>
</tr>
<tr>
<td>51087</td>
<td>200</td>
<td>该币种取消上线，当前不支持交易</td>
</tr>
<tr>
<td>51088</td>
<td>200</td>
<td>对于同一个仓位，仅支持一笔全部平仓的止盈止损挂单</td>
</tr>
<tr>
<td>51089</td>
<td>200</td>
<td>在附带分批止盈时，止盈订单的数量不能为空</td>
</tr>
<tr>
<td>51090</td>
<td>200</td>
<td>对于绑定了限价止盈的止损订单，不允许修改其委托数量</td>
</tr>
<tr>
<td>51091</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止盈类型必须保持一致</td>
</tr>
<tr>
<td>51092</td>
<td>200</td>
<td>同一笔订单上附带分批止盈的止盈委托价不能相等</td>
</tr>
<tr>
<td>51093</td>
<td>200</td>
<td>同一笔订单上附带分批止盈，其中限价止盈的止盈委托价 (tpOrdPx) 不能为 –1 (市价)</td>
</tr>
<tr>
<td>51094</td>
<td>200</td>
<td>币币、杠杆和期权交易不支持限价止盈</td>
</tr>
<tr>
<td>51095</td>
<td>200</td>
<td>该接口下限价止盈订单时，也需要同时下一笔止损订单</td>
</tr>
<tr>
<td>51096</td>
<td>200</td>
<td>限价止盈时 cxlOnClosePos 需要为 true</td>
</tr>
<tr>
<td>51098</td>
<td>200</td>
<td>对于绑定了限价止盈的止损订单，不能添加新的止盈</td>
</tr>
<tr>
<td>51099</td>
<td>200</td>
<td>您当前身份为带单交易员，不支持下单限价止盈</td>
</tr>
<tr>
<td>51178</td>
<td>200</td>
<td>使用 attachAlgoClOrdId 时，tpTriggerPx&amp;tpOrdPx 或者 slTriggerPx&amp;slOrdPx 不能为空。</td>
</tr>
<tr>
<td>51100</td>
<td>200</td>
<td>下单失败，只减仓订单不能附带止盈止损。</td>
</tr>
<tr>
<td>51101</td>
<td>200</td>
<td>操作失败，单笔委托数量不能大于{maxSzPerOrder}(张)。</td>
</tr>
<tr>
<td>51102</td>
<td>200</td>
<td>操作失败，当前合约的累计挂单数量不能大于{maxNumberPerInstrument}(单)。</td>
</tr>
<tr>
<td>51103</td>
<td>200</td>
<td>操作失败，{businessType}的当前交易品种下，所有合约累计挂单数量不能大于{maxNumberPerInstFamily}(单)。</td>
</tr>
<tr>
<td>51104</td>
<td>200</td>
<td>操作失败，{businessType}的当前交易品种下，所有合约累计挂单张数不能大于{maxSzPerInstFamily} (张)。</td>
</tr>
<tr>
<td>51105</td>
<td>200</td>
<td>操作失败，当前合约的持仓张数和同方向挂单张数之和不能大于{maxPositionSzPerInstrument}(张)。</td>
</tr>
<tr>
<td>51106</td>
<td>200</td>
<td>操作失败，{businessType}的当前交易品种下，所有合约累计持仓张数和同方向挂单张数之和不能大于{maxPostionSzPerInstFamily51106}(张)。</td>
</tr>
<tr>
<td>51107</td>
<td>200</td>
<td>操作失败，{businessType}的当前交易品种下，所有合约累计持仓张数和双向挂单张数之和不能大于{maxPostionSzPerInstFamily51107}(张)。</td>
</tr>
<tr>
<td>51108</td>
<td>200</td>
<td>持仓量超过市价全平最大限制</td>
</tr>
<tr>
<td>51109</td>
<td>200</td>
<td>订单深度中无买一卖一价</td>
</tr>
<tr>
<td>51110</td>
<td>200</td>
<td>集合竞价开始后方可下限价单</td>
</tr>
<tr>
<td>51111</td>
<td>200</td>
<td>批量下单时，超过最大单数{param0}</td>
</tr>
<tr>
<td>51112</td>
<td>200</td>
<td>平仓张数大于该仓位的可平张数</td>
</tr>
<tr>
<td>51113</td>
<td>429</td>
<td>市价全平操作过于频繁</td>
</tr>
<tr>
<td>51115</td>
<td>429</td>
<td>市价全平前请先撤销所有平仓单</td>
</tr>
<tr>
<td>51116</td>
<td>200</td>
<td>委托价格或触发价格超过{param0}</td>
</tr>
<tr>
<td>51117</td>
<td>200</td>
<td>平仓单挂单单数超过限制</td>
</tr>
<tr>
<td>51120</td>
<td>200</td>
<td>下单数量不足{param0}张</td>
</tr>
<tr>
<td>51121</td>
<td>200</td>
<td>下单张数应为一手张数的倍数</td>
</tr>
<tr>
<td>51122</td>
<td>200</td>
<td>委托价格小于最小值{param0}</td>
</tr>
<tr>
<td>51123</td>
<td>200</td>
<td>最小价格增量为空</td>
</tr>
<tr>
<td>51124</td>
<td>200</td>
<td>价格发现期间您只可下限价单</td>
</tr>
<tr>
<td>51125</td>
<td>200</td>
<td>当前杠杆存在非只减仓挂单，请撤销所有非只减仓挂单后进行只减仓挂单</td>
</tr>
<tr>
<td>51126</td>
<td>200</td>
<td>当前杠杆存在只减仓挂单，请撤销所有只减仓挂单后进行非只减仓挂单</td>
</tr>
<tr>
<td>51127</td>
<td>200</td>
<td>仓位可用余额为0</td>
</tr>
<tr>
<td>51128</td>
<td>200</td>
<td>跨币种账户无法进行全仓杠杆交易</td>
</tr>
<tr>
<td>51129</td>
<td>200</td>
<td>持仓及买入订单价值已达到持仓限额，不允许继续买入</td>
</tr>
<tr>
<td>51130</td>
<td>200</td>
<td>逐仓杠杆保证金币种错误</td>
</tr>
<tr>
<td>51131</td>
<td>200</td>
<td>仓位可用余额不足</td>
</tr>
<tr>
<td>51132</td>
<td>200</td>
<td>仓位正资产小于最小交易单位</td>
</tr>
<tr>
<td>51133</td>
<td>200</td>
<td>跨币种全仓币币不支持只减仓功能</td>
</tr>
<tr>
<td>51134</td>
<td>200</td>
<td>平仓失败，您当前没有杠杆仓位，请关闭只减仓后继续</td>
</tr>
<tr>
<td>51135</td>
<td>200</td>
<td>您的平仓价格已触发限价，最高买入价格为{param0}</td>
</tr>
<tr>
<td>51136</td>
<td>200</td>
<td>您的平仓价格已触发限价，最低卖出价格为{param0}</td>
</tr>
<tr>
<td>51137</td>
<td>200</td>
<td>买单最高价为 {param0}，请调低价格</td>
</tr>
<tr>
<td>51138</td>
<td>200</td>
<td>卖单最低价为 {param0}，请调高价格</td>
</tr>
<tr>
<td>51139</td>
<td>200</td>
<td>现货模式下币币不支持只减仓功能</td>
</tr>
<tr>
<td>51140</td>
<td>200</td>
<td>由于盘口卖单不足，下单失败，请稍后重试</td>
</tr>
<tr>
<td>51142</td>
<td>200</td>
<td>盘口无有效报价，用USDT模式下单无法成交，请尝试切换到币种模式</td>
</tr>
<tr>
<td>51143</td>
<td>200</td>
<td>兑换数量不足</td>
</tr>
<tr>
<td>51144</td>
<td>200</td>
<td>请使用 {param0} 进行下单</td>
</tr>
<tr>
<td>51147</td>
<td>200</td>
<td>交易期权需要在交易账户资产总价值大于2万美元的前提下，开通期权交易服务</td>
</tr>
<tr>
<td>51148</td>
<td>200</td>
<td>下单失败，当前订单若下单成功会造成只减仓订单反向开仓，请撤销或修改原有挂单再进行下单</td>
</tr>
<tr>
<td>51149</td>
<td>500</td>
<td>下单超时，请稍候重试</td>
</tr>
<tr>
<td>51150</td>
<td>200</td>
<td>交易数量或价格的精度超过限制</td>
</tr>
<tr>
<td>51152</td>
<td>200</td>
<td>一键借币模式下，不支持自动借币与自动还币和手动类型混合下单。</td>
</tr>
<tr>
<td>51153</td>
<td>200</td>
<td>无法在一键借币模式下手动借币，您输入的金额已超过可借上限</td>
</tr>
<tr>
<td>51154</td>
<td>200</td>
<td>无法手动归还一键借币模式下的借币，您输入的还币金额已超过该币种可用余额</td>
</tr>
<tr>
<td>51155</td>
<td>200</td>
<td>由于您所在国家或地区的合规限制，您无法交易此币对或合约</td>
</tr>
<tr>
<td>51158</td>
<td>200</td>
<td>自主划转已不支持，请切换至一键借币模式下单 (isoMode=quick_margin)</td>
</tr>
<tr>
<td>51164</td>
<td>200</td>
<td>您当前身份为带单交易员，无法切换至组合保证金账户</td>
</tr>
<tr>
<td>51169</td>
<td>200</td>
<td>下单失败，当前合约无持仓，请先取消只减仓设置，再尝试下单</td>
</tr>
<tr>
<td>51170</td>
<td>200</td>
<td>下单失败，只减仓下单方向不能与持仓方向相同</td>
</tr>
<tr>
<td>51171</td>
<td>200</td>
<td>改单失败，当前订单若改单成功会造成只减仓订单反向开仓，请撤销或修改原有挂单再进行改单</td>
</tr>
<tr>
<td>51173</td>
<td>200</td>
<td>无法市价全平，当前仓位暂无负债</td>
</tr>
<tr>
<td>51174</td>
<td>200</td>
<td>操作失败，当前 {param0} 的累计挂单数量已达上限 {param1} (单)</td>
</tr>
<tr>
<td>51175</td>
<td>200</td>
<td>参数 {param0}、{param1} 和 {param2} 不能同时为空</td>
</tr>
<tr>
<td>51176</td>
<td>200</td>
<td>参数 {param0}、{param1} 和 {param2} 只能填写一个</td>
</tr>
<tr>
<td>51177</td>
<td>200</td>
<td>当前期权订单的价格类型为{param0}，不支持修改{param1}</td>
</tr>
<tr>
<td>51179</td>
<td>200</td>
<td>现货模式下，不支持使用{param0}进行期权下单。</td>
</tr>
<tr>
<td>51180</td>
<td>200</td>
<td>{param0}的范围应为({param1}, {param2})</td>
</tr>
<tr>
<td>51181</td>
<td>200</td>
<td>使用{param0}下单，ordType 只能为限价单 (limit)</td>
</tr>
<tr>
<td>51182</td>
<td>200</td>
<td>当前账户期权价格类型 pxUsd 和 pxVol 的挂单数量之和，不能超过 {param0} 个</td>
</tr>
<tr>
<td>51185</td>
<td>200</td>
<td>单笔订单价值不能超过 {maxOrderValue} USD</td>
</tr>
<tr>
<td>51186</td>
<td>200</td>
<td>下单失败。在当前保证金模式下，您针对 {param0} 的杠杠倍数设置为 {param1}x，大于平台允许的最大杠杠倍数 {param2}x，请调低杠杆。</td>
</tr>
<tr>
<td>51187</td>
<td>200</td>
<td>下单失败，您在 {param0} {param1} 和当前保证金模式下，当前下单张数、持仓及挂单张数之和 {param2}，已超过平台上限 {param3} 张，请修改当前订单数量，或撤单、平仓。</td>
</tr>
<tr>
<td>51192</td>
<td>200</td>
<td>输入IV值对应的 {param0} 期权价格超过最低卖价 {param1} {param2}，请重新输入合理的IV值。</td>
</tr>
<tr>
<td>51193</td>
<td>200</td>
<td>输入IV值对应的 {param0} 期权价格超过最高买价 {param1} {param2}，请重新输入合理的IV值。</td>
</tr>
<tr>
<td>51194</td>
<td>200</td>
<td>输入USD订单价格对应的 {param0} 期权价格超过最低卖价 {param1} {param2}，请重新输入合理的USD订单价格。</td>
</tr>
<tr>
<td>51195</td>
<td>200</td>
<td>输入USD订单价格对应的 {param0} 期权价格超过最高买价 {param1} {param2}，请重新输入合理的USD订单价格。</td>
</tr>
<tr>
<td>51201</td>
<td>200</td>
<td>市价委托单笔价值不能超过 1,000,000 USDT</td>
</tr>
<tr>
<td>51202</td>
<td>200</td>
<td>市价单下单数量超出最大值</td>
</tr>
<tr>
<td>51203</td>
<td>200</td>
<td>普通委托数量超出最大限制{param0}</td>
</tr>
<tr>
<td>51204</td>
<td>200</td>
<td>限价委托单价格不能为空</td>
</tr>
<tr>
<td>51205</td>
<td>200</td>
<td>不支持只减仓操作</td>
</tr>
<tr>
<td>51206</td>
<td>200</td>
<td>请先撤销当前下单产品{param0}的只减仓挂单，避免反向开仓</td>
</tr>
<tr>
<td>51207</td>
<td>200</td>
<td>交易数量超过限制，无法市价全平，请手动下单分批平仓</td>
</tr>
<tr>
<td>51220</td>
<td>200</td>
<td>分润策略仅支持策略停止时卖币或停止时全部平仓</td>
</tr>
<tr>
<td>51221</td>
<td>200</td>
<td>请输入 0-30% 范围内的指定分润比例</td>
</tr>
<tr>
<td>51222</td>
<td>200</td>
<td>该策略不支持分润</td>
</tr>
<tr>
<td>51223</td>
<td>200</td>
<td>当前状态您不可以进行分润带单</td>
</tr>
<tr>
<td>51224</td>
<td>200</td>
<td>该币对不支持分润</td>
</tr>
<tr>
<td>51225</td>
<td>200</td>
<td>分润跟单策略不支持手动立即触发策略</td>
</tr>
<tr>
<td>51226</td>
<td>200</td>
<td>分润跟单策略不支持修改策略参数</td>
</tr>
<tr>
<td>51250</td>
<td>200</td>
<td>策略委托价格不在正确范围内</td>
</tr>
<tr>
<td>51251</td>
<td>200</td>
<td>创建冰山委托时，策略委托类型错误</td>
</tr>
<tr>
<td>51252</td>
<td>200</td>
<td>策略委托数量不在正确范围内</td>
</tr>
<tr>
<td>51253</td>
<td>200</td>
<td>冰山委托单笔均值超限</td>
</tr>
<tr>
<td>51254</td>
<td>200</td>
<td>冰山委托单笔均值错误</td>
</tr>
<tr>
<td>51255</td>
<td>200</td>
<td>冰山委托单笔委托超限</td>
</tr>
<tr>
<td>51256</td>
<td>200</td>
<td>冰山委托深度错误</td>
</tr>
<tr>
<td>51257</td>
<td>200</td>
<td>跟踪委托回调服务错误，回调幅度限制为{min}&lt;x&lt;={max}%</td>
</tr>
<tr>
<td>51258</td>
<td>200</td>
<td>跟踪委托失败，卖单激活价格需大于最新成交价格</td>
</tr>
<tr>
<td>51259</td>
<td>200</td>
<td>跟踪委托失败，买单激活价格需小于最新成交价格</td>
</tr>
<tr>
<td>51260</td>
<td>200</td>
<td>每个用户最多可同时持有{param0}笔未成交的跟踪委托</td>
</tr>
<tr>
<td>51261</td>
<td>200</td>
<td>每个用户最多可同时持有{param0}笔未成交的止盈止损</td>
</tr>
<tr>
<td>51262</td>
<td>200</td>
<td>每个用户最多可同时持有{param0}笔未成交的冰山委托</td>
</tr>
<tr>
<td>51263</td>
<td>200</td>
<td>每个用户最多可同时持有{param0}笔未成交的时间加权单</td>
</tr>
<tr>
<td>51264</td>
<td>200</td>
<td>时间加权单笔均值超限</td>
</tr>
<tr>
<td>51265</td>
<td>200</td>
<td>时间加权单笔上限错误</td>
</tr>
<tr>
<td>51267</td>
<td>200</td>
<td>时间加权扫单比例出错</td>
</tr>
<tr>
<td>51268</td>
<td>200</td>
<td>时间加权扫单范围出错</td>
</tr>
<tr>
<td>51269</td>
<td>200</td>
<td>时间加权委托间隔错误，应为{min}&lt;=x&lt;={max}</td>
</tr>
<tr>
<td>51270</td>
<td>200</td>
<td>时间加权委托深度限制为 0&lt;x&lt;=1%</td>
</tr>
<tr>
<td>51271</td>
<td>200</td>
<td>时间加权委托失败，扫单比例应该为 0&lt;x&lt;=100%</td>
</tr>
<tr>
<td>51272</td>
<td>200</td>
<td>时间加权委托失败，扫单范围应该为 0&lt;x&lt;=1%</td>
</tr>
<tr>
<td>51273</td>
<td>200</td>
<td>时间加权委托总量应为大于 0</td>
</tr>
<tr>
<td>51274</td>
<td>200</td>
<td>时间加权委托总数量需大于单笔上限</td>
</tr>
<tr>
<td>51275</td>
<td>200</td>
<td>止盈止损市价单笔委托数量不能超过最大限制</td>
</tr>
<tr>
<td>51276</td>
<td>200</td>
<td>止盈止损市价单不能指定价格</td>
</tr>
<tr>
<td>51277</td>
<td>200</td>
<td>止盈触发价格不能大于最新成交价</td>
</tr>
<tr>
<td>51278</td>
<td>200</td>
<td>止损触发价格不能小于最新成交价</td>
</tr>
<tr>
<td>51279</td>
<td>200</td>
<td>止盈触发价格不能小于最新成交价</td>
</tr>
<tr>
<td>51280</td>
<td>200</td>
<td>止损触发价格不能大于最新成交价</td>
</tr>
<tr>
<td>51281</td>
<td>200</td>
<td>计划委托不支持使用tgtCcy参数</td>
</tr>
<tr>
<td>51282</td>
<td>200</td>
<td>吃单价优于盘口的比例范围</td>
</tr>
<tr>
<td>51283</td>
<td>200</td>
<td>时间间隔的范围{param0}s~{param1}s</td>
</tr>
<tr>
<td>51284</td>
<td>200</td>
<td>单笔数量的范围{param0}~{param1}</td>
</tr>
<tr>
<td>51285</td>
<td>200</td>
<td>委托总量的范围{param0}~{param1}</td>
</tr>
<tr>
<td>51286</td>
<td>200</td>
<td>下单金额需大于等于{param0}</td>
</tr>
<tr>
<td>51287</td>
<td>200</td>
<td>当前策略不支持此交易品种</td>
</tr>
<tr>
<td>51288</td>
<td>200</td>
<td>策略正在停止中，请勿重复点击</td>
</tr>
<tr>
<td>51289</td>
<td>200</td>
<td>策略配置不存在，请稍后再试</td>
</tr>
<tr>
<td>51290</td>
<td>200</td>
<td>策略引擎正在升级，请稍后重试</td>
</tr>
<tr>
<td>51291</td>
<td>200</td>
<td>策略不存在或已停止</td>
</tr>
<tr>
<td>51292</td>
<td>200</td>
<td>策略类型不存在</td>
</tr>
<tr>
<td>51293</td>
<td>200</td>
<td>策略不存在</td>
</tr>
<tr>
<td>51294</td>
<td>200</td>
<td>该策略暂不能创建，请稍后再试</td>
</tr>
<tr>
<td>51295</td>
<td>200</td>
<td>PM账户不支持ordType为{param0}的策略委托单</td>
</tr>
<tr>
<td>51298</td>
<td>200</td>
<td>交割、永续合约的买卖模式下，不支持计划委托</td>
</tr>
<tr>
<td>51299</td>
<td>200</td>
<td>策略委托失败，用户最多可持有{param0}笔该类型委托</td>
</tr>
<tr>
<td>51300</td>
<td>200</td>
<td>止盈触发价格不能大于标记价格</td>
</tr>
<tr>
<td>51302</td>
<td>200</td>
<td>止损触发价格不能小于标记价格</td>
</tr>
<tr>
<td>51303</td>
<td>200</td>
<td>止盈触发价格不能小于标记价格</td>
</tr>
<tr>
<td>51304</td>
<td>200</td>
<td>止损触发价格不能大于标记价格</td>
</tr>
<tr>
<td>51305</td>
<td>200</td>
<td>止盈触发价格不能大于指数价格</td>
</tr>
<tr>
<td>51306</td>
<td>200</td>
<td>止损触发价格不能小于指数价格</td>
</tr>
<tr>
<td>51307</td>
<td>200</td>
<td>止盈触发价格不能小于指数价格</td>
</tr>
<tr>
<td>51308</td>
<td>200</td>
<td>止损触发价格不能大于指数价格</td>
</tr>
<tr>
<td>51309</td>
<td>200</td>
<td>集合竞价期间不能创建策略</td>
</tr>
<tr>
<td>51310</td>
<td>200</td>
<td>逐仓自主划转保证金模式不支持ordType为iceberg、twap的策略委托单</td>
</tr>
<tr>
<td>51311</td>
<td>200</td>
<td>移动止盈止损委托失败，回调幅度限制为{min}&lt;x&lt;={max}</td>
</tr>
<tr>
<td>51312</td>
<td>200</td>
<td>移动止盈止损委托失败，委托数量范围{min}&lt;x&lt;={max}</td>
</tr>
<tr>
<td>51313</td>
<td>200</td>
<td>逐仓自主划转模式不支持策略部分</td>
</tr>
<tr>
<td>51317</td>
<td>200</td>
<td>币币杠杆不支持计划委托</td>
</tr>
<tr>
<td>51327</td>
<td>200</td>
<td>closeFraction 仅适用于交割合约和永续合约</td>
</tr>
<tr>
<td>51328</td>
<td>200</td>
<td>closeFraction 仅适用于只减仓订单</td>
</tr>
<tr>
<td>51329</td>
<td>200</td>
<td>closeFraction 仅适用于买卖模式</td>
</tr>
<tr>
<td>51330</td>
<td>200</td>
<td>closeFraction 仅适用于止盈止损市价订单</td>
</tr>
<tr>
<td>51331</td>
<td>200</td>
<td>closeFraction仅限于平仓单</td>
</tr>
<tr>
<td>51332</td>
<td>200</td>
<td>组合保证金模式不支持closeFraction</td>
</tr>
<tr>
<td>51333</td>
<td>200</td>
<td>开平模式下的平仓单或买卖模式下的只减仓单无法附带止盈止损</td>
</tr>
<tr>
<td>51340</td>
<td>200</td>
<td>投入保证金需大于{0}{1}</td>
</tr>
<tr>
<td>51341</td>
<td>200</td>
<td>当前策略状态下暂不支持平仓</td>
</tr>
<tr>
<td>51342</td>
<td>200</td>
<td>已有平仓单，请稍后重试</td>
</tr>
<tr>
<td>51343</td>
<td>200</td>
<td>止盈价格需小于区间最低价格</td>
</tr>
<tr>
<td>51344</td>
<td>200</td>
<td>止损价格需大于区间最高价格</td>
</tr>
<tr>
<td>51345</td>
<td>200</td>
<td>策略类型不是网格策略</td>
</tr>
<tr>
<td>51346</td>
<td>200</td>
<td>最高价格不能低于最低价格</td>
</tr>
<tr>
<td>51347</td>
<td>200</td>
<td>暂无可提取利润</td>
</tr>
<tr>
<td>51348</td>
<td>200</td>
<td>止损价格需小于区间最低价格</td>
</tr>
<tr>
<td>51349</td>
<td>200</td>
<td>止盈价格需大于区间最高价格</td>
</tr>
<tr>
<td>51350</td>
<td>200</td>
<td>暂无可推荐参数</td>
</tr>
<tr>
<td>51351</td>
<td>200</td>
<td>单格收益必须大于0</td>
</tr>
<tr>
<td>51352</td>
<td>200</td>
<td>币对数量范围{pairNum1} - {pairNum2}</td>
</tr>
<tr>
<td>51353</td>
<td>200</td>
<td>存在重复币对{existingPair}</td>
</tr>
<tr>
<td>51354</td>
<td>200</td>
<td>币对比例总和需等于100%</td>
</tr>
<tr>
<td>51355</td>
<td>200</td>
<td>定投日期范围{date1} - {date2}</td>
</tr>
<tr>
<td>51356</td>
<td>200</td>
<td>定投时间范围{0}~{1}</td>
</tr>
<tr>
<td>51357</td>
<td>200</td>
<td>时区范围 {timezone1} - {timezone2}</td>
</tr>
<tr>
<td>51358</td>
<td>200</td>
<td>每个币种的投入金额需大于{amount}</td>
</tr>
<tr>
<td>51359</td>
<td>200</td>
<td>暂不支持定投该币种{0}</td>
</tr>
<tr>
<td>51370</td>
<td>200</td>
<td>杠杆倍数范围{0}~{1}</td>
</tr>
<tr>
<td>51380</td>
<td>200</td>
<td>市场行情不符合策略配置</td>
</tr>
<tr>
<td>51381</td>
<td>200</td>
<td>单网格利润率不在区间内</td>
</tr>
<tr>
<td>51382</td>
<td>200</td>
<td>策略不支持停止信号触发</td>
</tr>
<tr>
<td>51383</td>
<td>200</td>
<td>最小价格必须小于最新成交价</td>
</tr>
<tr>
<td>51384</td>
<td>200</td>
<td>信号触发价格必须大于最小价格</td>
</tr>
<tr>
<td>51385</td>
<td>200</td>
<td>止盈价必须大于最小价格</td>
</tr>
<tr>
<td>51386</td>
<td>200</td>
<td>最小价格必须大于1/2最新成交价</td>
</tr>
<tr>
<td>51387</td>
<td>200</td>
<td>止损价格应小于无限网格的区间最低价</td>
</tr>
<tr>
<td>51388</td>
<td>200</td>
<td>策略已在运行中</td>
</tr>
<tr>
<td>51389</td>
<td>200</td>
<td>触发价格需小于{0}</td>
</tr>
<tr>
<td>51390</td>
<td>200</td>
<td>触发价格需小于止盈价格</td>
</tr>
<tr>
<td>51391</td>
<td>200</td>
<td>触发价格需大于止损价格</td>
</tr>
<tr>
<td>51392</td>
<td>200</td>
<td>止盈价格需大于触发价格</td>
</tr>
<tr>
<td>51393</td>
<td>200</td>
<td>止损价格需小于触发价格</td>
</tr>
<tr>
<td>51394</td>
<td>200</td>
<td>触发价格需大于止盈价格</td>
</tr>
<tr>
<td>51395</td>
<td>200</td>
<td>触发价格需小于止损价格</td>
</tr>
<tr>
<td>51396</td>
<td>200</td>
<td>止盈价格需小于触发价格</td>
</tr>
<tr>
<td>51397</td>
<td>200</td>
<td>止损价格需大于触发价格</td>
</tr>
<tr>
<td>51398</td>
<td>200</td>
<td>当前行情满足停止条件，无法创建策略</td>
</tr>
<tr>
<td>51399</td>
<td>200</td>
<td>当前杠杆下最大可投入金额为 {amountLimit} {quoteCurrency}，请减少投入金额后再试。</td>
</tr>
<tr>
<td>51400</td>
<td>200</td>
<td>由于订单已完成、已撤销或不存在，撤单失败</td>
</tr>
<tr>
<td>51400</td>
<td>200</td>
<td>撤单失败，订单不存在（仅适用于价差速递）</td>
</tr>
<tr>
<td>51401</td>
<td>200</td>
<td>撤单失败，订单已撤销（仅适用于价差速递）</td>
</tr>
<tr>
<td>51402</td>
<td>200</td>
<td>撤单失败，订单已完成（仅适用于价差速递）</td>
</tr>
<tr>
<td>51403</td>
<td>200</td>
<td>撤单失败，该委托类型无法进行撤单操作</td>
</tr>
<tr>
<td>51404</td>
<td>200</td>
<td>价格发现第二阶段您不可撤单</td>
</tr>
<tr>
<td>51405</td>
<td>200</td>
<td>撤单失败，您当前没有未成交的订单</td>
</tr>
<tr>
<td>51406</td>
<td>400</td>
<td>撤单数量超过最大允许单数{param0}</td>
</tr>
<tr>
<td>51407</td>
<td>200</td>
<td>ordIds 和 clOrdIds 不能同时为空</td>
</tr>
<tr>
<td>51408</td>
<td>200</td>
<td>币对 id 或币对名称与订单信息不匹配</td>
</tr>
<tr>
<td>51409</td>
<td>200</td>
<td>币对 id 或币对名称不能同时为空</td>
</tr>
<tr>
<td>51410</td>
<td>200</td>
<td>撤单失败，订单已处于撤销中</td>
</tr>
<tr>
<td>51411</td>
<td>200</td>
<td>用户没有执行mass cancel的权限</td>
</tr>
<tr>
<td>51412</td>
<td>200</td>
<td>撤单超时，请稍后重试</td>
</tr>
<tr>
<td>51416</td>
<td>200</td>
<td>委托已触发，暂不支持撤单</td>
</tr>
<tr>
<td>51413</td>
<td>200</td>
<td>撤单失败，接口不支持该委托类型的撤单</td>
</tr>
<tr>
<td>51415</td>
<td>200</td>
<td>下单失败，现货交易仅支持设置最新价为触发价格，请更改触发价格并重试</td>
</tr>
<tr>
<td>51416</td>
<td>200</td>
<td>委托已触发，暂不支持撤单</td>
</tr>
<tr>
<td>51500</td>
<td>200</td>
<td>价格、数量、止盈/止损不能同时为空</td>
</tr>
<tr>
<td>51501</td>
<td>400</td>
<td>修改订单超过最大允许单数{param0}</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，账户 {param0} 可用余额不足</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，账户 {param0} 可用保证金不足</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，账户 {param0} 可用余额不足，且未开启自动借币</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，账户 {param0} 可用保证金不足，且未开启自动借币（PM模式也可以尝试IOC订单降低风险）</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，因为 {param0} 剩余的档位限额不足，导致可借不足（限价挂单以及当前下单需借：{param1}， 剩余额度{param2}，限额 {param3}，已用额度{param4}。</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，因为 {param0} 剩余的档位限额不足，导致可借不足（限价挂单以及当前下单需借：{param1}， 剩余额度{param2}，限额 {param3}，已用额度{param4}。</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，因为 {param0} 剩余的限额（主账户限额+当前账户锁定的尊享借币额度）不足，导致可借不足（限价挂单以及当前下单需借 {param1}，剩余额度 {param2}，限额 {param3}，已用额度 {param4}。</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，因为 {param0} 剩余的币对限额不足，导致可借不足</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，因为 {param0} 剩余的借贷池限额不足，导致可借不足</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，账户资产不足，美元层面有效保证金小于 IMR（PM模式也可以尝试IOC订单降低风险）</td>
</tr>
<tr>
<td>51502</td>
<td>200</td>
<td>修改订单失败，delta 校验未通过，因为若成功下单，adjEq 的变化值将小于 IMR 的变化值。建议增加 adjEq 或减少 IMR 占用（PM模式也可以尝试IOC订单降低风险）</td>
</tr>
<tr>
<td>51503</td>
<td>200</td>
<td>由于订单已完成、已撤销或不存在，改单失败</td>
</tr>
<tr>
<td>51503</td>
<td>200</td>
<td>由于订单不存在，改单失败（仅适用于价差速递）</td>
</tr>
<tr>
<td>51505</td>
<td>200</td>
<td>{instId} 不处于集合竞价阶段</td>
</tr>
<tr>
<td>51506</td>
<td>200</td>
<td>订单类型不支持改单</td>
</tr>
<tr>
<td>51507</td>
<td>200</td>
<td>您仅能在币种上线至少 5 分钟后进行市价委托</td>
</tr>
<tr>
<td>51508</td>
<td>200</td>
<td>集合竞价第一阶段和第二阶段不允许改单</td>
</tr>
<tr>
<td>51509</td>
<td>200</td>
<td>修改订单失败,订单已撤销（仅适用于价差速递）</td>
</tr>
<tr>
<td>51510</td>
<td>200</td>
<td>修改订单失败,订单已完成（仅适用于价差速递）</td>
</tr>
<tr>
<td>51511</td>
<td>200</td>
<td>操作失败，订单价格不满足Post Only条件</td>
</tr>
<tr>
<td>51512</td>
<td>200</td>
<td>批量修改订单失败。同一批量改单请求中不允许包含相同订单。</td>
</tr>
<tr>
<td>51513</td>
<td>200</td>
<td>对于正在处理的同一订单，改单请求次数不得超过3次</td>
</tr>
<tr>
<td>51514</td>
<td>200</td>
<td>修改订单失败，价格长度不能超过 32 个字符</td>
</tr>
<tr>
<td>51521</td>
<td>200</td>
<td>改单失败，当前合约无持仓，无法修改只减仓订单</td>
</tr>
<tr>
<td>51522</td>
<td>200</td>
<td>改单失败，只减仓订单方向不能与持仓反向相同</td>
</tr>
<tr>
<td>51532</td>
<td>200</td>
<td>止盈止损已触发，无法改单</td>
</tr>
<tr>
<td>51524</td>
<td>200</td>
<td>不允许在全部仓位止盈止损单上修改委托数量，请修改触发价格</td>
</tr>
<tr>
<td>51525</td>
<td>200</td>
<td>一键借币止盈止损单不支持修改</td>
</tr>
<tr>
<td>51526</td>
<td>200</td>
<td>改单失败，止盈止损单不支持增加或删除止盈/止损</td>
</tr>
<tr>
<td>51527</td>
<td>200</td>
<td>改单失败，止盈止损订单不存在</td>
</tr>
<tr>
<td>51528</td>
<td>200</td>
<td>止盈止损不支持修改触发类型</td>
</tr>
<tr>
<td>51529</td>
<td>200</td>
<td>改单失败，只有交割、永续合约单可以修改止盈止损</td>
</tr>
<tr>
<td>51530</td>
<td>200</td>
<td>改单失败，只减仓订单不能附带止盈止损</td>
</tr>
<tr>
<td>51531</td>
<td>200</td>
<td>改单失败，止盈止损单修改必须保留一个方向</td>
</tr>
<tr>
<td>51536</td>
<td>200</td>
<td>期权的 pxVol 或者 pxUsd 订单不支持修改订单数量</td>
</tr>
<tr>
<td>51537</td>
<td>200</td>
<td>非期权产品不支持使用 pxUsd 或者 pxVol</td>
</tr>
<tr>
<td>51543</td>
<td>200</td>
<td>修改现货或杠杆的止盈止损订单时，仅支持调整价格和数量。如需其他操作，请撤单后重新下单。</td>
</tr>
<tr>
<td>51600</td>
<td>200</td>
<td>查询订单的状态不存在</td>
</tr>
<tr>
<td>51601</td>
<td>200</td>
<td>订单状态和订单id不能同时存在</td>
</tr>
<tr>
<td>51602</td>
<td>200</td>
<td>订单状态或订单id必须存在一个</td>
</tr>
<tr>
<td>51603</td>
<td>200</td>
<td>查询订单不存在</td>
</tr>
<tr>
<td>51604</td>
<td>200</td>
<td>若想获取文件链接，请先申请下载文件</td>
</tr>
<tr>
<td>51605</td>
<td>200</td>
<td>只允许下载过去两年内的历史成交明细文件</td>
</tr>
<tr>
<td>51606</td>
<td>200</td>
<td>无法下载当前季度的历史成交明细</td>
</tr>
<tr>
<td>51607</td>
<td>200</td>
<td>您已申请下载文件，当前状态为进行中</td>
</tr>
<tr>
<td>51608</td>
<td>200</td>
<td>当前季度无历史成交明细</td>
</tr>
<tr>
<td>51610</td>
<td>200</td>
<td>只允许下载 2021 年第一季度以来的历史账单流水</td>
</tr>
<tr>
<td>51611</td>
<td>200</td>
<td>无法下载当前季度的账单流水</td>
</tr>
<tr>
<td>51620</td>
<td>200</td>
<td>您不是节点用户，没有相关权限</td>
</tr>
<tr>
<td>51621</td>
<td>200</td>
<td>该用户不是您的直客</td>
</tr>
<tr>
<td>51156</td>
<td>200</td>
<td>您当前身份为带单交易员。在开平仓模式下，对于带单合约标的不支持使用该接口平仓</td>
</tr>
<tr>
<td>51159</td>
<td>200</td>
<td>您当前身份为带单交易员，在买卖模式下，如需使用该接口下单，委托的方向必须与现有持仓和挂单保持一致</td>
</tr>
<tr>
<td>51162</td>
<td>200</td>
<td>您当前有 {instrument} 挂单，请撤单后重试</td>
</tr>
<tr>
<td>51163</td>
<td>200</td>
<td>您当前有 {instrument} 持仓，请平仓后重试</td>
</tr>
<tr>
<td>51165</td>
<td>200</td>
<td>{instrument}只减仓订单数量已达上限 {upLimit}，请撤销部分订单后重新下单。</td>
</tr>
<tr>
<td>51166</td>
<td>200</td>
<td>当前产品不支持带单</td>
</tr>
<tr>
<td>51167</td>
<td>200</td>
<td>下单失败，因为您存在大宗交易的委托订单，请撤销后重新下单</td>
</tr>
<tr>
<td>51168</td>
<td>200</td>
<td>下单失败，因为您存在只减仓类型的委托订单，请撤销后重新下单</td>
</tr>
<tr>
<td>51320</td>
<td>200</td>
<td>币种占比范围 {PercentNum1}%-{PercentNum2}%</td>
</tr>
<tr>
<td>51321</td>
<td>200</td>
<td>您正在带单。暂不支持使用套利、冰山或时间加权 (TWAP) 策略带单</td>
</tr>
<tr>
<td>51322</td>
<td>200</td>
<td>您当前身份为带单交易员。您的带单合约持仓已经市价全平，系统已撤销止盈止损委托并进行平仓</td>
</tr>
<tr>
<td>51323</td>
<td>200</td>
<td>您当前身份为带单交易员。您的带单合约仓位已设置止盈止损，请先撤销原有止盈止损订单</td>
</tr>
<tr>
<td>51324</td>
<td>200</td>
<td>您当前身份为带单交易员，并持有 {instrument} 仓位。平仓委托张数需要与可平张数一致</td>
</tr>
<tr>
<td>51325</td>
<td>200</td>
<td>您当前身份为带单交易员。下止盈止损单时，请选择市价作为委托价格</td>
</tr>
<tr>
<td>51326</td>
<td>200</td>
<td>您当前身份为带单交易员，下止盈止损单时，委托价格类型必须为市价</td>
</tr>
<tr>
<td>51326</td>
<td>200</td>
<td>您当前身份为带单交易员，下止盈止损单时，委托价格类型必须为市价</td>
</tr>
<tr>
<td>54000</td>
<td>200</td>
<td>暂不支持币币杠杆业务</td>
</tr>
<tr>
<td>54001</td>
<td>200</td>
<td>只有跨币种全仓账户才能设置自动借币</td>
</tr>
<tr>
<td>54004</td>
<td>200</td>
<td>下单或改单失败，因为批量订单中的一个订单失败了</td>
</tr>
<tr>
<td>54005</td>
<td>200</td>
<td>盘前交割合约请使用逐仓进行交易</td>
</tr>
<tr>
<td>54006</td>
<td>200</td>
<td>盘前交易合约用户持仓上限为{posLimit}张</td>
</tr>
<tr>
<td>54007</td>
<td>200</td>
<td>不支持该产品 {instId}</td>
</tr>
<tr>
<td>54008</td>
<td>200</td>
<td>该操作被“撤销 MMP 订单”接口限制。请通过该接口解除限制。</td>
</tr>
<tr>
<td>54009</td>
<td>200</td>
<td>{param0}的范围应为 [{param1}，{param2}]</td>
</tr>
<tr>
<td>54011</td>
<td>200</td>
<td>盘前交易合约交割前 1 小时内仅允许减少仓位数量，请修改或撤销订单</td>
</tr>
<tr>
<td>54012</td>
<td>200</td>
<td>由于委托深度不足，我们现正采取措施以保护您的仓位，现时您可以撤单、增加仓位保证金、和下只挂订单。你的仓位不会被强制平仓。委托深度恢复后即可正常交易。</td>
</tr>
</tbody></table>
<h4 id="9ccde6bbfe">数据类</h4>
<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>52000</td>
<td>200</td>
<td>没有最新行情信息</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-finance">金融 </h3>
<p>错误码从 51700 到 51799</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>51720</td>
<td>200</td>
<td>赎回失败</td>
</tr>
<tr>
<td>51721</td>
<td>200</td>
<td>取消赎回失败</td>
</tr>
<tr>
<td>51722</td>
<td>200</td>
<td>赎回已到账</td>
</tr>
<tr>
<td>51723</td>
<td>200</td>
<td>不支持提前赎回</td>
</tr>
<tr>
<td>51724</td>
<td>200</td>
<td>当前状态不支持赎回</td>
</tr>
<tr>
<td>51725</td>
<td>200</td>
<td>当前状态不支持取消</td>
</tr>
<tr>
<td>51726</td>
<td>200</td>
<td>该项目不支持撤销申购/赎回</td>
</tr>
<tr>
<td>51727</td>
<td>200</td>
<td>最小申购数量为 {minUnit} {ccy}</td>
</tr>
<tr>
<td>51728</td>
<td>200</td>
<td>申购数量超过最大值</td>
</tr>
<tr>
<td>51729</td>
<td>200</td>
<td>该项目尚未到期</td>
</tr>
<tr>
<td>51730</td>
<td>200</td>
<td>该项目已售罄</td>
</tr>
<tr>
<td>51731</td>
<td>200</td>
<td>产品现在暂停申购</td>
</tr>
<tr>
<td>51732</td>
<td>200</td>
<td>用户KYC等级不符合要求</td>
</tr>
<tr>
<td>51733</td>
<td>200</td>
<td>用户被风险管理中</td>
</tr>
<tr>
<td>51734</td>
<td>200</td>
<td>不支持用户所属KYC国家</td>
</tr>
<tr>
<td>51735</td>
<td>200</td>
<td>不支持子帐户</td>
</tr>
<tr>
<td>51736</td>
<td>200</td>
<td>{ccy} 余额不足</td>
</tr>
<tr>
<td>51737</td>
<td>200</td>
<td>根据当地法律法规，您需要完成身份认证方可继续使用我们的服务。</td>
</tr>
<tr>
<td>51738</td>
<td>200</td>
<td>您的资金账户被冻结</td>
</tr>
<tr>
<td>51739</td>
<td>200</td>
<td>该功能暂不可用</td>
</tr>
<tr>
<td>51750</td>
<td>200</td>
<td>抵押物不能包含借贷币种资产</td>
</tr>
<tr>
<td>51751</td>
<td>200</td>
<td>币种 {ccy} 不支持借币</td>
</tr>
<tr>
<td>51752</td>
<td>200</td>
<td>币种 {ccy} 不支持抵押</td>
</tr>
<tr>
<td>51753</td>
<td>200</td>
<td>抵押物中不包含此资产</td>
</tr>
<tr>
<td>51754</td>
<td>200</td>
<td>当前没有负债，无需增加抵押物</td>
</tr>
<tr>
<td>51755</td>
<td>200</td>
<td>币种 {ccy} 被限制操作</td>
</tr>
<tr>
<td>51756</td>
<td>200</td>
<td>超过最大可赎回数量</td>
</tr>
<tr>
<td>51757</td>
<td>200</td>
<td>质押物数量不应低于 {minAmt}</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-otc">闪兑 </h3>
<p>错误码从 52900 到 52999</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>52900</td>
<td>200</td>
<td>无效请求</td>
</tr>
<tr>
<td>52901</td>
<td>200</td>
<td>无效基准货币</td>
</tr>
<tr>
<td>52902</td>
<td>200</td>
<td>无效标价货币</td>
</tr>
<tr>
<td>52903</td>
<td>200</td>
<td>无效的报价数量</td>
</tr>
<tr>
<td>52904</td>
<td>200</td>
<td>无效的报价方向</td>
</tr>
<tr>
<td>52905</td>
<td>200</td>
<td>无效的报价</td>
</tr>
<tr>
<td>52907</td>
<td>200</td>
<td>订单找不到</td>
</tr>
<tr>
<td>52908</td>
<td>200</td>
<td>无效的订单ID</td>
</tr>
<tr>
<td>52909</td>
<td>200</td>
<td>客户自定义ID重复使用</td>
</tr>
<tr>
<td>52910</td>
<td>500</td>
<td>服务端暂时不可用，请稍后重试</td>
</tr>
<tr>
<td>52911</td>
<td>500</td>
<td>询价服务不可用，请稍后重试</td>
</tr>
<tr>
<td>52912</td>
<td>500</td>
<td>服务端超时</td>
</tr>
<tr>
<td>52913</td>
<td>200</td>
<td>拒绝交易</td>
</tr>
<tr>
<td>52914</td>
<td>200</td>
<td>交易账户可用资产不足</td>
</tr>
<tr>
<td>52915</td>
<td>200</td>
<td>询价量太大，流动性不足导致无法报价，请稍后重试</td>
</tr>
<tr>
<td>52916</td>
<td>200</td>
<td>资金账户余额不足</td>
</tr>
<tr>
<td>52917</td>
<td>200</td>
<td>询价数量不能低于下限</td>
</tr>
<tr>
<td>52918</td>
<td>200</td>
<td>询价数量不能超过上限</td>
</tr>
<tr>
<td>52919</td>
<td>200</td>
<td>闪兑交易参数{param}与报价不一致</td>
</tr>
<tr>
<td>52920</td>
<td>200</td>
<td>闪兑交易数量不能超过报价数量</td>
</tr>
<tr>
<td>52921</td>
<td>200</td>
<td>报价已交易，请重新询价</td>
</tr>
<tr>
<td>52922</td>
<td>200</td>
<td>报价已过期，请重新询价</td>
</tr>
<tr>
<td>52923</td>
<td>200</td>
<td>服务异常，请稍后重试</td>
</tr>
<tr>
<td>52924</td>
<td>200</td>
<td>下单过于频繁，请稍后重试</td>
</tr>
<tr>
<td>52925</td>
<td>200</td>
<td>客户自定义请求ID重复使用</td>
</tr>
<tr>
<td>52926</td>
<td>200</td>
<td>{param0}已过期</td>
</tr>
<tr>
<td>52927</td>
<td>200</td>
<td>没有报价</td>
</tr>
<tr>
<td>52928</td>
<td>200</td>
<td>数量应为下单数量精度的倍数</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-futures">交割合约类 </h3>
<p>错误码从 55000 到 55999</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>55000</td>
<td>200</td>
<td>交割后30分钟内不能转出</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-swap">永续合约类 </h3>
<p>暂无</p>
<h3 id="error-code-rest-api-option">期权合约类 </h3>
<p>暂无</p>
<h3 id="error-code-rest-api-funding">资金类 </h3>
<p>错误码从 58000 到 58999</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>58002</td>
<td>200</td>
<td>请先开通余币宝服务</td>
</tr>
<tr>
<td>58003</td>
<td>200</td>
<td>余币宝不支持该币种</td>
</tr>
<tr>
<td>58004</td>
<td>200</td>
<td>账户冻结</td>
</tr>
<tr>
<td>58005</td>
<td>200</td>
<td>申购/赎回额度不可超过{0}</td>
</tr>
<tr>
<td>58006</td>
<td>200</td>
<td>币种{0}不支持当前操作</td>
</tr>
<tr>
<td>58007</td>
<td>200</td>
<td>资金接口服务异常，请稍后再试。</td>
</tr>
<tr>
<td>58008</td>
<td>200</td>
<td>您没有该币种资产</td>
</tr>
<tr>
<td>58009</td>
<td>200</td>
<td>币对不存在</td>
</tr>
<tr>
<td>58010</td>
<td>200</td>
<td>该链{0}暂不支持</td>
</tr>
<tr>
<td>58011</td>
<td>200</td>
<td>抱歉，由于当地法律法规，欧易无法为{region}未认证用户提供服务，请先认证身份以继续使用欧易</td>
</tr>
<tr>
<td>58012</td>
<td>200</td>
<td>抱歉，由于当地法律法规，欧易无法为{region}未认证用户提供服务，所以您无法向该用户转账</td>
</tr>
<tr>
<td>58013</td>
<td>200</td>
<td>暂不支持提币功能，请咨询客服了解详情</td>
</tr>
<tr>
<td>58014</td>
<td>200</td>
<td>暂不支持充值功能，请咨询客服了解详情</td>
</tr>
<tr>
<td>58015</td>
<td>200</td>
<td>暂不支持划转功能，请咨询客服了解详情</td>
</tr>
<tr>
<td>58016</td>
<td>200</td>
<td>仅交易团队主账户有权限调用此接口</td>
</tr>
<tr>
<td>58100</td>
<td>200</td>
<td>行权或结算中，暂无法转入或转出</td>
</tr>
<tr>
<td>58101</td>
<td>200</td>
<td>划转冻结</td>
</tr>
<tr>
<td>58102</td>
<td>429</td>
<td>已达到速率限制。请参考相应的 API 文档与节流请求</td>
</tr>
<tr>
<td>58103</td>
<td>200</td>
<td>该账户划转功能暂不可用，详情请联系客服</td>
</tr>
<tr>
<td>58104</td>
<td>200</td>
<td>您在法币区的交易异常，现已被限制划转功能，请您联系在线客服以解除限制</td>
</tr>
<tr>
<td>58105</td>
<td>200</td>
<td>您在法币区的交易异常，现已被限制划转功能，请您在网页或APP进行法币划<br>转操作以完成身份验证</td>
</tr>
<tr>
<td>58106</td>
<td>200</td>
<td>美元可转校验未通过</td>
</tr>
<tr>
<td>58107</td>
<td>200</td>
<td>币种可转校验未通过</td>
</tr>
<tr>
<td>58110</td>
<td>200</td>
<td>您所交易过或者持仓的 {businessType} {instFamily} 产品触发市场风控，平台已暂停您的资金转出功能，请稍后重试。如需进一步的协助，请联系客服。</td>
</tr>
<tr>
<td>58111</td>
<td>200</td>
<td>永续合约正在收取资金费，暂时无法做资金划转，请稍后重试</td>
</tr>
<tr>
<td>58112</td>
<td>200</td>
<td>资金划转失败，请联系客服进行处理</td>
</tr>
<tr>
<td>58113</td>
<td>200</td>
<td>该币种不支持划转</td>
</tr>
<tr>
<td>58114</td>
<td>400</td>
<td>转账金额必须大于 0</td>
</tr>
<tr>
<td>58115</td>
<td>200</td>
<td>子账户不存在</td>
</tr>
<tr>
<td>58116</td>
<td>200</td>
<td>转出数量大于最大可转数量</td>
</tr>
<tr>
<td>58117</td>
<td>200</td>
<td>账户划转失败，请先处理负资产后再划转</td>
</tr>
<tr>
<td>58119</td>
<td>200</td>
<td>{0} 子账户没有转出权限，请先设置</td>
</tr>
<tr>
<td>58120</td>
<td>200</td>
<td>划转服务暂不可用，请稍后重试</td>
</tr>
<tr>
<td>58121</td>
<td>200</td>
<td>此次划转将导致您的仓位风险水平较高，进而可能引起爆仓。您需要重新调整划转金额，确保仓位处于安全水平后，再进行划转操作。</td>
</tr>
<tr>
<td>58122</td>
<td>200</td>
<td>您的一部分现货正用于仓位间的 Delta 对冲，若划转数量超过可用金额，可能会影响现有的现货对冲结构，进而导致维持保证金率增加，请留意您的风险水平。</td>
</tr>
<tr>
<td>58123</td>
<td>200</td>
<td>参数from与参数to不可相同</td>
</tr>
<tr>
<td>58124</td>
<td>200</td>
<td>资金划转中，划转id：{trId}，请通过接口(GET /api/v5/asset/transfer-state)获取最新状态</td>
</tr>
<tr>
<td>58125</td>
<td>200</td>
<td>不可交易资产仅支持子账户转主账户</td>
</tr>
<tr>
<td>58126</td>
<td>200</td>
<td>不可交易资产划转，只能在资金账户间互转</td>
</tr>
<tr>
<td>58127</td>
<td>200</td>
<td>主账户 API key 不支持当前 type 划转类型参数，请参考 API 文档描述</td>
</tr>
<tr>
<td>58128</td>
<td>200</td>
<td>子账户 API key 不支持当前 type 划转类型参数，请参考 API 文档描述</td>
</tr>
<tr>
<td>58129</td>
<td>200</td>
<td>{param}错误或{param}与type不匹配</td>
</tr>
<tr>
<td>58131</td>
<td>200</td>
<td>根据当地法律法规，欧易无法为未认证用户提供服务，请先完成身份认证再继续划转</td>
</tr>
<tr>
<td>58132</td>
<td>200</td>
<td>根据当地法律法规，我们无法为仅完成基本认证的用户提供服务，请先完成高级认证再继续划转</td>
</tr>
<tr>
<td>58200</td>
<td>200</td>
<td>该币种暂不支持从{0}提现至{1}，敬请谅解</td>
</tr>
<tr>
<td>58201</td>
<td>200</td>
<td>今日提现金额累计超过每日限额</td>
</tr>
<tr>
<td>58202</td>
<td>200</td>
<td>NEO最小提现数量为1，且提现数量必须为整数</td>
</tr>
<tr>
<td>58203</td>
<td>200</td>
<td>请先添加提现地址</td>
</tr>
<tr>
<td>58204</td>
<td>200</td>
<td>因您的账户活动触发风控，暂停提现。请联系客户支持寻求帮助。</td>
</tr>
<tr>
<td>58205</td>
<td>200</td>
<td>提现金额大于单笔提现最大金额</td>
</tr>
<tr>
<td>58206</td>
<td>200</td>
<td>提现金额小于单笔最小提现金额</td>
</tr>
<tr>
<td>58207</td>
<td>200</td>
<td>提币地址不在认证地址列表内 (带标签的提币地址格式为 “address:label”)</td>
</tr>
<tr>
<td>58208</td>
<td>200</td>
<td>提现失败，邮箱未绑定</td>
</tr>
<tr>
<td>58209</td>
<td>200</td>
<td>子账户不能充值或提现，请在主账户中进行提现。</td>
</tr>
<tr>
<td>58210</td>
<td>200</td>
<td>由于无法验证您的身份，提币操作未能成功。请通过欧易 App 或官网完成提币操作。</td>
</tr>
<tr>
<td>58212</td>
<td>200</td>
<td>提现手续费应填写为提币数量的{0}%</td>
</tr>
<tr>
<td>58213</td>
<td>200</td>
<td>内部转账地址不合法，必须是邮箱、手机号或者账户名</td>
</tr>
<tr>
<td>58214</td>
<td>200</td>
<td>{chainName}维护中，暂停提币</td>
</tr>
<tr>
<td>58215</td>
<td>200</td>
<td>提币申请ID不存在</td>
</tr>
<tr>
<td>58216</td>
<td>200</td>
<td>不允许执行该操作</td>
</tr>
<tr>
<td>58217</td>
<td>200</td>
<td>您当前的提现地址存在风险，暂时不能提现，详情请联系客服</td>
</tr>
<tr>
<td>58218</td>
<td>200</td>
<td>内部提现失败，请检查参数toAddr与areaCode</td>
</tr>
<tr>
<td>58219</td>
<td>200</td>
<td>为保障您的资金安全，修改手机号/邮箱/谷歌验证后24小时之内将无法提现</td>
</tr>
<tr>
<td>58220</td>
<td>200</td>
<td>提币请求已撤销</td>
</tr>
<tr>
<td>58221</td>
<td>200</td>
<td>toAddr参数格式有误，提币地址需要加上标签，格式应该为“地址:标签”</td>
</tr>
<tr>
<td>58222</td>
<td>200</td>
<td>无效的提币地址</td>
</tr>
<tr>
<td>58223</td>
<td>200</td>
<td>提币到此合约地址需要支付更高的手续费</td>
</tr>
<tr>
<td>58224</td>
<td>200</td>
<td>该类型币种暂不支持链上提币到 OKX 地址，请通过内部转账进行提币</td>
</tr>
<tr>
<td>58225</td>
<td>200</td>
<td>抱歉，由于当地法律法规，欧易无法为{region}未认证用户提供服务，所以您无法向该用户转账</td>
</tr>
<tr>
<td>58226</td>
<td>200</td>
<td>{chainName} 已下线，不支持提币</td>
</tr>
<tr>
<td>58227</td>
<td>200</td>
<td>不可交易资产提币只能全部提出</td>
</tr>
<tr>
<td>58228</td>
<td>200</td>
<td>不可交易资产提币要求 API key 必须绑定 IP</td>
</tr>
<tr>
<td>58229</td>
<td>200</td>
<td>资金账户手续费不足 {fee} USDT</td>
</tr>
<tr>
<td>58230</td>
<td>200</td>
<td>根据欧易的合规政策，您需要完成 Lv. 1 身份认证方可继续提币</td>
</tr>
<tr>
<td>58231</td>
<td>200</td>
<td>由于您的收款人尚未完成 Lv. 1 身份认证，内部转账暂时无法完成</td>
</tr>
<tr>
<td>58232</td>
<td>200</td>
<td>您已超出个人身份验证 (Lv.1) 的提币上限，请完成照片验证 (Lv. 2) ，即可提升提币限额</td>
</tr>
<tr>
<td>58233</td>
<td>200</td>
<td>根据当地法律法规，欧易无法为未认证用户提供服务，请先完成身份认证再继续提币</td>
</tr>
<tr>
<td>58234</td>
<td>200</td>
<td>根据当地法律法规，收款人必须完成身份认证方可收到您的转账</td>
</tr>
<tr>
<td>58235</td>
<td>200</td>
<td>根据当地法律法规，欧易无法为仅完成基本认证的用户提供服务，请先完成高级认证再继续提币</td>
</tr>
<tr>
<td>58236</td>
<td>200</td>
<td>根据当地法律法规，仅完成基础认证的收款人无法收取转账，您的收款人必须完成高级认证方可收到您的转账</td>
</tr>
<tr>
<td>58237</td>
<td>200</td>
<td>根据当地法律法规，请提供准确的接收方信息 (rcvrInfo)。对于交易所地址，请一并提供交易所信息和接收人的身份信息({recipientParameters})。</td>
</tr>
<tr>
<td>58238</td>
<td>200</td>
<td>提币到交易所地址需提供完整的接收方信息，包括交易所信息和接收人的身份信息</td>
</tr>
<tr>
<td>58239</td>
<td>200</td>
<td>不支持 API 提币至私人钱包。请通过欧易 App 或官网完成提币操作。</td>
</tr>
<tr>
<td>58240</td>
<td>200</td>
<td>根据当地法律法规，为保障用户安全，您需要完成身份认证方可继续使用我们的服务。若您不希望进行身份认证，请联系客服团队了解详情。我们致力于为用户提供一个安全的平台，感谢您的理解与支持。</td>
</tr>
<tr>
<td>58241</td>
<td>200</td>
<td>根据当地法律法规，内部转账功能暂时无法使用</td>
</tr>
<tr>
<td>58242</td>
<td>200</td>
<td>受收款人所在地法律法规限制，本次内部转账无法完成</td>
</tr>
<tr>
<td>58243</td>
<td>200</td>
<td>由于您的收款人尚未完成法币入金，对方不能接收本次转账</td>
</tr>
<tr>
<td>58244</td>
<td>200</td>
<td>请先完成法币入金，再进行您的操作</td>
</tr>
<tr>
<td>58248</td>
<td>200</td>
<td>根据当地法律法规限制，提币API已被暂时禁用。请使用OKX网页或OKX手机APP进行提币操作。</td>
</tr>
<tr>
<td>58249</td>
<td>200</td>
<td>该币种暂不支持 API 提币，请于欧易网页端或 App 端进行提币。</td>
</tr>
<tr>
<td>58252</td>
<td>200</td>
<td>为保障您的资产安全，首次进行 TRY 交易后，提币将在 48 小时内受到限制。</td>
</tr>
<tr>
<td>58300</td>
<td>200</td>
<td>创建充值地址超过上限</td>
</tr>
<tr>
<td>58301</td>
<td>200</td>
<td>充值地址不存在</td>
</tr>
<tr>
<td>58302</td>
<td>200</td>
<td>充值地址需要标签</td>
</tr>
<tr>
<td>58303</td>
<td>200</td>
<td>该链{chain}充值当前不可用</td>
</tr>
<tr>
<td>58304</td>
<td>200</td>
<td>创建invoice失败</td>
</tr>
<tr>
<td>58305</td>
<td>200</td>
<td>找不到充币地址，请完成身份认证并生成充币地址</td>
</tr>
<tr>
<td>58306</td>
<td>200</td>
<td>根据欧易的合规政策，您需要完成 Lv. 1 身份认证方可继续充币</td>
</tr>
<tr>
<td>58307</td>
<td>200</td>
<td>您已超出个人身份验证 (Lv.1) 的充币上限。超出充币上限的资产已被冻结，请完成照片验证 (Lv. 2) ，即可提升充币限额</td>
</tr>
<tr>
<td>58308</td>
<td>200</td>
<td>根据当地法律法规，欧易无法为未认证用户提供服务，请先完成身份认证再继续充币</td>
</tr>
<tr>
<td>58309</td>
<td>200</td>
<td>根据当地法律法规，欧易无法为仅完成基本认证的用户提供服务，请先完成高级认证再继续充币</td>
</tr>
<tr>
<td>58310</td>
<td>200</td>
<td>无法创建新的充币地址，请稍后重试</td>
</tr>
<tr>
<td>58350</td>
<td>200</td>
<td>您的余额不足</td>
</tr>
<tr>
<td>58351</td>
<td>200</td>
<td>invoice已经过期</td>
</tr>
<tr>
<td>58352</td>
<td>200</td>
<td>invoice无效</td>
</tr>
<tr>
<td>58353</td>
<td>200</td>
<td>充币数量需要在限额范围内</td>
</tr>
<tr>
<td>58354</td>
<td>200</td>
<td>单日达到生成invoice 10,000 个的上限</td>
</tr>
<tr>
<td>58355</td>
<td>200</td>
<td>用户没有使用此API接口的权限，请联系您的客户经理</td>
</tr>
<tr>
<td>58356</td>
<td>200</td>
<td>同节点账户不支持闪电网络充币或提币</td>
</tr>
<tr>
<td>58358</td>
<td>200</td>
<td>参数fromCcy与参数toCcy不可相同</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-account">账户类 </h3>
<p>错误码从 59000 到 59999</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>59000</td>
<td>200</td>
<td>设置失败，请在设置前关闭任何挂单或持仓</td>
</tr>
<tr>
<td>59001</td>
<td>200</td>
<td>当前存在借币，暂不可切换</td>
</tr>
<tr>
<td>59002</td>
<td>200</td>
<td>子账户设置失败，请在设置前关闭任何子账户挂单、持仓或策略</td>
</tr>
<tr>
<td>59004</td>
<td>200</td>
<td>只支持同一业务线下交易产品ID</td>
</tr>
<tr>
<td>59005</td>
<td>200</td>
<td>逐仓自主划转保证金模式，初次划入仓位的资产价值需大于 10,000 USDT</td>
</tr>
<tr>
<td>59006</td>
<td>200</td>
<td>此功能即将下线，无法切换到此模式</td>
</tr>
<tr>
<td>59101</td>
<td>200</td>
<td>杠杆倍数无法修改，请撤销所有逐仓挂单后进行杠杆倍数修改</td>
</tr>
<tr>
<td>59102</td>
<td>200</td>
<td>杠杆倍数超过最大杠杆倍数，请降低杠杆倍数</td>
</tr>
<tr>
<td>59103</td>
<td>200</td>
<td>杠杆倍数过低，账户中没有足够的可用保证金可以追加，请提高杠杆倍数</td>
</tr>
<tr>
<td>59104</td>
<td>200</td>
<td>杠杆倍数过高，借币仓位已超过该杠杆倍数的最大仓位，请降低杠杆倍数</td>
</tr>
<tr>
<td>59105</td>
<td>400</td>
<td>杠杆倍数设置不能小于{0}，请提高杠杆倍数</td>
</tr>
<tr>
<td>59106</td>
<td>200</td>
<td>您下单后仓位总张数所处档位的最高可用杠杆为{0}，请重新调整</td>
</tr>
<tr>
<td>59107</td>
<td>200</td>
<td>杠杆倍数无法修改，请撤销所有全仓挂单后修改杠杆倍数</td>
</tr>
<tr>
<td>59108</td>
<td>200</td>
<td>杠杆倍数过低，账户中保证金不足，请提高杠杆倍数</td>
</tr>
<tr>
<td>59109</td>
<td>200</td>
<td>调整后，账户权益小于所需保证金，请重新调整杠杆倍数</td>
</tr>
<tr>
<td>59110</td>
<td>200</td>
<td>该{0}对应的产品业务线不支持使用tgtCcy参数</td>
</tr>
<tr>
<td>59111</td>
<td>200</td>
<td>PM账户下衍生品全仓不支持杠杆查询</td>
</tr>
<tr>
<td>59112</td>
<td>200</td>
<td>当前存在逐仓/全仓挂单，请撤销所有逐仓挂单后进行杠杆倍数修改</td>
</tr>
<tr>
<td>59113</td>
<td>200</td>
<td>根据当地法律法规，您所在的地区无法使用保证金交易相关服务，如果您不是该地区居民，请进行KYC2身份认证</td>
</tr>
<tr>
<td>59114</td>
<td>200</td>
<td>根据当地法律法规，您所在的地区无法使用保证金交易相关服务</td>
</tr>
<tr>
<td>59117</td>
<td>200</td>
<td>所选币种数量不能超过 {param0} 个</td>
</tr>
<tr>
<td>59118</td>
<td>200</td>
<td>下单金额需大于 {param0}</td>
</tr>
<tr>
<td>59119</td>
<td>200</td>
<td>一键还债功能暂时关闭，请稍后重试</td>
</tr>
<tr>
<td>59120</td>
<td>200</td>
<td>一键兑换主流币功能暂时关闭，请稍后重试</td>
</tr>
<tr>
<td>59121</td>
<td>200</td>
<td>该批次正在处理中，请等待处理完</td>
</tr>
<tr>
<td>59122</td>
<td>200</td>
<td>该批次已经处理完</td>
</tr>
<tr>
<td>59123</td>
<td>200</td>
<td>{param0}币种下单金额需大于 {param1}</td>
</tr>
<tr>
<td>59124</td>
<td>200</td>
<td>{param0} 币种下单金额需小于 {param1}</td>
</tr>
<tr>
<td>59125</td>
<td>200</td>
<td>{param0} 不支持当前操作</td>
</tr>
<tr>
<td>59132</td>
<td>200</td>
<td>无法切换，请先撤销所有挂单，参考预检查接口并停止不兼容策略</td>
</tr>
<tr>
<td>59133</td>
<td>200</td>
<td>无法切换，资产未达目标账户模式的要求</td>
</tr>
<tr>
<td>59134</td>
<td>200</td>
<td>无法切换，请参考预检查接口并平掉不兼容的仓位</td>
</tr>
<tr>
<td>59135</td>
<td>200</td>
<td>无法切换，请参考预检查接口并调整带跟单关系</td>
</tr>
<tr>
<td>59136</td>
<td>200</td>
<td>无法切换，请预先设置全仓合约仓位的杠杆倍数</td>
</tr>
<tr>
<td>59137</td>
<td>200</td>
<td>设置失败，请为所有全仓合约仓位降低杠杆倍数到 {param0} 或以下</td>
</tr>
<tr>
<td>59138</td>
<td>200</td>
<td>无法切换，梯度档位校验失败</td>
</tr>
<tr>
<td>59139</td>
<td>200</td>
<td>无法切换，保证金校验失败</td>
</tr>
<tr>
<td>59200</td>
<td>200</td>
<td>账户余额不足</td>
</tr>
<tr>
<td>59201</td>
<td>200</td>
<td>账户余额是负数</td>
</tr>
<tr>
<td>59202</td>
<td>200</td>
<td>PM 账户下衍生品全仓不支持最大可开仓数量的查询</td>
</tr>
<tr>
<td>59300</td>
<td>200</td>
<td>追加保证金失败，指定仓位不存在</td>
</tr>
<tr>
<td>59301</td>
<td>200</td>
<td>调整保证金超过当前最大可调整数量</td>
</tr>
<tr>
<td>59302</td>
<td>200</td>
<td>当前仓位存在平仓挂单，请撤销平仓挂单后进行保证金修改</td>
</tr>
<tr>
<td>59303</td>
<td>200</td>
<td>可用保证金不足，请尝试增加保证金或减少借币数量</td>
</tr>
<tr>
<td>59304</td>
<td>200</td>
<td>借币币种权益不足，请至少留有一天的利息</td>
</tr>
<tr>
<td>59305</td>
<td>200</td>
<td>您当前没有进行尊享借币，无法设置尊享借币优先</td>
</tr>
<tr>
<td>59306</td>
<td>200</td>
<td>借币数量超过总额度，不可继续借币</td>
</tr>
<tr>
<td>59307</td>
<td>200</td>
<td>当前用户不满足尊享借币条件</td>
</tr>
<tr>
<td>59308</td>
<td>200</td>
<td>市场化借币额度不足，VIP还币失败</td>
</tr>
<tr>
<td>59309</td>
<td>200</td>
<td>还币数量超出已借数量，还币失败</td>
</tr>
<tr>
<td>59310</td>
<td>200</td>
<td>当前账户不支持尊享借币</td>
</tr>
<tr>
<td>59311</td>
<td>200</td>
<td>存在尊享借币，无法设置</td>
</tr>
<tr>
<td>59312</td>
<td>200</td>
<td>{币种}不支持尊享借币</td>
</tr>
<tr>
<td>59313</td>
<td>200</td>
<td>无法还币。在一键借币模式下，您目前没有 ${ccy} 借币（币对：${ccyPair}）</td>
</tr>
<tr>
<td>59314</td>
<td>200</td>
<td>当前用户该订单不是借币中，不允许还币</td>
</tr>
<tr>
<td>59315</td>
<td>200</td>
<td>VIP借币功能正在升级中,稍等10分钟之后再次操作</td>
</tr>
<tr>
<td>59316</td>
<td>200</td>
<td>当前用户该币种存在借币申请中的订单，不允许借币</td>
</tr>
<tr>
<td>59317</td>
<td>200</td>
<td>您当前币种 VIP 借币中的订单数量不能大于{maxNumber}(单)</td>
</tr>
<tr>
<td>59319</td>
<td>200</td>
<td>由于您的资金已被占用，您暂时无法偿还借贷，请解除占用状态再进行还币</td>
</tr>
<tr>
<td>59320</td>
<td>200</td>
<td>超出借贷限额</td>
</tr>
<tr>
<td>59321</td>
<td>200</td>
<td>您所在的地区不支持借币</td>
</tr>
<tr>
<td>59322</td>
<td>200</td>
<td>此订单无法执行当前操作</td>
</tr>
<tr>
<td>59323</td>
<td>200</td>
<td>借贷金额小于最低限额</td>
</tr>
<tr>
<td>59324</td>
<td>200</td>
<td>没有可用的借贷订单</td>
</tr>
<tr>
<td>59325</td>
<td>200</td>
<td>您需要偿还本单的全部借币金额</td>
</tr>
<tr>
<td>59326</td>
<td>200</td>
<td>出借数量应在 {minLend} ~ {lendQuota} 范围内</td>
</tr>
<tr>
<td>59327</td>
<td>200</td>
<td>由于您续借的金额不足以偿还您当前的借贷，您无法自动续借，请手动还款以避免高额逾期利息</td>
</tr>
<tr>
<td>59328</td>
<td>200</td>
<td>出借年化应在 {minRate} ~ {maxRate} 范围内</td>
</tr>
<tr>
<td>59329</td>
<td>200</td>
<td>无法降低负债。当前订单可直接还币</td>
</tr>
<tr>
<td>51152</td>
<td>200</td>
<td>一键借币模式下，不支持自动借币与自动还币和手动类型混合下单。</td>
</tr>
<tr>
<td>59401</td>
<td>200</td>
<td>持仓价值达到持仓限制</td>
</tr>
<tr>
<td>59402</td>
<td>200</td>
<td>查询条件中的instId的交易产品当前不是可交易状态，请填写单个instid逐个查询状态详情</td>
</tr>
<tr>
<td>59410</td>
<td>200</td>
<td>只有当借币交易启用且该币种支持借币交易时，您才可以进行借币</td>
</tr>
<tr>
<td>59411</td>
<td>200</td>
<td>无法手动借币，账户可用保证金不足</td>
</tr>
<tr>
<td>59412</td>
<td>200</td>
<td>无法手动借币，您输入的数量已超过借币限额</td>
</tr>
<tr>
<td>59413</td>
<td>200</td>
<td>该币种没有负债，无需还币</td>
</tr>
<tr>
<td>59414</td>
<td>200</td>
<td>无法手动借币，您输入的数量应大于或等于最小借币数量 {param0}</td>
</tr>
<tr>
<td>59500</td>
<td>200</td>
<td>仅主账户有操作权限</td>
</tr>
<tr>
<td>59501</td>
<td>200</td>
<td>每个账户最多可创建 50 个 API key</td>
</tr>
<tr>
<td>59502</td>
<td>200</td>
<td>此备注名已存在。 请输入唯一的 API key 备注名称</td>
</tr>
<tr>
<td>59503</td>
<td>200</td>
<td>每个 API key 最多可以绑定 20 个 IP 地址</td>
</tr>
<tr>
<td>59504</td>
<td>200</td>
<td>子账户不支持提币功能，请在主账户中进行提币</td>
</tr>
<tr>
<td>59505</td>
<td>200</td>
<td>passphrase 格式不正确，支持6-32位字母和数字组合<br>（区分大小写，不支持空格符号）</td>
</tr>
<tr>
<td>59506</td>
<td>200</td>
<td>API key 不存在</td>
</tr>
<tr>
<td>59507</td>
<td>200</td>
<td>转出账户和转入账户必须是同一个母账户下的2个不同的子账户</td>
</tr>
<tr>
<td>59508</td>
<td>200</td>
<td>{0}该子账户被冻结</td>
</tr>
<tr>
<td>59509</td>
<td>200</td>
<td>用户没有重置做市商保护状态的权限</td>
</tr>
<tr>
<td>59510</td>
<td>200</td>
<td>子账户不存在</td>
</tr>
<tr>
<td>59512</td>
<td>200</td>
<td>不支持为独立经纪商子账号设置主动转出权限，所有独立经纪商子账户默认有主动转出权限</td>
</tr>
<tr>
<td>59601</td>
<td>200</td>
<td>子账户名称已存在</td>
</tr>
<tr>
<td>59603</td>
<td>200</td>
<td>创建的子账户数量已达到上限</td>
</tr>
<tr>
<td>59604</td>
<td>200</td>
<td>仅母账APIkey有操作此接口的权限</td>
</tr>
<tr>
<td>59606</td>
<td>200</td>
<td>删除失败，请将子账户中的余额划转到母账户</td>
</tr>
<tr>
<td>59608</td>
<td>200</td>
<td>仅Broker账户有操作此接口的权限</td>
</tr>
<tr>
<td>59609</td>
<td>200</td>
<td>经纪商已经存在</td>
</tr>
<tr>
<td>59610</td>
<td>200</td>
<td>经纪商不存在</td>
</tr>
<tr>
<td>59611</td>
<td>200</td>
<td>经纪商状态是未审核</td>
</tr>
<tr>
<td>59612</td>
<td>200</td>
<td>时间参数格式转换失败</td>
</tr>
<tr>
<td>59613</td>
<td>200</td>
<td>当前未与子账户建立托管关系</td>
</tr>
<tr>
<td>59614</td>
<td>200</td>
<td>托管子账户不支持此操作</td>
</tr>
<tr>
<td>59615</td>
<td>200</td>
<td>起始日期和结束日期的时间间隔不能超过180天。</td>
</tr>
<tr>
<td>59616</td>
<td>200</td>
<td>起始日期不能大于结束日期</td>
</tr>
<tr>
<td>59617</td>
<td>200</td>
<td>子账户创建成功，账户等级设置失败</td>
</tr>
<tr>
<td>59618</td>
<td>200</td>
<td>创建子账户失败</td>
</tr>
<tr>
<td>59619</td>
<td>200</td>
<td>该接口不支持独立经纪商子账户，请使用为独立经纪商提供的专有接口。</td>
</tr>
<tr>
<td>59622</td>
<td>200</td>
<td>您正在创建独立经纪商 2 级子账号。该 1 级子账号不存在或有误，请先创建 1 级子账号或使用正确的 1 级子账号。</td>
</tr>
<tr>
<td>59623</td>
<td>200</td>
<td>独立经纪商 1 级子账号下存在 2 级子账号，请删除 2 级子账号后重试。</td>
</tr>
<tr>
<td>59648</td>
<td>200</td>
<td>调整后实际现货对冲占用数量不足，有潜在爆仓风险，请调整现货对冲占用数量</td>
</tr>
<tr>
<td>59649</td>
<td>200</td>
<td>关闭现货对冲占用模式可能会增加强制平仓的风险。请调整仓位，使保证金率处于安全状态。</td>
</tr>
<tr>
<td>59650</td>
<td>200</td>
<td>切换对冲单位可能会增加强制平仓的风险。请调整仓位，使保证金率处于安全状态。</td>
</tr>
<tr>
<td>59651</td>
<td>200</td>
<td>未开启现货对冲占用，无法设置现货对冲数量</td>
</tr>
<tr>
<td>59652</td>
<td>200</td>
<td>不支持为非杠杆币种设置现货对冲占用数量</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-block-trading-and-spread-orderbook">大宗交易 </h3>
<p>错误码从 70000 开始</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>70000</td>
<td>200</td>
<td>询价单不存在</td>
</tr>
<tr>
<td>70001</td>
<td>200</td>
<td>报价单不存在</td>
</tr>
<tr>
<td>70002</td>
<td>200</td>
<td>大宗交易不存在</td>
</tr>
<tr>
<td>70003</td>
<td>200</td>
<td>公共的大宗交易不存在</td>
</tr>
<tr>
<td>70004</td>
<td>200</td>
<td>无效的产品ID {instId}</td>
</tr>
<tr>
<td>70005</td>
<td>200</td>
<td>组合交易的数量不能超过最大值</td>
</tr>
<tr>
<td>70006</td>
<td>200</td>
<td>不满足最小资产要求</td>
</tr>
<tr>
<td>70007</td>
<td>200</td>
<td>该产品类型 {instFamily} 的标的指数 {instType} 不存在</td>
</tr>
<tr>
<td>70008</td>
<td>200</td>
<td>MMP状态下操作失败。</td>
</tr>
<tr>
<td>70009</td>
<td>200</td>
<td>Data数组必须至少含有一个有效元素</td>
</tr>
<tr>
<td>70010</td>
<td>200</td>
<td>时间戳参数必须是Unix时间戳的毫秒格式</td>
</tr>
<tr>
<td>70011</td>
<td>200</td>
<td>产品类型 {instType} 存在重复设置</td>
</tr>
<tr>
<td>70012</td>
<td>200</td>
<td>同一个instType{instType}下的instFamily/instId{instId} 存在重复设置</td>
</tr>
<tr>
<td>70013</td>
<td>200</td>
<td>endTs必须大于等于beginTs</td>
</tr>
<tr>
<td>70014</td>
<td>200</td>
<td>不允许对所有产品类别设置includeAll=True.</td>
</tr>
<tr>
<td>70015</td>
<td>200</td>
<td>您在完成高级身份认证后才能交易此类产品</td>
</tr>
<tr>
<td>70016</td>
<td>200</td>
<td>交易产品设置中需选择至少一个交易品种</td>
</tr>
<tr>
<td>70100</td>
<td>200</td>
<td>组合交易中的产品ID重复</td>
</tr>
<tr>
<td>70101</td>
<td>200</td>
<td>clRfqId重复</td>
</tr>
<tr>
<td>70102</td>
<td>200</td>
<td>未指定对手方</td>
</tr>
<tr>
<td>70103</td>
<td>200</td>
<td>无效的对手方</td>
</tr>
<tr>
<td>70105</td>
<td>200</td>
<td>非全现货的RFQ总价值应该大于最小名义值{nonSpotMinNotional}</td>
</tr>
<tr>
<td>70106</td>
<td>200</td>
<td>下单数量小于最小交易数量</td>
</tr>
<tr>
<td>70107</td>
<td>200</td>
<td>对手方的数量不能超过最大值</td>
</tr>
<tr>
<td>70108</td>
<td>200</td>
<td>全现货的RFQ总价值应该大于最小名义值{spotMinNotional}</td>
</tr>
<tr>
<td>70109</td>
<td>200</td>
<td>所选产品无有效对手方</td>
</tr>
<tr>
<td>70200</td>
<td>200</td>
<td>不能取消处于{rfqState}状态的询价单</td>
</tr>
<tr>
<td>70203</td>
<td>200</td>
<td>取消失败，由于询价单数量超过限制数量{rfqLimit}</td>
</tr>
<tr>
<td>70207</td>
<td>200</td>
<td>取消失败，由于您没有询价挂单</td>
</tr>
<tr>
<td>70208</td>
<td>200</td>
<td>取消失败，由于服务暂时不可用，请稍后重试</td>
</tr>
<tr>
<td>70301</td>
<td>200</td>
<td>clQuoteId重复</td>
</tr>
<tr>
<td>70303</td>
<td>200</td>
<td>不能对处于{rfqState}状态的询价单报价</td>
</tr>
<tr>
<td>70304</td>
<td>200</td>
<td>价格应该是下单价格精度的整数倍</td>
</tr>
<tr>
<td>70305</td>
<td>200</td>
<td>买入价格不能高于报价</td>
</tr>
<tr>
<td>70306</td>
<td>200</td>
<td>报价的组合交易没有匹配{rfqId}的组合交易</td>
</tr>
<tr>
<td>70307</td>
<td>200</td>
<td>数量应该是下单数量精度的整数倍</td>
</tr>
<tr>
<td>70308</td>
<td>200</td>
<td>不允许对自己的询价单报价</td>
</tr>
<tr>
<td>70309</td>
<td>200</td>
<td>不允许对相同询价单进行同一方向的报价</td>
</tr>
<tr>
<td>70310</td>
<td>200</td>
<td>instId {instId} 报价不可以超过你预设的价格限制</td>
</tr>
<tr>
<td>70400</td>
<td>200</td>
<td>不能取消处于{quoteState}状态的报价单</td>
</tr>
<tr>
<td>70408</td>
<td>200</td>
<td>取消失败，由于报价单数量超过限制数量{quoteLimit}</td>
</tr>
<tr>
<td>70409</td>
<td>200</td>
<td>取消失败，由于您没有报价挂单</td>
</tr>
<tr>
<td>70501</td>
<td>200</td>
<td>询价单{rfqId}没有被{quoteId}报价</td>
</tr>
<tr>
<td>70502</td>
<td>200</td>
<td>组合交易没有匹配{rfqId}的组合交易</td>
</tr>
<tr>
<td>70503</td>
<td>200</td>
<td>执行腿的价值总和小于大宗交易的最小名义值</td>
</tr>
<tr>
<td>70504</td>
<td>200</td>
<td>执行失败，因为询价单的状态是{rfqState}</td>
</tr>
<tr>
<td>70505</td>
<td>200</td>
<td>执行失败，因为报价单的状态是{quoteState}</td>
</tr>
<tr>
<td>70506</td>
<td>200</td>
<td>腿的数量比例与原RFQ不一致</td>
</tr>
<tr>
<td>70507</td>
<td>200</td>
<td>部分执行尝试失败。须设置allowPartialExecution为<code>true</code></td>
</tr>
<tr>
<td>70508</td>
<td>200</td>
<td>没有可用的产品设置。</td>
</tr>
<tr>
<td>70509</td>
<td>200</td>
<td>交易执行失败：对手方相关错误</td>
</tr>
<tr>
<td>70511</td>
<td>200</td>
<td>正在执行报价</td>
</tr>
<tr>
<td>75001</td>
<td>200</td>
<td>交易 ID 不存在</td>
</tr>
<tr>
<td>75002</td>
<td>200</td>
<td>{sprdId} : 目前无法下新订单或修改现有订单</td>
</tr>
<tr>
<td>75003</td>
<td>200</td>
<td>价格无效</td>
</tr>
<tr>
<td>56000</td>
<td>200</td>
<td>大宗交易不存在</td>
</tr>
<tr>
<td>56001</td>
<td>200</td>
<td>多腿的数量不能超过 {legLimit}</td>
</tr>
<tr>
<td>56002</td>
<td>200</td>
<td>执行和验证的多腿数量不匹配</td>
</tr>
<tr>
<td>56003</td>
<td>200</td>
<td>重复的clBlockTdId</td>
</tr>
<tr>
<td>56004</td>
<td>200</td>
<td>不允许自成交</td>
</tr>
<tr>
<td>56005</td>
<td>200</td>
<td>执行和验证的clBlockTdId 不匹配</td>
</tr>
<tr>
<td>56006</td>
<td>200</td>
<td>执行和验证的角色不能相同</td>
</tr>
<tr>
<td>56007</td>
<td>200</td>
<td>执行和验证的第{legNo}条腿不匹配</td>
</tr>
<tr>
<td>56008</td>
<td>200</td>
<td>重复的产品名称</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-copy-trading">跟单交易 </h3>
<p>错误码从 59200  到 59300</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>59128</td>
<td>200</td>
<td>您当前身份为带单交易员。您设置的带单合约 {instrument} 杠杆倍数不能超过 {num}×</td>
</tr>
<tr>
<td>59206</td>
<td>200</td>
<td>该带单交易员已无更多跟单空位</td>
</tr>
<tr>
<td>59216</td>
<td>200</td>
<td>仓位不存在，请稍后重试</td>
</tr>
<tr>
<td>59218</td>
<td>200</td>
<td>市价全平中...</td>
</tr>
<tr>
<td>59256</td>
<td>200</td>
<td>无法切换为买卖模式，请降低跟单人数至1人</td>
</tr>
<tr>
<td>59245</td>
<td>200</td>
<td>作为带单交易员，{param0} 单次下单张数应小于或等于 {param1}</td>
</tr>
<tr>
<td>59247</td>
<td>200</td>
<td>杠杆倍数过高，当前仓位已超过该杠杆倍数的最大仓位，请重新调整杠杆倍数</td>
</tr>
<tr>
<td>59260</td>
<td>200</td>
<td>您还不是现货带单交易员，请先在网页端/移动端完成申请</td>
</tr>
<tr>
<td>59262</td>
<td>200</td>
<td>您还不是合约带单交易员，请先完成申请</td>
</tr>
<tr>
<td>59641</td>
<td>200</td>
<td>由于您当前有定期借币，无法切换账户模式</td>
</tr>
<tr>
<td>59642</td>
<td>200</td>
<td>跟单和带单员只能使用现货或现货和合约模式</td>
</tr>
<tr>
<td>59643</td>
<td>200</td>
<td>当前存在现货跟单，暂不可切换</td>
</tr>
<tr>
<td>59263</td>
<td>200</td>
<td>仅白名单用户支持使用跟单功能，独立经纪商请联系 BD 进行处理</td>
</tr>
<tr>
<td>59264</td>
<td>200</td>
<td>不支持现货跟单</td>
</tr>
<tr>
<td>59267</td>
<td>200</td>
<td>取消失败，跟单关系不存在</td>
</tr>
<tr>
<td>59268</td>
<td>200</td>
<td>存在交易员未带单的产品</td>
</tr>
<tr>
<td>59269</td>
<td>200</td>
<td>该合约交易员不存在</td>
</tr>
<tr>
<td>59270</td>
<td>200</td>
<td>固定金额跟单时，最大跟单金额 (copyTotalAmt) 需要大于等于单笔跟单金额 (copyAmt)</td>
</tr>
<tr>
<td>59273</td>
<td>200</td>
<td>您还不是合约跟单用户，请先开始跟单</td>
</tr>
<tr>
<td>59275</td>
<td>200</td>
<td>操作失败，您正在申请成为交易员，无法跟单</td>
</tr>
<tr>
<td>59276</td>
<td>200</td>
<td>交易员正在退出，当前无法跟单</td>
</tr>
<tr>
<td>59277</td>
<td>200</td>
<td>到达跟单人数上限，不允许继续跟单</td>
</tr>
<tr>
<td>59278</td>
<td>200</td>
<td>正在处理您的停止跟单请求，请稍后再试</td>
</tr>
<tr>
<td>59279</td>
<td>200</td>
<td>您已设置跟单，请勿重复设置</td>
</tr>
<tr>
<td>59280</td>
<td>200</td>
<td>跟单关系不存在，请先进行首次设置</td>
</tr>
<tr>
<td>59282</td>
<td>200</td>
<td>仅主账号在白名单中的独立经纪商 ND 子账户支持使用该接口，请联系 BD 进行处理</td>
</tr>
<tr>
<td>59283</td>
<td>200</td>
<td>当前账户不在现货和合约模式</td>
</tr>
<tr>
<td>59284</td>
<td>200</td>
<td>超过本月 {param0} 次调整上限</td>
</tr>
<tr>
<td>59286</td>
<td>200</td>
<td>当前账户模式为现货模式，无法成为合约带单人</td>
</tr>
<tr>
<td>59287</td>
<td>200</td>
<td>请使用 {param0}-{param1} 范围内的分润比例</td>
</tr>
<tr>
<td>59288</td>
<td>200</td>
<td>您当前身份为带单交易员。您的账户正处于组合保证金模式，请切换至现货和合约模式或跨币种模式后重试</td>
</tr>
<tr>
<td>59130</td>
<td>200</td>
<td>最高止盈比例为 {num}%，请重新输入</td>
</tr>
<tr>
<td>59258</td>
<td>200</td>
<td>您当前身份为带单交易员，暂不支持该操作</td>
</tr>
<tr>
<td>59259</td>
<td>200</td>
<td>请输入在有效范围内的跟单比例</td>
</tr>
<tr>
<td>59285</td>
<td>200</td>
<td>您尚未进行过带单或跟单操作</td>
</tr>
</tbody></table>
<h3 id="error-code-rest-api-trading-bot">策略交易 </h3>
<p>错误码从 55100 到 55999</p>

<table><thead>
<tr>
<th>错误码</th>
<th>HTTP 状态码</th>
<th>错误提示</th>
</tr>
</thead><tbody>
<tr>
<td>55100</td>
<td>200</td>
<td>止盈百分比应在 {parameter1} ~ {parameter2} 的范围内</td>
</tr>
<tr>
<td>55101</td>
<td>200</td>
<td>止损百分比应在 {parameter1} ~ {parameter2} 的范围内</td>
</tr>
<tr>
<td>55102</td>
<td>200</td>
<td>止盈百分比需大于当前策略收益率</td>
</tr>
<tr>
<td>55103</td>
<td>200</td>
<td>止损百分比需小于当前策略收益率</td>
</tr>
<tr>
<td>55104</td>
<td>200</td>
<td>仅合约网格支持按收益率百分比止盈止损</td>
</tr>
<tr>
<td>55105</td>
<td>200</td>
<td>当前状态不支持加仓操作</td>
</tr>
<tr>
<td>55106</td>
<td>200</td>
<td>加仓金额应在 {parameter1} ~ {parameter2} 的范围内</td>
</tr>
<tr>
<td>55111</td>
<td>200</td>
<td>此信号名称正在使用中，请尝试新名称</td>
</tr>
<tr>
<td>55112</td>
<td>200</td>
<td>此信号不存在</td>
</tr>
<tr>
<td>55113</td>
<td>200</td>
<td>创建信号策略的杠杆倍数大于交易产品列的最大杠杆倍数</td>
</tr>
<tr>
<td>55116</td>
<td>200</td>
<td>每个交易对只能进行一笔追逐限价委托</td>
</tr>
</tbody></table>
<h2 id="error-code-websocket">WebSocket </h2>
<p>WebSocket 错误消息均为英文，中文错误消息仅供参考</p>
<h3 id="error-code-websocket-public">公共 </h3>
<p>错误码从 60000 到 64002</p>
<h4 id="64b57cadc4">通用类</h4>
<table><thead>
<tr>
<th>错误码</th>
<th>错误消息</th>
</tr>
</thead><tbody>
<tr>
<td>60004</td>
<td>无效的 timestamp</td>
</tr>
<tr>
<td>60005</td>
<td>无效的 apiKey</td>
</tr>
<tr>
<td>60006</td>
<td>请求时间戳过期</td>
</tr>
<tr>
<td>60007</td>
<td>无效的签名</td>
</tr>
<tr>
<td>60008</td>
<td>当前服务不支持订阅{0}频道，请检查WebSocket地址</td>
</tr>
<tr>
<td>60009</td>
<td>登录失败</td>
</tr>
<tr>
<td>60011</td>
<td>用户需要登录</td>
</tr>
<tr>
<td>60012</td>
<td>不合法的请求</td>
</tr>
<tr>
<td>60013</td>
<td>无效的参数 args</td>
</tr>
<tr>
<td>60014</td>
<td>用户请求频率过快，超过该接口允许的限额</td>
</tr>
<tr>
<td>60018</td>
<td>错误的 URL 或者 {0} 不存在，请参考 API 文档使用正确的 URL，频道和参数</td>
</tr>
<tr>
<td>60019</td>
<td>无效的op{0}</td>
</tr>
<tr>
<td>60020</td>
<td>超出最大允许订阅的APIKey数量{0}</td>
</tr>
<tr>
<td>60021</td>
<td>该功能不支持多账户登录使用</td>
</tr>
<tr>
<td>60022</td>
<td>批量登录部分成功</td>
</tr>
<tr>
<td>60023</td>
<td>批量登录请求过于频繁</td>
</tr>
<tr>
<td>60024</td>
<td>passphrase不正确</td>
</tr>
<tr>
<td>60025</td>
<td>超出最大允许订阅的token数量{0}</td>
</tr>
<tr>
<td>60026</td>
<td>不支持APIKey和token同时登录</td>
</tr>
<tr>
<td>60027</td>
<td>参数{0}不可为空</td>
</tr>
<tr>
<td>60028</td>
<td>当前服务不支持此功能，请检查WebSocket地址</td>
</tr>
<tr>
<td>60029</td>
<td>该频道仅支持手续费等级为 VIP5 及以上的用户订阅使用</td>
</tr>
<tr>
<td>60030</td>
<td>books50-l2-tbt 深度频道仅支持手续费等级为 VIP4 及以上的用户订阅使用</td>
</tr>
<tr>
<td>60031</td>
<td>WebSocket地址不支持多账户和重复登录</td>
</tr>
<tr>
<td>60032</td>
<td>API key 不存在</td>
</tr>
<tr>
<td>63999</td>
<td>由于内部错误，登录失败，请稍后重试。</td>
</tr>
<tr>
<td>64000</td>
<td>订阅参数 uly 已失效，请您尽快将 uly 替换为 instFamily，更多详情可参考: https://www.okx.com/cn/help-center/changes-to-v5-api-websocket-subscription-parameter-and-url.</td>
</tr>
<tr>
<td>64001</td>
<td>该频道到已经迁移到了 '/business' URL，请使用新的 URL。更多详情可参考：https://www.okx.com/cn/help-center/changes-to-v5-api-websocket-subscription-parameter-and-url.</td>
</tr>
<tr>
<td>64002</td>
<td>"/business" URL 不支持该频道. 请使用"/private" URL(对于私有频道), 或者"/public" URL(对于公有频道)，更多详情可参考：https://www.okx.com/cn/help-center/changes-to-v5-api-websocket-subscription-parameter-and-url.</td>
</tr>
<tr>
<td>64003</td>
<td>用户交易费等级不支持访问该频道</td>
</tr>
</tbody></table>
<h4 id="bdd1f04e55">关闭帧</h4>
<table><thead>
<tr>
<th>状态码</th>
<th>文案</th>
</tr>
</thead><tbody>
<tr>
<td>1009</td>
<td>用户订阅请求过大</td>
</tr>
<tr>
<td>4001</td>
<td>登录失败</td>
</tr>
<tr>
<td>4002</td>
<td>参数不合法</td>
</tr>
<tr>
<td>4003</td>
<td>登录账户多于100个</td>
</tr>
<tr>
<td>4004</td>
<td>空闲超时30秒</td>
</tr>
<tr>
<td>4005</td>
<td>写缓冲区满</td>
</tr>
<tr>
<td>4006</td>
<td>异常场景关闭</td>
</tr>
<tr>
<td>4007</td>
<td>API key已更新或删除，请重新连接</td>
</tr>
<tr>
<td>4008</td>
<td>总订阅频道数量超过最大限制</td>
</tr>
<tr>
<td>4009</td>
<td>该连接订阅频道数超限制</td>
</tr>
</tbody></table>
<aside class="notice">
请注意：此页面展示的产品与服务是否可用，将视您所在的地区而定。请参阅您所在地区适用的服务条款了解更多详情。
</aside>

        </div>
        <div class="dark-box">
            <div class="lang-selector" style="width: 584.26px;">
                  <a href="https://www.okx.com/docs-v5/zh/#" data-language-name="shell" class="active">HTTP</a>
                  <a href="https://www.okx.com/docs-v5/zh/#" data-language-name="python">Python</a>
            </div>
        </div>
    </div>
    <!-- monitor page -->
        <script>
          window.okGlobal = { envSign: 'prod' };
        </script>
        <script src="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/index.js.下载"></script>
        <script src="./概览 – 欧易 API接入指南 _ 欧易技术对接 _ 欧易_files/index(1).js.下载"></script>

  

</body></html>